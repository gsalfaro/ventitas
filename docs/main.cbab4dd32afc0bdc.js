(self.webpackChunkapp_ventitas=self.webpackChunkapp_ventitas||[]).push([[179],{2011:(ct,Ie,k)=>{"use strict";k.d(Ie,{hO:()=>He,xv:()=>se,Dh:()=>re,GT:()=>ge,cc:()=>Me,on:()=>j,pX:()=>ae});var l=k(5e3),V=k(127),R=k(6351);ct=k.hmd(ct);const ne=["ngOnDestroy"],ae=(ie,me,Se,De={})=>new Proxy(ie,{get:(Ze,Ae)=>Se.runOutsideAngular(()=>{var lt;if(ie[Ae])return(null===(lt=null==De?void 0:De.spy)||void 0===lt?void 0:lt.get)&&De.spy.get(Ae,ie[Ae]),ie[Ae];if(ne.indexOf(Ae)>-1)return()=>{};const Qe=me.toPromise().then(yt=>{const J=yt&&yt[Ae];return"function"==typeof J?J.bind(yt):J&&J.then?J.then(_e=>Se.run(()=>_e)):Se.run(()=>J)});return new Proxy(()=>{},{get:(yt,J)=>Qe[J],apply:(yt,J,_e)=>Qe.then(ye=>{var Ee;const Be=ye&&ye(..._e);return(null===(Ee=null==De?void 0:De.spy)||void 0===Ee?void 0:Ee.apply)&&De.spy.apply(Ae,_e,Be),Be})})})}),ge=(ie,me)=>{me.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(De=>{Object.defineProperty(ie.prototype,De,Object.getOwnPropertyDescriptor(Se.prototype||Se,De))})})};class ue{constructor(me){return me}}const re=new l.OlP("angularfire2.app.options"),se=new l.OlP("angularfire2.app.name");function j(ie,me,Se){const Ze="object"==typeof Se&&Se||{};Ze.name=Ze.name||"string"==typeof Se&&Se||"[DEFAULT]";const lt=V.Z.apps.filter(Qe=>Qe&&Qe.name===Ze.name)[0]||me.runOutsideAngular(()=>V.Z.initializeApp(ie,Ze));try{JSON.stringify(ie)!==JSON.stringify(lt.options)&&G("error",`${lt.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return new ue(lt)}const G=(ie,...me)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ie](...me)},ee={provide:ue,useFactory:j,deps:[re,l.R0b,[new l.FiY,se]]};let He=(()=>{class ie{constructor(Se){V.Z.registerVersion("angularfire",R.q4.full,"core"),V.Z.registerVersion("angularfire",R.q4.full,"app-compat"),V.Z.registerVersion("angular",l.q4F.full,Se.toString())}static initializeApp(Se,De){return{ngModule:ie,providers:[{provide:re,useValue:Se},{provide:se,useValue:De}]}}}return ie.\u0275fac=function(Se){return new(Se||ie)(l.LFG(l.Lbi))},ie.\u0275mod=l.oAB({type:ie}),ie.\u0275inj=l.cJS({providers:[ee]}),ie})();function Me(ie,me,Se,De,Ze){const[,Ae,lt]=globalThis.\u0275AngularfireInstanceCache.find(Qe=>Qe[0]===ie)||[];if(Ae)return function Fe(ie,me){try{return ie.toString()===me.toString()}catch(Se){return ie===me}}(Ze,lt)||(Y("error",`${me} was already initialized on the ${Se} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),Y("warn",{is:Ze,was:lt})),Ae;{const Qe=De();return globalThis.\u0275AngularfireInstanceCache.push([ie,Qe,Ze]),Qe}}const $e=!!ct.hot,Y=(ie,...me)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ie](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(ct,Ie,k)=>{"use strict";k.d(Ie,{q4:()=>pu,iC:()=>mo,HU:()=>Eh,vb:()=>t_,JM:()=>Oa,u3:()=>_o});var l=k(5e3),V=k(5867),R=k(5861),ne=k(9681),ae=k(2090),ge=k(4859),ue=k(1877),re=k(2940);const se="@firebase/installations",j="0.5.5",ee=`w:${j}`,He="FIS_v2",me=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function De({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ze(E){return{token:E.token,requestStatus:2,expiresIn:ye(E.expiresIn),creationTime:Date.now()}}function Ae(E,C){return lt.apply(this,arguments)}function lt(){return(lt=(0,R.Z)(function*(E,C){const L=(yield C.json()).error;return me.create("request-failed",{requestName:E,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Qe({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function yt(E,{refreshToken:C}){const x=Qe(E);return x.append("Authorization",function Ee(E){return`${He} ${E}`}(C)),x}function J(E){return _e.apply(this,arguments)}function _e(){return(_e=(0,R.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function ye(E){return Number(E.replace("s","000"))}function Be(E,C){return he.apply(this,arguments)}function he(){return(he=(0,R.Z)(function*(E,{fid:C}){const x=De(E),le={method:"POST",headers:Qe(E),body:JSON.stringify({fid:C,authVersion:He,appId:E.appId,sdkVersion:ee})},ke=yield J(()=>fetch(x,le));if(ke.ok){const it=yield ke.json();return{fid:it.fid||C,registrationStatus:2,refreshToken:it.refreshToken,authToken:Ze(it.authToken)}}throw yield Ae("Create Installation",ke)})).apply(this,arguments)}function St(E){return new Promise(C=>{setTimeout(C,E)})}const er=/^[cdef][\w-]{21}$/;function ft(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const x=function mr(E){return function en(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return er.test(x)?x:""}catch(E){return""}}function un(E){return`${E.appName}!${E.appId}`}const Ir=new Map;function Kt(E,C){const x=un(E);vn(x,C),function An(E,C){const x=function as(){return!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=E=>{vn(E.data.key,E.data.fid)}),Qt}();x&&x.postMessage({key:E,fid:C}),function ai(){0===Ir.size&&Qt&&(Qt.close(),Qt=null)}()}(x,C)}function vn(E,C){const x=Ir.get(E);if(x)for(const L of x)L(C)}let Qt=null;const bn="firebase-installations-store";let tr=null;function vt(){return tr||(tr=(0,re.openDb)("firebase-installations-database",1,E=>{0===E.oldVersion&&E.createObjectStore(bn)})),tr}function Cn(E,C){return qt.apply(this,arguments)}function qt(){return(qt=(0,R.Z)(function*(E,C){const x=un(E),K=(yield vt()).transaction(bn,"readwrite"),le=K.objectStore(bn),ke=yield le.get(x);return yield le.put(C,x),yield K.complete,(!ke||ke.fid!==C.fid)&&Kt(E,C.fid),C})).apply(this,arguments)}function In(E){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,R.Z)(function*(E){const C=un(E),L=(yield vt()).transaction(bn,"readwrite");yield L.objectStore(bn).delete(C),yield L.complete})).apply(this,arguments)}function Et(E,C){return ot.apply(this,arguments)}function ot(){return(ot=(0,R.Z)(function*(E,C){const x=un(E),K=(yield vt()).transaction(bn,"readwrite"),le=K.objectStore(bn),ke=yield le.get(x),it=C(ke);return void 0===it?yield le.delete(x):yield le.put(it,x),yield K.complete,it&&(!ke||ke.fid!==it.fid)&&Kt(E,it.fid),it})).apply(this,arguments)}function Ot(E){return gn.apply(this,arguments)}function gn(){return(gn=(0,R.Z)(function*(E){let C;const x=yield Et(E,L=>{const K=Hn(L),le=Ft(E,K);return C=le.registrationPromise,le.installationEntry});return""===x.fid?{installationEntry:yield C}:{installationEntry:x,registrationPromise:C}})).apply(this,arguments)}function Hn(E){return qi(E||{fid:ft(),registrationStatus:0})}function Ft(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(me.create("app-offline"))};const x={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},L=function nt(E,C){return pt.apply(this,arguments)}(E,x);return{installationEntry:x,registrationPromise:L}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:ia(E)}:{installationEntry:C}}function pt(){return(pt=(0,R.Z)(function*(E,C){try{return Cn(E,yield Be(E,C))}catch(x){throw Se(x)&&409===x.customData.serverCode?yield In(E):yield Cn(E,{fid:C.fid,registrationStatus:0}),x}})).apply(this,arguments)}function ia(E){return ln.apply(this,arguments)}function ln(){return(ln=(0,R.Z)(function*(E){let C=yield bt(E);for(;1===C.registrationStatus;)yield St(100),C=yield bt(E);if(0===C.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield Ot(E);return L||x}return C})).apply(this,arguments)}function bt(E){return Et(E,C=>{if(!C)throw me.create("installation-not-found");return qi(C)})}function qi(E){return function sn(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Yr(E,C){return U.apply(this,arguments)}function U(){return(U=(0,R.Z)(function*({appConfig:E,platformLoggerProvider:C},x){const L=W(E,x),K=yt(E,x),le=C.getImmediate({optional:!0});le&&K.append("x-firebase-client",le.getPlatformInfoString());const it={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:ee}})},ze=yield J(()=>fetch(L,it));if(ze.ok)return Ze(yield ze.json());throw yield Ae("Generate Auth Token",ze)})).apply(this,arguments)}function W(E,{fid:C}){return`${De(E)}/${C}/authTokens:generate`}function z(E){return we.apply(this,arguments)}function we(){return(we=(0,R.Z)(function*(E,C=!1){let x;const L=yield Et(E.appConfig,le=>{if(!Wn(le))throw me.create("not-registered");const ke=le.authToken;if(!C&&ur(ke))return le;if(1===ke.requestStatus)return x=te(E,C),le;{if(!navigator.onLine)throw me.create("app-offline");const it=oe(le);return x=cn(E,it),it}});return x?yield x:L.authToken})).apply(this,arguments)}function te(E,C){return Je.apply(this,arguments)}function Je(){return(Je=(0,R.Z)(function*(E,C){let x=yield Dt(E.appConfig);for(;1===x.authToken.requestStatus;)yield St(100),x=yield Dt(E.appConfig);const L=x.authToken;return 0===L.requestStatus?z(E,C):L})).apply(this,arguments)}function Dt(E){return Et(E,C=>{if(!Wn(C))throw me.create("not-registered");return function q(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function cn(E,C){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,R.Z)(function*(E,C){try{const x=yield Yr(E,C),L=Object.assign(Object.assign({},C),{authToken:x});return yield Cn(E.appConfig,L),x}catch(x){if(!Se(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Cn(E.appConfig,L)}else yield In(E.appConfig);throw x}})).apply(this,arguments)}function Wn(E){return void 0!==E&&2===E.registrationStatus}function ur(E){return 2===E.requestStatus&&!function Lt(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+36e5}(E)}function oe(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}function Ce(){return(Ce=(0,R.Z)(function*(E){const C=E,{installationEntry:x,registrationPromise:L}=yield Ot(C.appConfig);return L?L.catch(console.error):z(C).catch(console.error),x.fid})).apply(this,arguments)}function Nt(){return(Nt=(0,R.Z)(function*(E,C=!1){const x=E;return yield gt(x.appConfig),(yield z(x,C)).token})).apply(this,arguments)}function gt(E){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,R.Z)(function*(E){const{registrationPromise:C}=yield Ot(E);C&&(yield C)})).apply(this,arguments)}function sa(E){return me.create("missing-app-config-values",{valueName:E})}const li="installations",xt=E=>{const C=E.getProvider("app").getImmediate(),x=function Sr(E){if(!E||!E.options)throw sa("App Configuration");if(!E.name)throw sa("App Name");const C=["projectId","apiKey","appId"];for(const x of C)if(!E.options[x])throw sa(x);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:x,platformLoggerProvider:(0,ne._getProvider)(C,"platform-logger"),_delete:()=>Promise.resolve()}},Wt=E=>{const C=E.getProvider("app").getImmediate(),x=(0,ne._getProvider)(C,li).getImmediate();return{getId:()=>function H(E){return Ce.apply(this,arguments)}(x),getToken:K=>function Ke(E){return Nt.apply(this,arguments)}(x,K)}};(function nr(){(0,ne._registerComponent)(new ge.wA(li,xt,"PUBLIC")),(0,ne._registerComponent)(new ge.wA("installations-internal",Wt,"PRIVATE"))})(),(0,ne.registerVersion)(se,j),(0,ne.registerVersion)(se,j,"esm2017");const Ss="@firebase/remote-config",qn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class la{constructor(C,x,L,K){this.client=C,this.storage=x,this.storageCache=L,this.logger=K}isCachedDataFresh(C,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,K=L<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${K}.`),K}fetch(C){var x=this;return(0,R.Z)(function*(){const[L,K]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(K&&x.isCachedDataFresh(C.cacheMaxAgeMillis,L))return K;C.eTag=K&&K.eTag;const le=yield x.client.fetch(C),ke=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&ke.push(x.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(ke),le})()}}function Ap(E=navigator){return E.languages&&E.languages[0]||E.language}class Ar{constructor(C,x,L,K,le,ke){this.firebaseInstallations=C,this.sdkVersion=x,this.namespace=L,this.projectId=K,this.apiKey=le,this.appId=ke}fetch(C){var x=this;return(0,R.Z)(function*(){const[L,K]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,it={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},ze={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:K,app_id:x.appId,language_code:Ap()},$t={method:"POST",headers:it,body:JSON.stringify(ze)},on=fetch(ke,$t),Ur=new Promise((ir,fi)=>{C.signal.addEventListener(()=>{const Ti=new Error("The operation was aborted.");Ti.name="AbortError",fi(Ti)})});let br;try{yield Promise.race([on,Ur]),br=yield on}catch(ir){let fi="fetch-client-network";throw"AbortError"===ir.name&&(fi="fetch-timeout"),qn.create(fi,{originalErrorMessage:ir.message})}let Un=br.status;const yo=br.headers.get("ETag")||void 0;let yu,Bi;if(200===br.status){let ir;try{ir=yield br.json()}catch(fi){throw qn.create("fetch-client-parse",{originalErrorMessage:fi.message})}yu=ir.entries,Bi=ir.state}if("INSTANCE_STATE_UNSPECIFIED"===Bi?Un=500:"NO_CHANGE"===Bi?Un=304:("NO_TEMPLATE"===Bi||"EMPTY_CONFIG"===Bi)&&(yu={}),304!==Un&&200!==Un)throw qn.create("fetch-status",{httpStatus:Un});return{status:Un,eTag:yo,config:yu}})()}}class uh{constructor(C,x){this.client=C,this.storage=x}fetch(C){var x=this;return(0,R.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(C,L)})()}attemptFetch(C,{throttleEndTimeMillis:x,backoffCount:L}){var K=this;return(0,R.Z)(function*(){yield function ah(E,C){return new Promise((x,L)=>{const K=Math.max(C-Date.now(),0),le=setTimeout(x,K);E.addEventListener(()=>{clearTimeout(le),L(qn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,x);try{const le=yield K.client.fetch(C);return yield K.storage.deleteThrottleMetadata(),le}catch(le){if(!function vc(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(le))throw le;const ke={throttleEndTimeMillis:Date.now()+(0,ae.$s)(L),backoffCount:L+1};return yield K.storage.setThrottleMetadata(ke),K.attemptFetch(C,ke)}})()}}class Dc{constructor(C,x,L,K,le){this.app=C,this._client=x,this._storageCache=L,this._storage=K,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zu(E,C){const x=E.target.error||void 0;return qn.create(C,{originalErrorMessage:x&&x.message})}const Ns="app_namespace_store";class Ec{constructor(C,x,L,K=function Np(){return new Promise((E,C)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{C(zu(L,"storage-open"))},x.onsuccess=L=>{E(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ns,{keyPath:"compositeKey"})}}catch(x){C(qn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=C,this.appName=x,this.namespace=L,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var x=this;return(0,R.Z)(function*(){const L=yield x.openDbPromise;return new Promise((K,le)=>{const it=L.transaction([Ns],"readonly").objectStore(Ns),ze=x.createCompositeKey(C);try{const $t=it.get(ze);$t.onerror=on=>{le(zu(on,"storage-get"))},$t.onsuccess=on=>{const Ur=on.target.result;K(Ur?Ur.value:void 0)}}catch($t){le(qn.create("storage-get",{originalErrorMessage:$t&&$t.message}))}})})()}set(C,x){var L=this;return(0,R.Z)(function*(){const K=yield L.openDbPromise;return new Promise((le,ke)=>{const ze=K.transaction([Ns],"readwrite").objectStore(Ns),$t=L.createCompositeKey(C);try{const on=ze.put({compositeKey:$t,value:x});on.onerror=Ur=>{ke(zu(Ur,"storage-set"))},on.onsuccess=()=>{le()}}catch(on){ke(qn.create("storage-set",{originalErrorMessage:on&&on.message}))}})})()}delete(C){var x=this;return(0,R.Z)(function*(){const L=yield x.openDbPromise;return new Promise((K,le)=>{const it=L.transaction([Ns],"readwrite").objectStore(Ns),ze=x.createCompositeKey(C);try{const $t=it.delete(ze);$t.onerror=on=>{le(zu(on,"storage-delete"))},$t.onsuccess=()=>{K()}}catch($t){le(qn.create("storage-delete",{originalErrorMessage:$t&&$t.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Mp{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,R.Z)(function*(){const x=C.storage.getLastFetchStatus(),L=C.storage.getLastSuccessfulFetchTimestampMillis(),K=C.storage.getActiveConfig(),le=yield x;le&&(C.lastFetchStatus=le);const ke=yield L;ke&&(C.lastSuccessfulFetchTimestampMillis=ke);const it=yield K;it&&(C.activeConfig=it)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Op(){return ca.apply(this,arguments)}function ca(){return(ca=(0,R.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(E){return!1}})).apply(this,arguments)}!function Tc(){(0,ne._registerComponent)(new ge.wA("remote-config",function E(C,{instanceIdentifier:x}){const L=C.getProvider("app").getImmediate(),K=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw qn.create("registration-window");if(!(0,ae.hl)())throw qn.create("indexed-db-unavailable");const{projectId:le,apiKey:ke,appId:it}=L.options;if(!le)throw qn.create("registration-project-id");if(!ke)throw qn.create("registration-api-key");if(!it)throw qn.create("registration-app-id");const ze=new Ec(it,L.name,x=x||"firebase"),$t=new Mp(ze),on=new ue.Yd(Ss);on.logLevel=ue.in.ERROR;const Ur=new Ar(K,ne.SDK_VERSION,x,le,ke,it),br=new uh(Ur,ze),Un=new la(br,ze,$t,on),yo=new Dc(L,Un,$t,ze,on);return function mn(E){const C=(0,ae.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(yo),yo},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(Ss,"0.3.4"),(0,ne.registerVersion)(Ss,"0.3.4","esm2017")}();const xp="/firebase-messaging-sw.js",cs="/firebase-cloud-messaging-push-scope",Zu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ds="google.c.a.c_id",hs="google.c.a.c_l",Cc="google.c.a.ts",Qr="google.c.a.e";var xo=(()=>{return(E=xo||(xo={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",xo;var E})();function di(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dh(E){const x=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),K=new Uint8Array(L.length);for(let le=0;le<L.length;++le)K[le]=L.charCodeAt(le);return K}const Nr="fcm_token_details_db",nu="fcm_token_object_Store";function Ic(E){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,R.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Nr))return null;let C=null;return(yield(0,re.openDb)(Nr,5,function(){var L=(0,R.Z)(function*(K){var le;if(K.oldVersion<2||!K.objectStoreNames.contains(nu))return;const ke=K.transaction.objectStore(nu),it=yield ke.index("fcmSenderId").get(E);if(yield ke.clear(),it)if(2===K.oldVersion){const ze=it;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;C={token:ze.fcmToken,createTime:null!==(le=ze.createTime)&&void 0!==le?le:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:di(ze.vapidKey)}}}else if(3===K.oldVersion){const ze=it;C={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:di(ze.auth),p256dh:di(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:di(ze.vapidKey)}}}else if(4===K.oldVersion){const ze=it;C={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:di(ze.auth),p256dh:di(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:di(ze.vapidKey)}}}});return function(K){return L.apply(this,arguments)}}())).close(),yield(0,re.deleteDb)(Nr),yield(0,re.deleteDb)("fcm_vapid_details_db"),yield(0,re.deleteDb)("undefined"),da(C)?C:null}),Sc.apply(this,arguments)}function da(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Ms="firebase-messaging-store";let ko=null;function Vn(){return ko||(ko=(0,re.openDb)("firebase-messaging-database",1,E=>{0===E.oldVersion&&E.createObjectStore(Ms)})),ko}function ru(E){return bi.apply(this,arguments)}function bi(){return(bi=(0,R.Z)(function*(E){const C=fs(E),L=yield(yield Vn()).transaction(Ms).objectStore(Ms).get(C);if(L)return L;{const K=yield Ic(E.appConfig.senderId);if(K)return yield Fr(E,K),K}})).apply(this,arguments)}function Fr(E,C){return cr.apply(this,arguments)}function cr(){return(cr=(0,R.Z)(function*(E,C){const x=fs(E),K=(yield Vn()).transaction(Ms,"readwrite");return yield K.objectStore(Ms).put(C,x),yield K.complete,C})).apply(this,arguments)}function iu(E){return ha.apply(this,arguments)}function ha(){return(ha=(0,R.Z)(function*(E){const C=fs(E),L=(yield Vn()).transaction(Ms,"readwrite");yield L.objectStore(Ms).delete(C),yield L.complete})).apply(this,arguments)}function fs({appConfig:E}){return E.appId}const On=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fa(E,C){return Po.apply(this,arguments)}function Po(){return(Po=(0,R.Z)(function*(E,C){const x=yield su(E),L=so(C),K={method:"POST",headers:x,body:JSON.stringify(L)};let le;try{le=yield(yield fetch(ro(E.appConfig),K)).json()}catch(ke){throw On.create("token-subscribe-failed",{errorInfo:ke})}if(le.error)throw On.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw On.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Fi(E,C){return Os.apply(this,arguments)}function Os(){return(Os=(0,R.Z)(function*(E,C){const x=yield su(E),L=so(C.subscriptionOptions),K={method:"PATCH",headers:x,body:JSON.stringify(L)};let le;try{le=yield(yield fetch(`${ro(E.appConfig)}/${C.token}`,K)).json()}catch(ke){throw On.create("token-update-failed",{errorInfo:ke})}if(le.error)throw On.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw On.create("token-update-no-token");return le.token})).apply(this,arguments)}function no(E,C){return dt.apply(this,arguments)}function dt(){return(dt=(0,R.Z)(function*(E,C){const L={method:"DELETE",headers:yield su(E)};try{const le=yield(yield fetch(`${ro(E.appConfig)}/${C}`,L)).json();if(le.error)throw On.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(K){throw On.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function ro({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function su(E){return io.apply(this,arguments)}function io(){return(io=(0,R.Z)(function*({appConfig:E,installations:C}){const x=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function so({p256dh:E,auth:C,endpoint:x,vapidKey:L}){const K={web:{endpoint:x,auth:C,p256dh:E}};return L!==Zu&&(K.web.applicationPubKey=L),K}const ou=6048e5;function Yu(E){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,R.Z)(function*(E){const C=yield Jr(E.swRegistration,E.vapidKey),x={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:di(C.getKey("auth")),p256dh:di(C.getKey("p256dh"))},L=yield ru(E.firebaseDependencies);if(L){if(pa(L.subscriptionOptions,x))return Date.now()>=L.createTime+ou?au(E,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield no(E.firebaseDependencies,L.token)}catch(K){console.warn(K)}return Fo(E.firebaseDependencies,x)}return Fo(E.firebaseDependencies,x)})).apply(this,arguments)}function xe(E){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*(E){const C=yield ru(E.firebaseDependencies);C&&(yield no(E.firebaseDependencies,C.token),yield iu(E.firebaseDependencies));const x=yield E.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function au(E,C){return dn.apply(this,arguments)}function dn(){return(dn=(0,R.Z)(function*(E,C){try{const x=yield Fi(E.firebaseDependencies,C),L=Object.assign(Object.assign({},C),{token:x,createTime:Date.now()});return yield Fr(E.firebaseDependencies,L),x}catch(x){throw yield xe(E),x}})).apply(this,arguments)}function Fo(E,C){return oo.apply(this,arguments)}function oo(){return(oo=(0,R.Z)(function*(E,C){const L={token:yield fa(E,C),createTime:Date.now(),subscriptionOptions:C};return yield Fr(E,L),L.token})).apply(this,arguments)}function Jr(E,C){return xs.apply(this,arguments)}function xs(){return(xs=(0,R.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dh(C)})})).apply(this,arguments)}function pa(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}function ga(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ju(E,C){if(!C.notification)return;E.notification={};const x=C.notification.title;x&&(E.notification.title=x);const L=C.notification.body;L&&(E.notification.body=L);const K=C.notification.image;K&&(E.notification.image=K)}(C,E),function ma(E,C){!C.data||(E.data=C.data)}(C,E),function Lo(E,C){if(!C.fcmOptions)return;E.fcmOptions={};const x=C.fcmOptions.link;x&&(E.fcmOptions.link=x);const L=C.fcmOptions.analytics_label;L&&(E.fcmOptions.analyticsLabel=L)}(C,E),C}function yr(E){return"object"==typeof E&&!!E&&ds in E}function Di(E,C){const x=[];for(let L=0;L<E.length;L++)x.push(E.charAt(L)),L<C.length&&x.push(C.charAt(L));return x.join("")}function Li(E){return On.create("missing-app-config-values",{valueName:E})}Di("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Di("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ps{constructor(C,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Ac(E){if(!E||!E.options)throw Li("App Configuration Object");if(!E.name)throw Li("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:x}=E;for(const L of C)if(!x[L])throw Li(L);return{appName:E.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:K,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function uu(E){return ao.apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(xp,{scope:cs}),E.swRegistration.update().catch(()=>{})}catch(C){throw On.create("failed-service-worker-registration",{browserErrorMessage:C.message})}})).apply(this,arguments)}function Xu(E,C){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,R.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield uu(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function el(E,C){return uo.apply(this,arguments)}function uo(){return(uo=(0,R.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=Zu)})).apply(this,arguments)}function lo(){return(lo=(0,R.Z)(function*(E,C){if(!navigator)throw On.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw On.create("permission-blocked");return yield el(E,null==C?void 0:C.vapidKey),yield Xu(E,null==C?void 0:C.serviceWorkerRegistration),Yu(E)})).apply(this,arguments)}function hh(E,C,x){return _a.apply(this,arguments)}function _a(){return(_a=(0,R.Z)(function*(E,C,x){const L=ya(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[ds],message_name:x[hs],message_time:x[Cc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ya(E){switch(E){case xo.NOTIFICATION_CLICKED:return"notification_open";case xo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rl(){return(rl=(0,R.Z)(function*(E,C){const x=C.data;if(!x.isFirebaseMessaging)return;E.onMessageHandler&&x.messageType===xo.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(ga(x)):E.onMessageHandler.next(ga(x)));const L=x.data;yr(L)&&"1"===L[Qr]&&(yield hh(E,x.messageType,L))})).apply(this,arguments)}const va="@firebase/messaging",Uo=E=>{const C=new ps(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function nl(E,C){return rl.apply(this,arguments)}(C,x)),C},Rp=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:L=>function tl(E,C){return lo.apply(this,arguments)}(C,L)}};function rr(){return vr.apply(this,arguments)}function vr(){return(vr=(0,R.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kp(){(0,ne._registerComponent)(new ge.wA("messaging",Uo,"PUBLIC")),(0,ne._registerComponent)(new ge.wA("messaging-internal",Rp,"PRIVATE")),(0,ne.registerVersion)(va,"0.9.6"),(0,ne.registerVersion)(va,"0.9.6","esm2017")}();const Bo="analytics",jo="firebase_id",Pp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vi="https://www.googletagmanager.com/gtag/js",Kn=new ue.Yd("@firebase/analytics");function fh(E){return Promise.all(E.map(C=>C.catch(x=>x)))}function ph(E,C){const x=document.createElement("script");x.src=`${Vi}?l=${E}&id=${C}`,x.async=!0,document.head.appendChild(x)}function Mc(E,C,x,L,K,le){return co.apply(this,arguments)}function co(){return(co=(0,R.Z)(function*(E,C,x,L,K,le){const ke=L[K];try{if(ke)yield C[ke];else{const ze=(yield fh(x)).find($t=>$t.measurementId===K);ze&&(yield C[ze.appId])}}catch(it){Kn.error(it)}E("config",K,le)})).apply(this,arguments)}function gh(E,C,x,L,K){return mh.apply(this,arguments)}function mh(){return(mh=(0,R.Z)(function*(E,C,x,L,K){try{let le=[];if(K&&K.send_to){let ke=K.send_to;Array.isArray(ke)||(ke=[ke]);const it=yield fh(x);for(const ze of ke){const $t=it.find(Ur=>Ur.measurementId===ze),on=$t&&C[$t.appId];if(!on){le=[];break}le.push(on)}}0===le.length&&(le=Object.values(C)),yield Promise.all(le),E("event",L,K||{})}catch(le){Kn.error(le)}})).apply(this,arguments)}function xn(){const E=window.document.getElementsByTagName("script");for(const C of Object.values(E))if(C.src&&C.src.includes(Vi))return C;return null}const Lr=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oc=new class wa{constructor(C={},x=1e3){this.throttleMetadata=C,this.intervalMillis=x}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,x){this.throttleMetadata[C]=x}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Ea(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Xr(E){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,R.Z)(function*(E){var C;const{appId:x,apiKey:L}=E,K={method:"GET",headers:Ea(L)},le=Pp.replace("{app-id}",x),ke=yield fetch(le,K);if(200!==ke.status&&304!==ke.status){let it="";try{const ze=yield ke.json();(null===(C=ze.error)||void 0===C?void 0:C.message)&&(it=ze.error.message)}catch(ze){}throw Lr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:it})}return ke.json()})).apply(this,arguments)}function Yt(E){return st.apply(this,arguments)}function st(){return(st=(0,R.Z)(function*(E,C=Oc,x){const{appId:L,apiKey:K,measurementId:le}=E.options;if(!L)throw Lr.create("no-app-id");if(!K){if(le)return{measurementId:le,appId:L};throw Lr.create("no-api-key")}const ke=C.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Ta;return setTimeout((0,R.Z)(function*(){it.abort()}),void 0!==x?x:6e4),ll({appId:L,apiKey:K,measurementId:le},ke,it,C)})).apply(this,arguments)}function ll(E,C,x){return cl.apply(this,arguments)}function cl(){return(cl=(0,R.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:x},L,K=Oc){const{appId:le,measurementId:ke}=E;try{yield dl(L,C)}catch(it){if(ke)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:le,measurementId:ke};throw it}try{const it=yield Xr(E);return K.deleteThrottleMetadata(le),it}catch(it){if(!Go(it)){if(K.deleteThrottleMetadata(le),ke)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:le,measurementId:ke};throw it}const ze=503===Number(it.customData.httpStatus)?(0,ae.$s)(x,K.intervalMillis,30):(0,ae.$s)(x,K.intervalMillis),$t={throttleEndTimeMillis:Date.now()+ze,backoffCount:x+1};return K.setThrottleMetadata(le,$t),Kn.debug(`Calling attemptFetch again in ${ze} millis`),ll(E,$t,L,K)}})).apply(this,arguments)}function dl(E,C){return new Promise((x,L)=>{const K=Math.max(C-Date.now(),0),le=setTimeout(x,K);E.addEventListener(()=>{clearTimeout(le),L(Lr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Go(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Ta{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}function Ho(){return wi.apply(this,arguments)}function wi(){return(wi=(0,R.Z)(function*(){if(!(0,ae.hl)())return Kn.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(E){return Kn.warn(Lr.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function cu(){return(cu=(0,R.Z)(function*(E,C,x,L,K,le,ke){var it;const ze=Yt(E);ze.then(Un=>{x[Un.measurementId]=Un.appId,E.options.measurementId&&Un.measurementId!==E.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Un.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Un=>Kn.error(Un)),C.push(ze);const $t=Ho().then(Un=>{if(Un)return L.getId()}),[on,Ur]=yield Promise.all([ze,$t]);xn()||ph(le,on.measurementId),K("js",new Date);const br=null!==(it=null==ke?void 0:ke.config)&&void 0!==it?it:{};return br.origin="firebase",br.update=!0,null!=Ur&&(br[jo]=Ur),K("config",on.measurementId,br),on.measurementId})).apply(this,arguments)}class hl{constructor(C){this.app=C}_delete(){return delete Ki[this.app.options.appId],Promise.resolve()}}let Ki={},fl=[];const xc={};let Ps,Sn,Rs="dataLayer",Yi=!1;function wn(E,C,x){!function vh(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((L,K)=>`(${K+1}) ${L}`).join(" "),x=Lr.create("invalid-analytics-context",{errorInfo:C});Kn.warn(x.message)}}();const L=E.options.appId;if(!L)throw Lr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Lr.create("no-api-key");Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ki[L])throw Lr.create("already-exists",{id:L});if(!Yi){!function $o(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(Rs);const{wrappedGtag:le,gtagCore:ke}=function ul(E,C,x,L,K){let le=function(...ke){window[L].push(arguments)};return window[K]&&"function"==typeof window[K]&&(le=window[K]),window[K]=function Fp(E,C,x,L){function le(){return(le=(0,R.Z)(function*(ke,it,ze){try{"event"===ke?yield gh(E,C,x,it,ze):"config"===ke?yield Mc(E,C,x,L,it,ze):E("set",it)}catch($t){Kn.error($t)}})).apply(this,arguments)}return function K(ke,it,ze){return le.apply(this,arguments)}}(le,E,C,x),{gtagCore:le,wrappedGtag:window[K]}}(Ki,fl,xc,Rs,"gtag");Sn=le,Ps=ke,Yi=!0}return Ki[L]=function dr(E,C,x,L,K,le,ke){return cu.apply(this,arguments)}(E,fl,xc,C,Ps,Rs,x),new hl(E)}function Fs(){return(Fs=(0,R.Z)(function*(E,C,x,L,K){if(K&&K.global)E("event",x,L);else{const le=yield C;E("event",x,Object.assign(Object.assign({},L),{send_to:le}))}})).apply(this,arguments)}function bh(){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,R.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(E){return!1}})).apply(this,arguments)}const fo="@firebase/analytics";!function Yn(){(0,ne._registerComponent)(new ge.wA(Bo,(C,{options:x})=>wn(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ne._registerComponent)(new ge.wA("analytics-internal",function E(C){try{const x=C.getProvider(Bo).getImmediate();return{logEvent:(L,K,le)=>function Rc(E,C,x,L){E=(0,ae.m9)(E),function pl(E,C,x,L,K){return Fs.apply(this,arguments)}(Sn,Ki[E.app.options.appId],C,x,L).catch(K=>Kn.error(K))}(x,L,K,le)}}catch(x){throw Lr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ne.registerVersion)(fo,"0.7.5"),(0,ne.registerVersion)(fo,"0.7.5","esm2017")}();var po=k(233),Wo=k(4986),Pc=k(8306),Fc=k(8505),Pn=k(9468),En=k(5363);const pu=new l.GfV("7.2.0"),zo="__angularfire_symbol__analyticsIsSupported",go="__angularfire_symbol__remoteConfigIsSupported",Na="__angularfire_symbol__messagingIsSupported";function Oa(E,C,x){if(C){if(1===C.length)return C[0];const le=C.filter(ke=>ke.app===x);if(1===le.length)return le[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[zo]||(globalThis[zo]=bh().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[Na]||(globalThis[Na]=rr().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[go]||(globalThis[go]=Op().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const t_=(E,C)=>{const x=C?[C]:(0,V.C6)(),L=[];return x.forEach(K=>{K.container.getProvider(E).instances.forEach(ke=>{L.includes(ke)||L.push(ke)})}),L};function qo(){}class Vc{constructor(C,x=po.N){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,L){const K=this.zone;return this.delegate.schedule(function(ke){K.runGuarded(()=>{C.apply(this,[ke])})},x,L)}}class Vp{constructor(C){this.zone=C,this.task=null}call(C,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)),x.pipe((0,Fc.b)({next:L,complete:L,error:L})).subscribe(C).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Eh=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Vc(Zone.current)),this.insideAngular=x.run(()=>new Vc(Zone.current,Wo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ls(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function _l(E){return Ls().ngZone.runOutsideAngular(()=>E())}function Vs(E){return Ls().ngZone.run(()=>E())}function mo(E){return Ls(),function Us(E){return function(x){return(x=x.lift(new Vp(E.ngZone))).pipe((0,Pn.R)(E.outsideAngular),(0,En.Q)(E.insideAngular))}}(Ls())(E)}const Bs=(E,C)=>{const x=void 0;return function(){return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),Vs(()=>E.apply(x,arguments))}},_o=(E,C)=>function(){let x;for(let K=0;K<arguments.length;K++)"function"==typeof arguments[K]&&(C&&(x||(x=Vs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qo,{},qo,qo)))),arguments[K]=Bs(arguments[K],x));const L=_l(()=>E.apply(this,arguments));if(!C){if(L instanceof Pc.y){const K=Ls();return L.pipe((0,Pn.R)(K.outsideAngular),(0,En.Q)(K.insideAngular))}return Vs(()=>L)}return L instanceof Pc.y?L.pipe(mo):L instanceof Promise?Vs(()=>new Promise((K,le)=>L.then(ke=>Vs(()=>K(ke)),ke=>Vs(()=>le(ke))))):"function"==typeof L&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),L.apply(this,arguments)}:Vs(()=>L)}},5799:(ct,Ie,k)=>{"use strict";k.d(Ie,{$:()=>el,A:()=>ht,E:()=>As,G:()=>Ar,I:()=>Pi,K:()=>Ln,L:()=>ru,M:()=>iu,N:()=>ha,P:()=>L,Q:()=>fs,R:()=>Eh,T:()=>cr,U:()=>Po,V:()=>Fi,W:()=>su,X:()=>ga,Y:()=>ma,Z:()=>yr,_:()=>ps,a:()=>Ps,a0:()=>tl,a1:()=>hh,a2:()=>ya,a3:()=>rl,a4:()=>il,a5:()=>Rp,a6:()=>kp,a7:()=>vr,a8:()=>kn,a9:()=>Xm,aA:()=>Bc,aB:()=>Th,aC:()=>_r,aG:()=>Ca,aJ:()=>On,aa:()=>e_,ab:()=>Bo,ae:()=>Pp,af:()=>Kn,ag:()=>fh,aj:()=>Qu,ak:()=>_n,am:()=>ll,an:()=>wi,ao:()=>aa,ap:()=>tr,aq:()=>ls,ar:()=>Oo,as:()=>An,at:()=>Il,au:()=>Ah,av:()=>Qt,aw:()=>Ve,ax:()=>Cn,ay:()=>ci,az:()=>Ch,b:()=>Rs,c:()=>br,d:()=>Bi,e:()=>yo,f:()=>n_,g:()=>bl,h:()=>Bp,i:()=>po,j:()=>Ra,k:()=>Zp,l:()=>Zo,m:()=>f_,o:()=>St,r:()=>Us,s:()=>Vs,u:()=>C,z:()=>un});var l=k(5861),V=k(2090),R=k(9681);function ue(y,f){var m={};for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&f.indexOf(b)<0&&(m[b]=y[b]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(b=Object.getOwnPropertySymbols(y);S<b.length;S++)f.indexOf(b[S])<0&&Object.prototype.propertyIsEnumerable.call(y,b[S])&&(m[b[S]]=y[b[S]])}return m}var Ee=k(1877),Be=k(4859);const St={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ht={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const un=function ft(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ir=function mr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Kt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oi=new Ee.Yd("@firebase/auth");function vn(y,...f){oi.logLevel<=Ee.in.ERROR&&oi.error(`Auth (${R.SDK_VERSION}): ${y}`,...f)}function An(y,...f){throw ui(y,...f)}function Qt(y,...f){return ui(y,...f)}function as(y,f,m){const b=Object.assign(Object.assign({},Ir()),{[f]:m});return new V.LL("auth","Firebase",b).create(f,{appName:y.name})}function ai(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&An(y,"argument-error"),as(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ui(y,...f){if("string"!=typeof y){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return Kt.create(y,...f)}function Ve(y,f,...m){if(!y)throw ui(f,...m)}function bn(y){const f="INTERNAL ASSERTION FAILED: "+y;throw vn(f),new Error(f)}function tr(y,f){y||bn(f)}const vt=new Map;function Cn(y){tr(y instanceof Function,"Expected a class definition");let f=vt.get(y);return f?(tr(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,vt.set(y,f),f)}function Kr(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Et(){return"http:"===ot()||"https:"===ot()}function ot(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Hn{constructor(f,m){this.shortDelay=f,this.longDelay=m,tr(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Ot(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Et()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ft(y,f){tr(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class nt{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ia=new Hn(3e4,6e4);function ln(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function bt(y,f,m,b){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(y,f,m,b,S={}){return sn(y,S,(0,l.Z)(function*(){let O={},Z={};b&&("GET"===f?Z=b:O={body:JSON.stringify(b)});const ve=(0,V.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),et=yield y._getAdditionalHeaders();return et["Content-Type"]="application/json",y.languageCode&&(et["X-Firebase-Locale"]=y.languageCode),nt.fetch()(z(y,y.config.apiHost,m,ve),Object.assign({method:f,headers:et,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function sn(y,f,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(y,f,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},pt),f);try{const S=new we(y),O=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw te(y,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const ve=O.ok?Z.errorMessage:Z.error.message,[et,We]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===et)throw te(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===et)throw te(y,"email-already-in-use",Z);const It=b[et]||et.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw as(y,It,We);An(y,It)}}catch(S){if(S instanceof V.ZR)throw S;An(y,"network-request-failed")}})).apply(this,arguments)}function U(y,f,m,b){return W.apply(this,arguments)}function W(){return(W=(0,l.Z)(function*(y,f,m,b,S={}){const O=yield bt(y,f,m,b,S);return"mfaPendingCredential"in O&&An(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function z(y,f,m,b){const S=`${f}${m}?${b}`;return y.config.emulator?Ft(y.config,S):`${y.config.apiScheme}://${S}`}class we{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Qt(this.auth,"timeout")),ia.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function te(y,f,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=Qt(y,f,b);return S.customData._tokenResponse=m,S}function Dt(){return(Dt=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function cn(y,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wn(y,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Lt(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function H(){return(H=(0,l.Z)(function*(y,f=!1){const m=(0,V.m9)(y),b=yield m.getIdToken(f),S=Ke(b);Ve(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,Z=null==O?void 0:O.sign_in_provider;return{claims:S,token:b,authTime:Lt(Ce(S.auth_time)),issuedAtTime:Lt(Ce(S.iat)),expirationTime:Lt(Ce(S.exp)),signInProvider:Z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ce(y){return 1e3*Number(y)}function Ke(y){const[f,m,b]=y.split(".");if(void 0===f||void 0===m||void 0===b)return vn("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,V.tV)(m);return S?JSON.parse(S):(vn("Failed to decode base64 JWT payload"),null)}catch(S){return vn("Caught error parsing JWT payload as JSON",S),null}}function gt(y,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof V.ZR&&Dn(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Dn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class tn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class zn{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lt(this.lastLoginAt),this.creationTime=Lt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jt(y){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(y){var f;const m=y.auth,b=yield y.getIdToken(),S=yield gt(y,Wn(m,{idToken:b}));Ve(null==S?void 0:S.users.length,m,"internal-error");const O=S.users[0];y._notifyReloadListener(O);const Z=(null===(f=O.providerUserInfo)||void 0===f?void 0:f.length)?sa(O.providerUserInfo):[],ve=Sr(y.providerData,Z),It=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==ve?void 0:ve.length)),hn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ve,metadata:new zn(O.createdAt,O.lastLoginAt),isAnonymous:It};Object.assign(y,hn)})).apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(y){const f=(0,V.m9)(y);yield jt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Sr(y,f){return[...y.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}function sa(y){return y.map(f=>{var{providerId:m}=f,b=ue(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ye(){return(Ye=(0,l.Z)(function*(y,f){const m=yield sn(y,{},(0,l.Z)(function*(){const b=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:O}=y.config,Z=z(y,S,"/v1/token",`key=${O}`),ve=yield y._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",nt.fetch()(Z,{method:"POST",headers:ve,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ve(f.idToken,"internal-error"),Ve(void 0!==f.idToken,"internal-error"),Ve(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Nt(y){const f=Ke(y);return Ve(f,"internal-error"),Ve(void 0!==f.exp,"internal-error"),Ve(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,l.Z)(function*(){return Ve(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:Z}=yield function li(y,f){return Ye.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(S,O,Number(Z))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:S,expirationTime:O}=m,Z=new xt;return b&&(Ve("string"==typeof b,"internal-error",{appName:f}),Z.refreshToken=b),S&&(Ve("string"==typeof S,"internal-error",{appName:f}),Z.accessToken=S),O&&(Ve("number"==typeof O,"internal-error",{appName:f}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new xt,this.toJSON())}_performRefresh(){return bn("not implemented")}}function Wt(y,f){Ve("string"==typeof y||void 0===y,"internal-error",{appName:f})}class nr{constructor(f){var{uid:m,auth:b,stsTokenManager:S}=f,O=ue(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new tn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.metadata=new zn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,l.Z)(function*(){const b=yield gt(m,m.stsTokenManager.getToken(m.auth,f));return Ve(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function q(y){return H.apply(this,arguments)}(this,f)}reload(){return function Is(y){return us.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ve(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new nr(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,l.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),m&&(yield jt(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,l.Z)(function*(){const m=yield f.getIdToken();return yield gt(f,function Je(y,f){return Dt.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,S,O,Z,ve,et,We,It;const hn=null!==(b=m.displayName)&&void 0!==b?b:void 0,Tn=null!==(S=m.email)&&void 0!==S?S:void 0,Dr=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Qn=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,Sl=null!==(ve=m.tenantId)&&void 0!==ve?ve:void 0,Lh=null!==(et=m._redirectEventId)&&void 0!==et?et:void 0,Yp=null!==(We=m.createdAt)&&void 0!==We?We:void 0,rt=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:nn,emailVerified:Fn,isAnonymous:Fa,providerData:Vh,stsTokenManager:Al}=m;Ve(nn&&Al,f,"internal-error");const g_=xt.fromJSON(this.name,Al);Ve("string"==typeof nn,f,"internal-error"),Wt(hn,f.name),Wt(Tn,f.name),Ve("boolean"==typeof Fn,f,"internal-error"),Ve("boolean"==typeof Fa,f,"internal-error"),Wt(Dr,f.name),Wt(Qn,f.name),Wt(Sl,f.name),Wt(Lh,f.name),Wt(Yp,f.name),Wt(rt,f.name);const Nl=new nr({uid:nn,auth:f,email:Tn,emailVerified:Fn,displayName:hn,isAnonymous:Fa,photoURL:Qn,phoneNumber:Dr,tenantId:Sl,stsTokenManager:g_,createdAt:Yp,lastLoginAt:rt});return Vh&&Array.isArray(Vh)&&(Nl.providerData=Vh.map(m_=>Object.assign({},m_))),Lh&&(Nl._redirectEventId=Lh),Nl}static _fromIdTokenResponse(f,m,b=!1){return(0,l.Z)(function*(){const S=new xt;S.updateFromServerResponse(m);const O=new nr({uid:m.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield jt(O),O})()}}const Ln=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,l.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function ci(y,f,m){return`firebase:${y}:${f}:${m}`}class Jt{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:S,name:O}=this.auth;this.fullUserKey=ci(this.userKey,S.apiKey,O),this.fullPersistenceKey=ci("persistence",S.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?nr._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,l.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Jt(Cn(Ln),f,b);const S=(yield Promise.all(m.map(function(){var We=(0,l.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return We.apply(this,arguments)}}()))).filter(We=>We);let O=S[0]||Cn(Ln);const Z=ci(b,f.config.apiKey,f.name);let ve=null;for(const We of m)try{const It=yield We._get(Z);if(It){const hn=nr._fromJSON(f,It);We!==O&&(ve=hn),O=We;break}}catch(It){}const et=S.filter(We=>We._shouldAllowMigration);return O._shouldAllowMigration&&et.length?(O=et[0],ve&&(yield O._set(Z,ve.toJSON())),yield Promise.all(m.map(function(){var We=(0,l.Z)(function*(It){if(It!==O)try{yield It._remove(Z)}catch(hn){}});return function(It){return We.apply(this,arguments)}}())),new Jt(O,f,b)):new Jt(O,f,b)})()}}function Qs(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Js(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(qn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Xs(f))return"Blackberry";if(Nn(f))return"Webos";if(Rt(f))return"Safari";if((f.includes("chrome/")||oa(f))&&!f.includes("edge/"))return"Chrome";if(Oo(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function qn(y=(0,V.z$)()){return/firefox\//i.test(y)}function Rt(y=(0,V.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function oa(y=(0,V.z$)()){return/crios\//i.test(y)}function Js(y=(0,V.z$)()){return/iemobile/i.test(y)}function Oo(y=(0,V.z$)()){return/android/i.test(y)}function Xs(y=(0,V.z$)()){return/blackberry/i.test(y)}function Nn(y=(0,V.z$)()){return/webos/i.test(y)}function ls(y=(0,V.z$)()){return/iphone|ipad|ipod/i.test(y)}function aa(y=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function Hu(y=(0,V.z$)()){return ls(y)||Oo(y)||Nn(y)||Xs(y)||/windows phone/i.test(y)||Js(y)}function vi(y,f=[]){let m;switch(y){case"Browser":m=Qs((0,V.z$)());break;case"Worker":m=`${Qs((0,V.z$)())}-${y}`;break;default:m=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${R.SDK_VERSION}/${b}`}class Zi{constructor(f,m){this.app=f,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wu(this),this.idTokenSubscription=new Wu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=Cn(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,O;if(!b._deleted&&(b.persistenceManager=yield Jt.create(b,f),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(Z){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,l.Z)(function*(){var b;let S=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const O=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Z=null==S?void 0:S._redirectEventId,ve=yield m.tryRedirectSignIn(f);(!O||O===Z)&&(null==ve?void 0:ve.user)&&(S=ve.user)}return S?S._redirectEventId?(Ve(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)):m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(S){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,l.Z)(function*(){try{yield jt(f)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function gn(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,l.Z)(function*(){const b=f?(0,V.m9)(f):null;return b&&Ve(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,l.Z)(function*(){if(!m._deleted)return f&&Ve(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,l.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(Cn(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,l.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&Cn(f)||m._popupRedirectResolver;Ve(b,m,"argument-error"),m.redirectPersistenceManager=yield Jt.create(m,[Cn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,l.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,l.Z)(function*(){if(f===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,S){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return Ve(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof m?f.addObserver(m,b,S):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){const m={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(m["X-Firebase-gmpid"]=f.app.options.appId),m})()}}function _r(y){return(0,V.m9)(y)}class Wu{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function As(y,f,m){const b=_r(y);Ve(b._canInitEmulator,b,"emulator-config-failed"),Ve(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),O=ki(f),{host:Z,port:ve}=function oh(y){const f=ki(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const O=S[1];return{host:O,port:la(b.substr(O.length+1))}}{const[O,Z]=b.split(":");return{host:O,port:la(Z)}}}(f);b.config.emulator={url:`${O}//${Z}${null===ve?"":`:${ve}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Z,port:ve,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ap(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function ki(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function la(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Ar{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return bn("not implemented")}_getIdTokenResponse(f){return bn("not implemented")}_linkToIdToken(f,m){return bn("not implemented")}_getReauthenticationResolver(f){return bn("not implemented")}}function ah(y,f){return vc.apply(this,arguments)}function vc(){return(vc=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:resetPassword",ln(y,f))})).apply(this,arguments)}function uh(y,f){return bc.apply(this,arguments)}function bc(){return(bc=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function lh(y,f){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:update",ln(y,f))})).apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithPassword",ln(y,f))})).apply(this,arguments)}function qu(y,f){return wc.apply(this,arguments)}function wc(){return(wc=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:sendOobCode",ln(y,f))})).apply(this,arguments)}function Np(y,f){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(y,f){return qu(y,f)})).apply(this,arguments)}function Mp(y,f){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,l.Z)(function*(y,f){return qu(y,f)})).apply(this,arguments)}function ch(y,f){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(y,f){return qu(y,f)})).apply(this,arguments)}function Op(y,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(y,f){return qu(y,f)})).apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithEmailLink",ln(y,f))})).apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithEmailLink",ln(y,f))})).apply(this,arguments)}class ds extends Ar{constructor(f,m,b,S=null){super("password",b),this._email=f,this._password=m,this._tenantId=S}static _fromEmailAndPassword(f,m){return new ds(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new ds(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function zu(y,f){return Ns.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function xp(y,f){return cs.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:An(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return uh(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Zu(y,f){return to.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:An(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function hs(y,f){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,l.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithIdp",ln(y,f))})).apply(this,arguments)}class Pi extends Ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Pi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):An("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=m,O=ue(m,["providerId","signInMethod"]);if(!b||!S)return null;const Z=new Pi(b,S);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(f){return hs(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,hs(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,hs(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,V.xO)(m)}return f}}function xo(y,f){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:sendVerificationCode",ln(y,f))})).apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithPhoneNumber",ln(y,f))})).apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(y,f){const m=yield U(y,"POST","/v1/accounts:signInWithPhoneNumber",ln(y,f));if(m.temporaryProof)throw te(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ic={USER_NOT_FOUND:"user-not-found"};function da(){return(da=(0,l.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithPhoneNumber",ln(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ic)})).apply(this,arguments)}class Ro extends Ar{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ro({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ro({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function dh(y,f){return Nr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Ku(y,f){return nu.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Sc(y,f){return da.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:O}=f;return b||m||S||O?new Ro({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:O}):null}}class ko{constructor(f){var m,b,S,O,Z,ve;const et=(0,V.zd)((0,V.pd)(f)),We=null!==(m=et.apiKey)&&void 0!==m?m:null,It=null!==(b=et.oobCode)&&void 0!==b?b:null,hn=function Mn(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=et.mode)&&void 0!==S?S:null);Ve(We&&It&&hn,"argument-error"),this.apiKey=We,this.operation=hn,this.code=It,this.continueUrl=null!==(O=et.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=et.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ve=et.tenantId)&&void 0!==ve?ve:null}static parseLink(f){const m=function Ms(y){const f=(0,V.zd)((0,V.pd)(y)).link,m=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,b=(0,V.zd)((0,V.pd)(y)).deep_link_id;return(b?(0,V.zd)((0,V.pd)(b)).link:null)||b||m||f||y}(f);try{return new ko(m)}catch(b){return null}}}let ru=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return ds._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=ko.parseLink(b);return Ve(S,"argument-error"),ds._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class bi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Fr extends bi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class cr extends Fr{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return Ve("providerId"in m&&"signInMethod"in m,"argument-error"),Pi._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ve(f.idToken||f.accessToken,"argument-error"),Pi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return cr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return cr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:O,nonce:Z,providerId:ve}=f;if(!b&&!S&&!m&&!O||!ve)return null;try{return new cr(ve)._credential({idToken:m,accessToken:b,nonce:Z,pendingToken:O})}catch(et){return null}}}let iu=(()=>{class y extends Fr{constructor(){super("facebook.com")}static credential(m){return Pi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ha=(()=>{class y extends Fr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Pi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return y.credential(b,S)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),fs=(()=>{class y extends Fr{constructor(){super("github.com")}static credential(m){return Pi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class On extends Ar{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return hs(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,hs(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,hs(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:O}=m;return b&&S&&O&&b===S?new On(b,O):null}static _create(f,m){return new On(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Po extends bi{constructor(f){Ve(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Po.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Po.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=On.fromJSON(f);return Ve(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return On._create(b,m)}catch(S){return null}}}let Fi=(()=>{class y extends Fr{constructor(){super("twitter.com")}static credential(m,b){return Pi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return y.credential(b,S)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Os(y,f){return no.apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signUp",ln(y,f))})).apply(this,arguments)}class dt{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,S=!1){return(0,l.Z)(function*(){const O=yield nr._fromIdTokenResponse(f,b,S),Z=ro(b);return new dt({user:O,providerId:Z,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=ro(b);return new dt({user:f,providerId:S,_tokenResponse:b,operationType:m})})()}}function ro(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function su(y){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(y){var f;const m=_r(y);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new dt({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Os(m,{returnSecureToken:!0}),S=yield dt._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class so extends V.ZR{constructor(f,m,b,S){var O;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,so.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,S){return new so(f,m,b,S)}}function ou(y,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?so._fromErrorAndOperation(y,O,f,b):O})}function Yu(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Qu(y,f){return xe.apply(this,arguments)}function xe(){return(xe=(0,l.Z)(function*(y,f){const m=(0,V.m9)(y);yield dn(!0,m,f);const{providerUserInfo:b}=yield cn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),S=Yu(b||[]);return m.providerData=m.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Bt(y,f){return au.apply(this,arguments)}function au(){return(au=(0,l.Z)(function*(y,f,m=!1){const b=yield gt(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return dt._forOperation(y,"link",b)})).apply(this,arguments)}function dn(y,f,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(y,f,m){yield jt(f);const S=!1===y?"provider-already-linked":"no-such-provider";Ve(Yu(f.providerData).has(m)===y,f.auth,S)})).apply(this,arguments)}function oo(y,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(y,f,m=!1){const{auth:b}=y,S="reauthenticate";try{const O=yield gt(y,ou(b,S,f,y),m);Ve(O.idToken,b,"internal-error");const Z=Ke(O.idToken);Ve(Z,b,"internal-error");const{sub:ve}=Z;return Ve(y.uid===ve,b,"user-mismatch"),dt._forOperation(y,S,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&An(b,"user-mismatch"),O}})).apply(this,arguments)}function xs(y,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(y,f,m=!1){const b="signIn",S=yield ou(y,b,f),O=yield dt._fromIdTokenResponse(y,b,S);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function ga(y,f){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,l.Z)(function*(y,f){return xs(_r(y),f)})).apply(this,arguments)}function ma(y,f){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(y,f){const m=(0,V.m9)(y);return yield dn(!1,m,f.providerId),Bt(m,f)})).apply(this,arguments)}function yr(y,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(y,f){return oo((0,V.m9)(y),f)})).apply(this,arguments)}function Ac(y,f){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithCustomToken",ln(y,f))})).apply(this,arguments)}function ps(y,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(y,f){const m=_r(y),b=yield Ac(m,{token:f,returnSecureToken:!0}),S=yield dt._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class ao{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Xu._fromServerResponse(f,m):An(f,"internal-error")}}class Xu extends ao{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Xu(m)}}function Vo(y,f,m){var b;Ve((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),Ve(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ve(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(Ve(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function el(y,f,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y),S={requestType:"PASSWORD_RESET",email:f};m&&Vo(b,S,m),yield Mp(b,S)})).apply(this,arguments)}function tl(y,f,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(y,f,m){yield ah((0,V.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function hh(y,f){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(y,f){yield lh((0,V.m9)(y),{oobCode:f})})).apply(this,arguments)}function ya(y,f){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(y,f){const m=(0,V.m9)(y),b=yield ah(m,{oobCode:f}),S=b.requestType;switch(Ve(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ve(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ve(b.mfaInfo,m,"internal-error");default:Ve(b.email,m,"internal-error")}let O=null;return b.mfaInfo&&(O=ao._fromServerResponse(_r(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function rl(y,f){return va.apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(y,f){const{data:m}=yield ya((0,V.m9)(y),f);return m.email})).apply(this,arguments)}function il(y,f,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(y,f,m){const b=_r(y),S=yield Os(b,{returnSecureToken:!0,email:f,password:m}),O=yield dt._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function Rp(y,f,m){return ga((0,V.m9)(y),ru.credential(f,m))}function kp(y,f,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y),S={requestType:"EMAIL_SIGNIN",email:f};Ve(m.handleCodeInApp,b,"argument-error"),m&&Vo(b,S,m),yield ch(b,S)})).apply(this,arguments)}function vr(y,f){const m=ko.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function kn(y,f,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y),S=ru.credentialWithLink(f,m||Kr());return Ve(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),ga(b,S)})).apply(this,arguments)}function sl(y,f){return ol.apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:createAuthUri",ln(y,f))})).apply(this,arguments)}function Xm(y,f){return lu.apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(y,f){const b={identifier:f,continueUri:Et()?Kr():"http://localhost"},{signinMethods:S}=yield sl((0,V.m9)(y),b);return S||[]})).apply(this,arguments)}function e_(y,f){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(y,f){const m=(0,V.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Vo(m.auth,S,f);const{email:O}=yield Np(m.auth,S);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function Bo(y,f,m){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Vo(b.auth,O,m);const{email:Z}=yield Op(b.auth,O);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function Nc(y,f){return al.apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(y,f){return bt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Pp(y,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,V.m9)(y),O={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Z=yield gt(b,Nc(b.auth,O));b.displayName=Z.displayName||null,b.photoURL=Z.photoUrl||null;const ve=b.providerData.find(({providerId:et})=>"password"===et);ve&&(ve.displayName=b.displayName,ve.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Z)})).apply(this,arguments)}function Kn(y,f){return ph((0,V.m9)(y),f,null)}function fh(y,f){return ph((0,V.m9)(y),null,f)}function ph(y,f,m){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(y,f,m){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(O.email=f),m&&(O.password=m);const Z=yield gt(y,uh(b,O));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class co{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class gh extends co{constructor(f,m,b,S){super(f,m,b),this.username=S}}class mh extends co{constructor(f,m){super(f,"facebook.com",m)}}class Fp extends gh{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ul extends co{constructor(f,m){super(f,"google.com",m)}}class xn extends gh{constructor(f,m,b){super(f,"twitter.com",m,b)}}function _n(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Mc(y){var f,m;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const Z=null===(m=null===(f=Ke(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new co(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!b)return null;switch(b){case"facebook.com":return new mh(O,S);case"github.com":return new Fp(O,S);case"google.com":return new ul(O,S);case"twitter.com":return new xn(O,S,y.screenName||null);case"custom":case"anonymous":return new co(O,null);default:return new co(O,b,S)}}(m)}class Yt{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Yt("enroll",f)}static _fromMfaPendingCredential(f){return new Yt("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Yt._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return Yt._fromIdtoken(f.multiFactorSession.idToken)}return null}}class st{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=_r(f),S=m.customData._serverResponse,O=(S.mfaInfo||[]).map(ve=>ao._fromServerResponse(b,ve));Ve(S.mfaPendingCredential,b,"internal-error");const Z=Yt._fromMfaPendingCredential(S.mfaPendingCredential);return new st(Z,O,function(){var ve=(0,l.Z)(function*(et){const We=yield et._process(b,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const It=Object.assign(Object.assign({},S),{idToken:We.idToken,refreshToken:We.refreshToken});switch(m.operationType){case"signIn":const hn=yield dt._fromIdTokenResponse(b,m.operationType,It);return yield b._updateCurrentUser(hn.user),hn;case"reauthenticate":return Ve(m.user,b,"internal-error"),dt._forOperation(m.user,m.operationType,It);default:An(b,"internal-error")}});return function(et){return ve.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,l.Z)(function*(){return m.signInResolver(f)})()}}function ll(y,f){var m;const b=(0,V.m9)(y),S=f;return Ve(f.customData.operationType,b,"argument-error"),Ve(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),st._fromError(b,S)}function cl(y,f){return bt(y,"POST","/v2/accounts/mfaEnrollment:start",ln(y,f))}class Ta{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>ao._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Ta(f)}getSession(){var f=this;return(0,l.Z)(function*(){return Yt._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var b=this;return(0,l.Z)(function*(){const S=f,O=yield b.getSession(),Z=yield gt(b.user,S._process(b.user.auth,O,m));return yield b.user._updateTokensIfNecessary(Z),b.user.reload()})()}unenroll(f){var m=this;return(0,l.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield m.user.getIdToken(),O=yield gt(m.user,function Go(y,f){return bt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(y,f))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==b),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const Ho=new WeakMap;function wi(y){const f=(0,V.m9)(y);return Ho.has(f)||Ho.set(f,Ta._fromUser(f)),Ho.get(f)}const dr="__sak";class cu{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(dr,"1"),this.storage.removeItem(dr),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rs=(()=>{class y extends cu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hl(){const y=(0,V.z$)();return Rt(y)||ls(y)}()&&function ua(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Hu(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),O=this.localCache[b];S!==O&&m(b,O,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ve,et,We)=>{this.notifyListeners(ve,We)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(S);if(m.newValue!==ve)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const O=()=>{const ve=this.storage.getItem(S);!b&&this.localCache[S]===ve||this.notifyListeners(S,ve)},Z=this.storage.getItem(S);!function mn(){return(0,V.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,O=this;return(0,l.Z)(function*(){yield S().call(O,m,b),O.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,l.Z)(function*(){const O=yield b().call(S,m);return S.localCache[m]=JSON.stringify(O),O})()}_remove(m){var b=()=>super._remove,S=this;return(0,l.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Ps=(()=>{class y extends cu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Yi=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(O=>O.isListeningto(m));if(b)return b;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const S=m,{eventId:O,eventType:Z,data:ve}=S.data,et=b.handlersMap[Z];if(!(null==et?void 0:et.size))return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const We=Array.from(et).map(function(){var hn=(0,l.Z)(function*(Tn){return Tn(S.origin,ve)});return function(Tn){return hn.apply(this,arguments)}}()),It=yield function Sn(y){return Promise.all(y.map(function(){var f=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(We);S.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:It})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ca(y="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return y+m}class vh{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var S=this;return(0,l.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,ve;return new Promise((et,We)=>{const It=Ca("",20);O.port1.start();const hn=setTimeout(()=>{We(new Error("unsupported_event"))},b);ve={messageChannel:O,onMessage(Tn){const Dr=Tn;if(Dr.data.eventId===It)switch(Dr.data.status){case"ack":clearTimeout(hn),Z=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),et(Dr.data.response);break;default:clearTimeout(hn),clearTimeout(Z),We(new Error("invalid_response"))}}},S.handlers.add(ve),O.port1.addEventListener("message",ve.onMessage),S.target.postMessage({eventType:f,eventId:It,data:m},[O.port2])}).finally(()=>{ve&&S.removeMessageHandler(ve)})})()}}function wn(){return window}function Fs(){return void 0!==wn().WorkerGlobalScope&&"function"==typeof wn().importScripts}function Ui(){return(Ui=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const hu="firebaseLocalStorageDb",Qi="firebaseLocalStorage",fu="fbase_key";class Ia{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function yn(y,f){return y.transaction([Qi],f?"readwrite":"readonly").objectStore(Qi)}function Sa(){const y=indexedDB.open(hu,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Qi,{keyPath:fu})}catch(S){m(S)}}),y.addEventListener("success",(0,l.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Qi)?f(b):(b.close(),yield function bh(){const y=indexedDB.deleteDatabase(hu);return new Ia(y).toPromise()}(),f(yield Sa()))}))})}function Dh(y,f,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(y,f,m){const b=yn(y,!0).put({[fu]:f,value:m});return new Ia(b).toPromise()})).apply(this,arguments)}function ml(){return(ml=(0,l.Z)(function*(y,f){const m=yn(y,!1).get(f),b=yield new Ia(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Rc(y,f){const m=yn(y,!0).delete(f);return new Ia(m).toPromise()}const po=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Sa()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const O=yield b._openDb();return yield m(O)}catch(O){if(S++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Fs()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Yi._getInstance(function gs(){return Fs()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(S,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(S,O){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function du(){return Ui.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new vh(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=O[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function ho(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Sa();return yield Dh(m,dr,"1"),yield Rc(m,dr),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(O=>Dh(O,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const S=yield b._withRetries(O=>function Lp(y,f){return ml.apply(this,arguments)}(O,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(S=>Rc(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(Z=>{const ve=yn(Z,!1).getAll();return new Ia(ve).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:Z,value:ve}of b)O.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(ve)&&(m.notifyListeners(Z,ve),S.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!O.has(Z)&&(m.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Wo(y,f){return bt(y,"POST","/v2/accounts/mfaSignIn:start",ln(y,f))}function Pn(){return(Pn=(0,l.Z)(function*(y){return(yield bt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pu(y){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=S=>{const O=Qt("internal-error");O.customData=S,m(O)},b.type="text/javascript",b.charset="UTF-8",function En(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Aa(y){return`__${y}${Math.floor(1e6*Math.random())}`}const go=1e12;class mu{constructor(f){this.auth=f,this.counter=go,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new Na(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||go;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||go))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(f||go))||void 0===b||b.execute(),""})()}}class Na{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;Ve(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lc(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ma=Aa("rcb"),Ei=new Hn(3e4,6e4);class Oa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wn().grecaptcha}load(f,m=""){return Ve(function t_(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(wn().grecaptcha):new Promise((b,S)=>{const O=wn().setTimeout(()=>{S(Qt(f,"network-request-failed"))},Ei.get());wn()[Ma]=()=>{wn().clearTimeout(O),delete wn()[Ma];const ve=wn().grecaptcha;if(!ve)return void S(Qt(f,"internal-error"));const et=ve.render;ve.render=(We,It)=>{const hn=et(We,It);return this.counter++,hn},this.hostLanguage=m,b(ve)},pu(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Ma,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),S(Qt(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!wn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qo{load(f){return(0,l.Z)(function*(){return new mu(f)})()}clearedOneInstance(){}}const Vc="recaptcha",Vp={theme:"light",type:"image"};class Eh{constructor(f,m=Object.assign({},Vp),b){this.parameters=m,this.type=Vc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_r(b),this.isInvisible="invisible"===this.parameters.size,Ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;Ve(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qo:new Oa,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(O=>{const Z=ve=>{!ve||(f.tokenChangeListeners.delete(Z),O(ve))};f.tokenChangeListeners.add(Z),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ve(!this.parameters.sitekey,this.auth,"argument-error"),Ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=wn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){Ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){Ve(Et()&&!Fs(),f.auth,"internal-error"),yield function Ls(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Fc(y){return Pn.apply(this,arguments)}(f.auth);Ve(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _l{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ro._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Vs(y,f,m){return _u.apply(this,arguments)}function _u(){return(_u=(0,l.Z)(function*(y,f,m){const b=_r(y),S=yield _o(b,f,(0,V.m9)(m));return new _l(S,O=>ga(b,O))})).apply(this,arguments)}function Zo(y,f,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y);yield dn(!1,b,"phone");const S=yield _o(b.auth,f,(0,V.m9)(m));return new _l(S,O=>ma(b,O))})).apply(this,arguments)}function Us(y,f,m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y),S=yield _o(b.auth,f,(0,V.m9)(m));return new _l(S,O=>yr(b,O))})).apply(this,arguments)}function _o(y,f,m){return E.apply(this,arguments)}function E(){return(E=(0,l.Z)(function*(y,f,m){var b;const S=yield m.verify();try{let O;if(Ve("string"==typeof S,y,"argument-error"),Ve(m.type===Vc,y,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const Z=O.session;if("phoneNumber"in O)return Ve("enroll"===Z.type,y,"internal-error"),(yield cl(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Ve("signin"===Z.type,y,"internal-error");const ve=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return Ve(ve,y,"missing-multi-factor-info"),(yield Wo(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield xo(y,{phoneNumber:O.phoneNumber,recaptchaToken:S});return Z}}finally{m._reset()}})).apply(this,arguments)}function C(y,f){return x.apply(this,arguments)}function x(){return(x=(0,l.Z)(function*(y,f){yield Bt((0,V.m9)(y),f)})).apply(this,arguments)}let L=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=_r(m)}verifyPhoneNumber(m,b){return _o(this.auth,m,(0,V.m9)(b))}static credential(m,b){return Ro._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?Ro._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function K(y,f){return f?Cn(f):(Ve(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class le extends Ar{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return hs(f,this._buildIdpRequest())}_linkToIdToken(f,m){return hs(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return hs(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function ke(y){return xs(y.auth,new le(y),y.bypassAuthState)}function it(y){const{auth:f,user:m}=y;return Ve(m,f,"internal-error"),oo(m,new le(y),y.bypassAuthState)}function ze(y){return $t.apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(y){const{auth:f,user:m}=y;return Ve(m,f,"internal-error"),Bt(m,new le(y),y.bypassAuthState)})).apply(this,arguments)}class on{constructor(f,m,b,S,O=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,l.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:O,tenantId:Z,error:ve,type:et}=f;if(ve)return void m.reject(ve);const We={auth:m.auth,requestUri:b,sessionId:S,tenantId:Z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(et)(We))}catch(It){m.reject(It)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ke;case"linkViaPopup":case"linkViaRedirect":return ze;case"reauthViaPopup":case"reauthViaRedirect":return it;default:An(this.auth,"internal-error")}}resolve(f){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ur=new Hn(2e3,1e4);function br(y,f,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(y,f,m){const b=_r(y);ai(y,f,bi);const S=K(b,m);return new fi(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function yo(y,f,m){return yu.apply(this,arguments)}function yu(){return(yu=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y);ai(b.auth,f,bi);const S=K(b.auth,m);return new fi(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function Bi(y,f,m){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y);ai(b.auth,f,bi);const S=K(b.auth,m);return new fi(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let fi=(()=>{class y extends on{constructor(m,b,S,O,Z){super(m,b,O,Z),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return Ve(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){tr(1===m.filter.length,"Popup operations only handle one event");const b=Ca();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Qt(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ur.get())};m()}}return y.currentPopupAction=null,y})();const Ko=new Map;class Up extends on{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=Ko.get(m.auth._key());if(!b){try{const O=(yield function yl(y,f){return xa.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(O)}catch(S){b=()=>Promise.reject(S)}Ko.set(m.auth._key(),b)}return m.bypassAuthState||Ko.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function xa(){return(xa=(0,l.Z)(function*(y,f){const m=Qo(f),b=Yo(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function vu(y,f){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,l.Z)(function*(y,f){return Yo(y)._set(Qo(f),"true")})).apply(this,arguments)}function Th(){Ko.clear()}function Yo(y){return Cn(y._redirectPersistence)}function Qo(y){return ci("pendingRedirect",y.config.apiKey,y.name)}function n_(y,f,m){return function r_(y,f,m){return vl.apply(this,arguments)}(y,f,m)}function vl(){return(vl=(0,l.Z)(function*(y,f,m){const b=_r(y);ai(y,f,bi);const S=K(b,m);return yield vu(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Bp(y,f,m){return function jp(y,f,m){return _s.apply(this,arguments)}(y,f,m)}function _s(){return(_s=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y);ai(b.auth,f,bi);const S=K(b.auth,m);yield vu(S,b.auth);const O=yield F0(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function bl(y,f,m){return function i_(y,f,m){return bu.apply(this,arguments)}(y,f,m)}function bu(){return(bu=(0,l.Z)(function*(y,f,m){const b=(0,V.m9)(y);ai(b.auth,f,bi);const S=K(b.auth,m);yield dn(!1,b,f.providerId),yield vu(S,b.auth);const O=yield F0(b);return S._openRedirect(b.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function Ra(y,f){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(y,f){return yield _r(y)._initializationPromise,Bc(y,f,!1)})).apply(this,arguments)}function Bc(y,f){return $p.apply(this,arguments)}function $p(){return($p=(0,l.Z)(function*(y,f,m=!1){const b=_r(y),S=K(b,f),Z=yield new Up(b,S,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield b._persistUserIfCurrent(Z.user),yield b._setRedirectUser(null,f)),Z})).apply(this,arguments)}function F0(y){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(y){const f=Ca(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Ch{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Sh(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ih(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!Ih(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Qt(this.auth,S))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jc(f))}saveEventToCache(f){this.cachedEventUids.add(jc(f)),this.lastProcessedEventTime=Date.now()}}function jc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Ih({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Ah(y){return $c.apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(y,f={}){return bt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const s_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nh=/^https?/;function vo(){return(vo=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Ah(y);for(const m of f)try{if(Du(m))return}catch(b){}An(y,"unauthorized-domain")})).apply(this,arguments)}function Du(y){const f=Kr(),{protocol:m,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===b}if(!Nh.test(m))return!1;if(s_.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const a_=new Hn(3e4,6e4);function Hp(){const y=wn().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Gc=null;function Wp(y){return Gc=Gc||function L0(y){return new Promise((f,m)=>{var b,S,O;function Z(){Hp(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Hp(),m(Qt(y,"network-request-failed"))},timeout:a_.get()})}if(null===(S=null===(b=wn().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(O=wn().gapi)||void 0===O?void 0:O.load)){const ve=Aa("iframefcb");return wn()[ve]=()=>{gapi.load?Z():m(Qt(y,"network-request-failed"))},pu(`https://apis.google.com/js/api.js?onload=${ve}`).catch(et=>m(et))}Z()}}).catch(f=>{throw Gc=null,f})}(y),Gc}const V0=new Hn(5e3,15e3),Hc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oh(y){const f=y.config;Ve(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Ft(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:R.SDK_VERSION},S=l_.get(y.config.apiHost);S&&(b.eid=S);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${m}?${(0,V.xO)(b).slice(1)}`}function wl(){return wl=(0,l.Z)(function*(y){const f=yield Wp(y),m=wn().gapi;return Ve(m,y,"internal-error"),f.open({where:document.body,url:Oh(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hc,dontclear:!0},b=>new Promise(function(){var S=(0,l.Z)(function*(O,Z){yield b.restyle({setHideOnLeave:!1});const ve=Qt(y,"network-request-failed"),et=wn().setTimeout(()=>{Z(ve)},V0.get());function We(){wn().clearTimeout(et),O(b)}b.ping(We).then(We,()=>{Z(ve)})});return function(O,Z){return S.apply(this,arguments)}}()))}),wl.apply(this,arguments)}const El={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Il(y,f,m,b,S,O){Ve(y.config.authDomain,y,"auth-domain-config-required"),Ve(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:R.SDK_VERSION,eventId:S};if(f instanceof bi){f.setDefaultLanguage(y.languageCode),Z.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(Z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[et,We]of Object.entries(O||{}))Z[et]=We}if(f instanceof Fr){const et=f.getScopes().filter(We=>""!==We);et.length>0&&(Z.scopes=et.join(","))}y.tenantId&&(Z.tid=y.tenantId);const ve=Z;for(const et of Object.keys(ve))void 0===ve[et]&&delete ve[et];return`${function qp({config:y}){return y.emulator?Ft(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,V.xO)(ve).slice(1)}`}const ka="webStorageSupport",Zp=class h_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=Bc}_openPopup(f,m,b,S){var O=this;return(0,l.Z)(function*(){var Z;tr(null===(Z=O.eventManagers[f._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ve=Il(f,m,b,Kr(),S);return function Cl(y,f,m,b=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-b)/2,0).toString();let ve="";const et=Object.assign(Object.assign({},El),{width:b.toString(),height:S.toString(),top:O,left:Z}),We=(0,V.z$)().toLowerCase();m&&(ve=oa(We)?"_blank":m),qn(We)&&(f=f||"http://localhost",et.scrollbars="yes");const It=Object.entries(et).reduce((Tn,[Dr,Qn])=>`${Tn}${Dr}=${Qn},`,"");if(function Zn(y=(0,V.z$)()){var f;return ls(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(We)&&"_self"!==ve)return function c_(y,f){const m=document.createElement("a");m.href=y,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",ve),new Rh(null);const hn=window.open(f||"",ve,It);Ve(hn,y,"popup-blocked");try{hn.focus()}catch(Tn){}return new Rh(hn)}(f,ve,Ca())})()}_openRedirect(f,m,b,S){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(f),function pl(y){wn().location.href=y}(Il(f,m,b,Kr(),S)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:S,promise:O}=this.eventManagers[m];return S?Promise.resolve(S):(tr(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,l.Z)(function*(){const b=yield function U0(y){return wl.apply(this,arguments)}(f),S=new Ch(f);return b.register("authEvent",O=>(Ve(null==O?void 0:O.authEvent,f,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:S},m.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(ka,{type:ka},S=>{var O;const Z=null===(O=null==S?void 0:S[0])||void 0===O?void 0:O[ka];void 0!==Z&&m(!!Z),An(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function o_(y){return vo.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Hu()||Rt()||ls()}};class Pa extends class kh{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return bn("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Pa(f)}_finalizeEnroll(f,m,b){return function dl(y,f){return bt(y,"POST","/v2/accounts/mfaEnrollment:finalize",ln(y,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Pc(y,f){return bt(y,"POST","/v2/accounts/mfaSignIn:finalize",ln(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let f_=(()=>{class y{constructor(){}static assertion(m){return Pa._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Ph="@firebase/auth";class Fh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var S;f((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function p_(y){(0,R._registerComponent)(new Be.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),{apiKey:S,authDomain:O}=b.options;return(Z=>{Ve(S&&!S.includes(":"),"invalid-api-key",{appName:Z.name}),Ve(!(null==O?void 0:O.includes(":")),"argument-error",{appName:Z.name});const ve={apiKey:S,authDomain:O,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vi(y)},et=new Zi(Z,ve);return function In(y,f){const m=(null==f?void 0:f.persistence)||[],b=(Array.isArray(m)?m:[m]).map(Cn);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(et,m),et})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new Be.wA("auth-internal",f=>{const m=_r(f.getProvider("auth").getImmediate());return new Fh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Ph,"0.19.5",function Wc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,R.registerVersion)(Ph,"0.19.5","esm2017")}("Browser")},2090:(ct,Ie,k)=>{"use strict";k.d(Ie,{BH:()=>He,LL:()=>he,ZR:()=>Be,zI:()=>_e,US:()=>ge,tV:()=>se,$s:()=>bt,r3:()=>Zr,Sg:()=>Me,ne:()=>tr,vZ:()=>Qt,ZB:()=>G,pd:()=>Ve,m9:()=>Yr,z$:()=>Fe,jU:()=>ie,ru:()=>me,d:()=>De,xb:()=>vn,w1:()=>Ze,hl:()=>yt,uI:()=>$e,UG:()=>Y,b$:()=>Se,G6:()=>Qe,Mn:()=>Ae,xO:()=>ai,zd:()=>ui,eu:()=>J});const ne=function(U){const W=[];let z=0;for(let we=0;we<U.length;we++){let te=U.charCodeAt(we);te<128?W[z++]=te:te<2048?(W[z++]=te>>6|192,W[z++]=63&te|128):55296==(64512&te)&&we+1<U.length&&56320==(64512&U.charCodeAt(we+1))?(te=65536+((1023&te)<<10)+(1023&U.charCodeAt(++we)),W[z++]=te>>18|240,W[z++]=te>>12&63|128,W[z++]=te>>6&63|128,W[z++]=63&te|128):(W[z++]=te>>12|224,W[z++]=te>>6&63|128,W[z++]=63&te|128)}return W},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,W){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let te=0;te<U.length;te+=3){const Je=U[te],Dt=te+1<U.length,cn=Dt?U[te+1]:0,Rn=te+2<U.length,Wn=Rn?U[te+2]:0;let oe=(15&cn)<<2|Wn>>6,q=63&Wn;Rn||(q=64,Dt||(oe=64)),we.push(z[Je>>2],z[(3&Je)<<4|cn>>4],z[oe],z[q])}return we.join("")},encodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(U):this.encodeByteArray(ne(U),W)},decodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(U):function(U){const W=[];let z=0,we=0;for(;z<U.length;){const te=U[z++];if(te<128)W[we++]=String.fromCharCode(te);else if(te>191&&te<224){const Je=U[z++];W[we++]=String.fromCharCode((31&te)<<6|63&Je)}else if(te>239&&te<365){const Rn=((7&te)<<18|(63&U[z++])<<12|(63&U[z++])<<6|63&U[z++])-65536;W[we++]=String.fromCharCode(55296+(Rn>>10)),W[we++]=String.fromCharCode(56320+(1023&Rn))}else{const Je=U[z++],Dt=U[z++];W[we++]=String.fromCharCode((15&te)<<12|(63&Je)<<6|63&Dt)}}return W.join("")}(this.decodeStringToByteArray(U,W))},decodeStringToByteArray(U,W){this.init_();const z=W?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let te=0;te<U.length;){const Je=z[U.charAt(te++)],cn=te<U.length?z[U.charAt(te)]:0;++te;const Wn=te<U.length?z[U.charAt(te)]:64;++te;const Lt=te<U.length?z[U.charAt(te)]:64;if(++te,null==Je||null==cn||null==Wn||null==Lt)throw Error();we.push(Je<<2|cn>>4),64!==Wn&&(we.push(cn<<4&240|Wn>>2),64!==Lt&&we.push(Wn<<6&192|Lt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},re=function(U){return function(U){const W=ne(U);return ge.encodeByteArray(W,!0)}(U).replace(/\./g,"")},se=function(U){try{return ge.decodeString(U,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function G(U,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return W}for(const z in W)!W.hasOwnProperty(z)||!ee(z)||(U[z]=G(U[z],W[z]));return U}function ee(U){return"__proto__"!==U}class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,z)=>{this.resolve=W,this.reject=z})}wrapCallback(W){return(z,we)=>{z?this.reject(z):this.resolve(we),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(z):W(z,we))}}}function Me(U,W){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=W||"demo-project",te=U.iat||0,Je=U.sub||U.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:te,exp:te+3600,auth_time:te,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},U);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(Dt)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function ie(){return"object"==typeof self&&self.self===self}function me(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return Fe().indexOf("Electron/")>=0}function Ze(){const U=Fe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ae(){return Fe().indexOf("MSAppHost/")>=0}function Qe(){return!Y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yt(){return"object"==typeof indexedDB}function J(){return new Promise((U,W)=>{try{let z=!0;const we="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(we);te.onsuccess=()=>{te.result.close(),z||self.indexedDB.deleteDatabase(we),U(!0)},te.onupgradeneeded=()=>{z=!1},te.onerror=()=>{var Je;W((null===(Je=te.error)||void 0===Je?void 0:Je.message)||"")}}catch(z){W(z)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Be extends Error{constructor(W,z,we){super(z),this.code=W,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(W,z,we){this.service=W,this.serviceName=z,this.errors=we}create(W,...z){const we=z[0]||{},te=`${this.service}/${W}`,Je=this.errors[W],Dt=Je?function St(U,W){return U.replace(en,(z,we)=>{const te=W[we];return null!=te?String(te):`<${we}?>`})}(Je,we):"Error";return new Be(te,`${this.serviceName}: ${Dt} (${te}).`,we)}}const en=/\{\$([^}]+)}/g;function Zr(U,W){return Object.prototype.hasOwnProperty.call(U,W)}function vn(U){for(const W in U)if(Object.prototype.hasOwnProperty.call(U,W))return!1;return!0}function Qt(U,W){if(U===W)return!0;const z=Object.keys(U),we=Object.keys(W);for(const te of z){if(!we.includes(te))return!1;const Je=U[te],Dt=W[te];if(as(Je)&&as(Dt)){if(!Qt(Je,Dt))return!1}else if(Je!==Dt)return!1}for(const te of we)if(!z.includes(te))return!1;return!0}function as(U){return null!==U&&"object"==typeof U}function ai(U){const W=[];for(const[z,we]of Object.entries(U))Array.isArray(we)?we.forEach(te=>{W.push(encodeURIComponent(z)+"="+encodeURIComponent(te))}):W.push(encodeURIComponent(z)+"="+encodeURIComponent(we));return W.length?"&"+W.join("&"):""}function ui(U){const W={};return U.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[te,Je]=we.split("=");W[decodeURIComponent(te)]=decodeURIComponent(Je)}}),W}function Ve(U){const W=U.indexOf("?");if(!W)return"";const z=U.indexOf("#",W);return U.substring(W,z>0?z:void 0)}function tr(U,W){const z=new vt(U,W);return z.subscribe.bind(z)}class vt{constructor(W,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{W(this)}).catch(we=>{this.error(we)})}next(W){this.forEachObserver(z=>{z.next(W)})}error(W){this.forEachObserver(z=>{z.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,z,we){let te;if(void 0===W&&void 0===z&&void 0===we)throw new Error("Missing Observer.");te=function qt(U,W){if("object"!=typeof U||null===U)return!1;for(const z of W)if(z in U&&"function"==typeof U[z])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:z,complete:we},void 0===te.next&&(te.next=In),void 0===te.error&&(te.error=In),void 0===te.complete&&(te.complete=In);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(Dt){}}),this.observers.push(te),Je}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,W)}sendOne(W,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{z(this.observers[W])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}function bt(U,W=1e3,z=2){const we=W*Math.pow(z,U),te=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+te)}function Yr(U){return U&&U._delegate?U._delegate:U}},4398:(ct,Ie,k)=>{"use strict";var l=k(5e3);let V=null;function R(){return V}const ue=new l.OlP("DocumentToken");let re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function se(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const j=new l.OlP("Location Initialized");let G=(()=>{class n extends re{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function He(){return new G((0,l.LFG)(ue))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Fe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let Y=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ie(n){const e=(0,l.LFG)(ue).location;return new Se((0,l.LFG)(re),e&&e.origin||"")}()},providedIn:"root"}),n})();const me=new l.OlP("appBaseHref");let Se=(()=>{class n extends Y{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const h=this.prepareExternalUrl(i+$e(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,u){const h=this.prepareExternalUrl(i+$e(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n extends Y{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let h=this.prepareExternalUrl(i+$e(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,u){let h=this.prepareExternalUrl(i+$e(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ze=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Fe(Qe(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function lt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Me,n.stripTrailingSlash=Fe,n.\u0275fac=function(t){return new(t||n)(l.LFG(Y),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ae(){return new Ze((0,l.LFG)(Y),(0,l.LFG)(re))}()},providedIn:"root"}),n})();function Qe(n){return n.replace(/\/index.html$/,"")}const yt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Percent=1]="Percent",J[J.Currency=2]="Currency",J[J.Scientific=3]="Scientific",J))(),_e=(()=>((_e=_e||{})[_e.Zero=0]="Zero",_e[_e.One=1]="One",_e[_e.Two=2]="Two",_e[_e.Few=3]="Few",_e[_e.Many=4]="Many",_e[_e.Other=5]="Other",_e))(),he=(()=>((he=he||{})[he.Decimal=0]="Decimal",he[he.Group=1]="Group",he[he.List=2]="List",he[he.PercentSign=3]="PercentSign",he[he.PlusSign=4]="PlusSign",he[he.MinusSign=5]="MinusSign",he[he.Exponential=6]="Exponential",he[he.SuperscriptingExponent=7]="SuperscriptingExponent",he[he.PerMille=8]="PerMille",he[he.Infinity=9]="Infinity",he[he.NaN=10]="NaN",he[he.TimeSeparator=11]="TimeSeparator",he[he.CurrencyDecimal=12]="CurrencyDecimal",he[he.CurrencyGroup=13]="CurrencyGroup",he))();function vn(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(void 0===r){if(e===he.CurrencyDecimal)return t[l.wAp.NumberSymbols][he.Decimal];if(e===he.CurrencyGroup)return t[l.wAp.NumberSymbols][he.Group]}return r}const Ve=l.kL8;const Vt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function li(n,e,t,r,i){const h=function Wt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],u=r[1],h=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],g=h[0],v=h[1]||"";t.posPre=g.substr(0,g.indexOf("#"));for(let A=0;A<v.length;A++){const M=v.charAt(A);"0"===M?t.minFrac=t.maxFrac=A+1:"#"===M?t.maxFrac=A+1:t.posSuf+=M}const T=g.split(",");if(t.gSize=T[1]?T[1].length:0,t.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,u){const A=i.length-t.posPre.length-t.posSuf.length,M=u.indexOf("#");t.negPre=u.substr(0,M).replace(/'/g,""),t.negSuf=u.substr(M+A).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function An(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,J.Currency),vn(e,he.MinusSign));return h.minFrac=function ot(n){let e;const t=yt[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),h.maxFrac=h.minFrac,function sa(n,e,t,r,i,u,h=!1){let g="",v=!1;if(isFinite(n)){let T=function Ss(n){let r,i,u,h,g,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;"0"===e.charAt(u);u++);if(u===(g=e.length))r=[0],i=1;else{for(g--;"0"===e.charAt(g);)g--;for(i-=u,r=[],h=0;u<=g;u++,h++)r[h]=Number(e.charAt(u))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);h&&(T=function nr(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(T));let A=e.minInt,M=e.minFrac,F=e.maxFrac;if(u){const Oe=u.match(Vt);if(null===Oe)throw new Error(`${u} is not a valid digit info`);const Pe=Oe[1],je=Oe[3],tt=Oe[5];null!=Pe&&(A=ci(Pe)),null!=je&&(M=ci(je)),null!=tt?F=ci(tt):null!=je&&M>F&&(F=M)}!function Ln(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let h=u+n.integerLen,g=r[h];if(h>0){r.splice(Math.max(n.integerLen,h));for(let M=h;M<r.length;M++)r[M]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,h=u+1),r[0]=0;for(let M=1;M<h;M++)r[M]=0}if(g>=5)if(h-1<0){for(let M=0;M>h;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[h-1]++;for(;i<Math.max(0,u);i++)r.push(0);let v=0!==u;const T=e+n.integerLen,A=r.reduceRight(function(M,F,$,X){return X[$]=(F+=M)<10?F:F-10,v&&(0===X[$]&&$>=T?X.pop():v=!1),F>=10?1:0},0);A&&(r.unshift(A),n.integerLen++)}(T,M,F);let $=T.digits,X=T.integerLen;const Te=T.exponent;let be=[];for(v=$.every(Oe=>!Oe);X<A;X++)$.unshift(0);for(;X<0;X++)$.unshift(0);X>0?be=$.splice(X,$.length):(be=$,$=[0]);const Re=[];for($.length>=e.lgSize&&Re.unshift($.splice(-e.lgSize,$.length).join(""));$.length>e.gSize;)Re.unshift($.splice(-e.gSize,$.length).join(""));$.length&&Re.unshift($.join("")),g=Re.join(vn(t,r)),be.length&&(g+=vn(t,i)+be.join("")),Te&&(g+=vn(t,he.Exponential)+"+"+Te)}else g=vn(t,he.Infinity);return g=n<0&&!v?e.negPre+g+e.negSuf:e.posPre+g+e.posSuf,g}(n,h,e,he.CurrencyGroup,he.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function ci(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Jt{}let qn=(()=>{class n extends Jt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Ve(r||this.locale)(t)){case _e.Zero:return"zero";case _e.One:return"one";case _e.Two:return"two";case _e.Few:return"few";case _e.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Xs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,h)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Xs(i.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,h),ls(g,i)}});for(let i=0,u=r.length;i<u;i++){const g=r.get(i).context;g.index=i,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ls(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ls(n,e){n.context.$implicit=e.item}let Zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class mn{constructor(){this.$implicit=null,this.ngIf=null}}function Hu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let la=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[l.TTD]}),n})();function Ar(n,e){return new l.vHH(2100,"")}class ah{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class vc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const uh=new vc,bc=new ah;let lh=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return uh;if((0,l.F4k)(t))return bc;throw Ar()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})(),Zu=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,h){if(!function to(n){return!(null==n||""===n||n!=n)}(t))return null;h=h||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let g=r||this._defaultCurrencyCode;"code"!==i&&(g="symbol"===i||"symbol-narrow"===i?function Kr(n,e,t="en"){const r=function ui(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(t)[n]||yt[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(g,"symbol"===i?"wide":"narrow",h):i);try{return li(function ds(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),h,g,r,u)}catch(v){throw Ar()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0}),n})();let Qr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Jt,useClass:qn}]}),n})();const Pi="browser";function Ku(n){return"server"===n}let da=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Ro((0,l.LFG)(ue),window)}),n})();class Ro{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ms(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Mn(this.window.history)||Mn(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Mn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bi extends class ru extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){V||(V=n)}(new bi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function cr(){return Fr=Fr||document.querySelector("base"),Fr?Fr.getAttribute("href"):null}();return null==t?null:function ha(n){iu=iu||document.createElement("a"),iu.setAttribute("href",n);const e=iu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function oa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let iu,Fr=null;const fs=new l.OlP("TRANSITION_ID"),On=[{provide:l.ip1,useFactory:function hi(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[fs,ue,l.zs3],multi:!0}];class fa{static init(){(0,l.VLi)(new fa)}addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let u=i.length,h=!1;const g=function(v){h=h||v,u--,0==u&&r(h)};i.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Po=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Fi=new l.OlP("EventManagerPlugins");let Os=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const h=i[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fi),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class no{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let dt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ro=(()=>{class n extends dt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,i.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(su),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(su))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function su(n){R().remove(n)}const io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},so=/%COMP%/g;function dn(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?dn(n,i,t):(i=i.replace(so,n),t.push(i))}return t}function Fo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Jr=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new xs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ju(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new ma(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=dn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Os),l.LFG(ro),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class xs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(io[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=io[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=io[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Fo(r)):this.eventManager.addEventListener(e,t,Fo(r))}}class Ju extends xs{constructor(e,t,r,i){super(e),this.component=r;const u=dn(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Bt(n){return"_ngcontent-%COMP%".replace(so,n)}(i+"-"+r.id),this.hostAttr=function au(n){return"_nghost-%COMP%".replace(so,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ma extends xs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=dn(i.id,i.styles,[]);for(let h=0;h<u.length;h++){const g=document.createElement("style");g.textContent=u[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Lo=(()=>{class n extends no{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const yr=["alt","control","meta","shift"],Ac={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Li={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ps={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let uu=(()=>{class n extends no{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let h="";if(yr.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),h+=v+".")}),h+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=i,g.fullKey=h,g}static getEventFullKey(t){let r="",i=function ao(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Li.hasOwnProperty(e)&&(e=Li[e]))}return Ac[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yr.forEach(u=>{u!=i&&ps[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const tl=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Pi},{provide:l.g9A,useValue:function Xu(){bi.makeCurrent(),fa.init()},multi:!0},{provide:ue,useFactory:function el(){return(0,l.RDi)(document),document},deps:[]}]),lo=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Vo(){return new l.qLn},deps:[]},{provide:Fi,useClass:Lo,multi:!0,deps:[ue,l.R0b,l.Lbi]},{provide:Fi,useClass:uu,multi:!0,deps:[ue]},{provide:Jr,useClass:Jr,deps:[Os,ro,l.AFp]},{provide:l.FYo,useExisting:Jr},{provide:dt,useExisting:ro},{provide:ro,useClass:ro,deps:[ue]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Os,useClass:Os,deps:[Fi,l.R0b]},{provide:class Vn{},useClass:Po,deps:[]}];let hh=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:fs,useExisting:l.AFp},On]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:lo,imports:[Qr,l.hGG]}),n})();"undefined"!=typeof window&&window;var xn=k(8996),_n=k(8306);const{isArray:Lr}=Array,{getPrototypeOf:_h,prototype:yh,keys:wa}=Object;function Oc(n){if(1===n.length){const e=n[0];if(Lr(e))return{args:e,keys:null};if(function Ea(n){return n&&"object"==typeof n&&_h(n)===yh}(e)){const t=wa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Xr=k(8421),Vr=k(3269),Yt=k(5403),st=k(4004);const{isArray:ll}=Array;function dl(n){return(0,st.U)(e=>function cl(n,e){return ll(e)?n(...e):n(e)}(n,e))}function Go(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Ho=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),wi=(()=>{class n extends Ho{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const dr=new l.OlP("NgValueAccessor"),Ki={provide:dr,useExisting:(0,l.Gpc)(()=>Rs),multi:!0},xc=new l.OlP("CompositionEventMode");let Rs=(()=>{class n extends Ho{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fl(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(xc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([Ki]),l.qOj]}),n})();const Sn=new l.OlP("NgValidators"),Yi=new l.OlP("NgAsyncValidators");function Qi(n){return null!=n}function fu(n){const e=(0,l.QGY)(n)?(0,xn.D)(n):n;return(0,l.CqO)(e),e}function Ia(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function yn(n,e){return e.map(t=>t(n))}function Sa(n){return n.map(e=>function bh(n){return!n.validate}(e)?e:t=>e.validate(t))}function gl(n){return null!=n?function Dh(n){if(!n)return null;const e=n.filter(Qi);return 0==e.length?null:function(t){return Ia(yn(t,e))}}(Sa(n)):null}function ml(n){return null!=n?function Lp(n){if(!n)return null;const e=n.filter(Qi);return 0==e.length?null:function(t){return function Ta(...n){const e=(0,Vr.jO)(n),{args:t,keys:r}=Oc(n),i=new _n.y(u=>{const{length:h}=t;if(!h)return void u.complete();const g=new Array(h);let v=h,T=h;for(let A=0;A<h;A++){let M=!1;(0,Xr.Xf)(t[A]).subscribe(new Yt.Q(u,F=>{M||(M=!0,T--),g[A]=F},()=>v--,void 0,()=>{(!v||!M)&&(T||u.next(r?Go(r,g):g),u.complete())}))}});return e?i.pipe(dl(e)):i}(yn(t,e).map(fu)).pipe((0,st.U)(Ia))}}(Sa(n)):null}function Rc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function fo(n){return n._rawValidators}function kc(n){return n._rawAsyncValidators}function Yn(n){return n?Array.isArray(n)?n:[n]:[]}function po(n,e){return Array.isArray(n)?n.includes(e):n===e}function Wo(n,e){const t=Yn(e);return Yn(n).forEach(i=>{po(t,i)||t.push(i)}),t}function Pc(n,e){return Yn(e).filter(t=>!po(n,t))}class Fc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ml(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pn extends Fc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class En extends Fc{get formDirective(){return null}get path(){return null}}class pu{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let gu=(()=>{class n extends pu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Pn,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),go=(()=>{class n extends pu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(En,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function mo(n,e){E(n,e),e.valueAccessor.writeValue(n.value),function x(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&K(n,e)})}(n,e),function le(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function L(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&K(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _o(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Us(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),C(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bs(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function E(n,e){const t=fo(n);null!==e.validator?n.setValidators(Rc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=kc(n);null!==e.asyncValidator?n.setAsyncValidators(Rc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Bs(e._rawValidators,i),Bs(e._rawAsyncValidators,i)}function C(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=fo(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(h=>h!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=kc(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(h=>h!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Bs(e._rawValidators,r),Bs(e._rawAsyncValidators,r),t}function K(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yo(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ir="VALID",fi="INVALID",Ti="PENDING",Ko="DISABLED";function yl(n){return(Th(n)?n.validators:n)||null}function xa(n){return Array.isArray(n)?gl(n):n||null}function vu(n,e){return(Th(e)?e.asyncValidators:n)||null}function Uc(n){return Array.isArray(n)?ml(n):n||null}function Th(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Yo=n=>n instanceof _s,Qo=n=>n instanceof bl;function r_(n){return Yo(n)?n.value:n.getRawValue()}function vl(n,e){const t=Qo(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function Bp(n,e){Qo(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.vHH(1002,"")})}class jp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=xa(this._rawValidators),this._composedAsyncValidatorFn=Uc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ir}get invalid(){return this.status===fi}get pending(){return this.status==Ti}get disabled(){return this.status===Ko}get enabled(){return this.status!==Ko}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=xa(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Uc(e)}addValidators(e){this.setValidators(Wo(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Wo(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Pc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Pc(e,this._rawAsyncValidators))}hasValidator(e){return po(this._rawValidators,e)}hasAsyncValidator(e){return po(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ti,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ko,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ir,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ir||this.status===Ti)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ko:ir}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ti,this._hasOwnPendingAsyncValidator=!0;const t=fu(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Up(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Qo(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof i_)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Ko:this.errors?fi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ti)?Ti:this._anyControlsHaveStatus(fi)?fi:ir}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Th(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _s extends jp{constructor(e=null,t,r){super(yl(t),vu(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yo(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yo(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class bl extends jp{constructor(e,t,r){super(yl(t),vu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Bp(this,e),Object.keys(e).forEach(r=>{vl(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=r_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class i_ extends jp{constructor(e,t,r){super(yl(t),vu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Bp(this,e),e.forEach((r,i)=>{vl(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>r_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let $c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const s_={provide:dr,useExisting:(0,l.Gpc)(()=>Nh),multi:!0};let Nh=(()=>{class n extends wi{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([s_]),l.qOj]}),n})(),Du=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Wp=new l.OlP("NgModelWithFormControlWarning"),u_={provide:En,useExisting:(0,l.Gpc)(()=>Hc)};let Hc=(()=>{class n extends En{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(C(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return mo(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Us(t.control||null,t,!1),yo(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function br(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Us(r||null,t),Yo(i)&&(mo(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function ke(n,e){E(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function it(n,e){return C(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){E(this.form,this),this._oldForm&&C(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sn,10),l.Y36(Yi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([u_]),l.qOj,l.TTD]}),n})();const zp={provide:Pn,useExisting:(0,l.Gpc)(()=>Ji)};let Ji=(()=>{class n extends Pn{constructor(t,r,i,u,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Un(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===Rs?t=u:function Ur(n){return Object.getPrototypeOf(n.constructor)===wi}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function on(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Zo(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(En,13),l.Y36(Sn,10),l.Y36(Yi,10),l.Y36(dr,10),l.Y36(Wp,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([zp]),l.qOj,l.TTD]}),n})();const Tl={provide:dr,useExisting:(0,l.Gpc)(()=>Cl),multi:!0};function xh(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Cl=(()=>{class n extends wi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const i=xh(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Rh(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Tl]),l.qOj]}),n})(),c_=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(xh(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Cl,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const B0={provide:dr,useExisting:(0,l.Gpc)(()=>ka),multi:!0};function d_(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ka=(()=>{class n extends wi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,h)=>{u._setSelected(i.indexOf(h.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const h=u;for(let g=0;g<h.length;g++){const T=this._getOptionValue(h[g].value);i.push(T)}}else{const h=r.options;for(let g=0;g<h.length;g++){const v=h[g];if(v.selected){const T=this._getOptionValue(v.value);i.push(T)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Il(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([B0]),l.qOj]}),n})(),h_=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(d_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(d_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(ka,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Du]]}),n})(),Dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Tn]}),n})(),Qn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wp,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Tn]}),n})();function rt(...n){const e=(0,Vr.yG)(n);return(0,xn.D)(n,e)}var nn=k(7579);class Fn extends nn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Fa=k(4671),Vh=k(9672);function Al(...n){const e=(0,Vr.yG)(n),t=(0,Vr.jO)(n),{args:r,keys:i}=Oc(n);if(0===r.length)return(0,xn.D)([],e);const u=new _n.y(function g_(n,e,t=Fa.y){return r=>{Nl(e,()=>{const{length:i}=n,u=new Array(i);let h=i,g=i;for(let v=0;v<i;v++)Nl(e,()=>{const T=(0,xn.D)(n[v],e);let A=!1;T.subscribe(new Yt.Q(r,M=>{u[v]=M,A||(A=!0,g--),g||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,i?h=>Go(i,h):Fa.y));return t?u.pipe(dl(t)):u}function Nl(n,e,t){n?(0,Vh.f)(t,n,e):e()}const Uh=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qp=k(8189);function Ml(...n){return function V1(){return(0,Qp.J)(1)}()((0,xn.D)(n,(0,Vr.yG)(n)))}function j0(n){return new _n.y(e=>{(0,Xr.Xf)(n()).subscribe(e)})}var La=k(515),Jp=k(727),Mr=k(4482);function $0(){return(0,Mr.e)((n,e)=>{let t=null;n._refCount++;const r=new Yt.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Bh extends _n.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jp.w0;const t=this.getSubject();e.add(this.source.subscribe(new Yt.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jp.w0.EMPTY)}return e}refCount(){return $0()(this)}}function hr(n,e){return(0,Mr.e)((t,r)=>{let i=null,u=0,h=!1;const g=()=>h&&!i&&r.complete();t.subscribe(new Yt.Q(r,v=>{null==i||i.unsubscribe();let T=0;const A=u++;(0,Xr.Xf)(n(v,A)).subscribe(i=new Yt.Q(r,M=>r.next(e?e(v,M,A,T++):M),()=>{i=null,g()}))},()=>{h=!0,g()}))})}var Ci=k(5698);function Ol(...n){const e=(0,Vr.yG)(n);return(0,Mr.e)((t,r)=>{(e?Ml(n,t,e):Ml(n,t)).subscribe(r)})}function U1(n,e,t,r,i){return(u,h)=>{let g=t,v=e,T=0;u.subscribe(new Yt.Q(h,A=>{const M=T++;v=g?n(v,A,M):(g=!0,A),r&&h.next(v)},i&&(()=>{g&&h.next(v),h.complete()})))}}function qc(n,e){return(0,Mr.e)(U1(n,e,arguments.length>=2,!0))}function Or(n,e){return(0,Mr.e)((t,r)=>{let i=0;t.subscribe(new Yt.Q(r,u=>n.call(e,u,i++)&&r.next(u)))})}function Va(n){return(0,Mr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe(new Yt.Q(t,void 0,void 0,h=>{u=(0,Xr.Xf)(n(h,Va(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var xr=k(5577),bo=k(576);function jh(n,e){return(0,bo.m)(e)?(0,xr.z)(n,e,1):(0,xr.z)(n,1)}function Xp(n){return n<=0?()=>La.E:(0,Mr.e)((e,t)=>{let r=[];e.subscribe(new Yt.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function G0(n=B1){return(0,Mr.e)((e,t)=>{let r=!1;e.subscribe(new Yt.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function B1(){return new Uh}function H0(n){return(0,Mr.e)((e,t)=>{let r=!1;e.subscribe(new Yt.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ii(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Or((i,u)=>n(i,u,r)):Fa.y,(0,Ci.q)(1),t?H0(e):G0(()=>new Uh))}var pi=k(8505);class Jo{constructor(e,t){this.id=e,this.url=t}}class W0 extends Jo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xi extends Jo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eg extends Jo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class __ extends Jo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class j1 extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z0 extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $h extends Jo{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class q0 extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z0 extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tg{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ng{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class K0{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tA{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y_{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gt="primary";class b_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Yc(n){return new b_(n)}const Y0="ngNavigationCancelingError";function D_(n){const e=Error("NavigationCancelingError: "+n);return e[Y0]=!0,e}function G1(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const h=r[u],g=n[u];if(h.startsWith(":"))i[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Do(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!rg(n[i],e[i]))return!1;return!0}function rg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function w_(n){return Array.prototype.concat.apply([],n)}function ig(n){return n.length>0?n[n.length-1]:null}function gi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function wo(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,xn.D)(Promise.resolve(n)):rt(n)}const xl={exact:function Gh(n,e,t){if(!Eu(n.segments,e.segments)||!Hh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Gh(n.children[r],e.children[r],t))return!1;return!0},subset:C_},E_={exact:function W1(n,e){return Do(n,e)},subset:function z1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rg(n[t],e[t]))},ignored:()=>!0};function T_(n,e,t){return xl[t.paths](n.root,e.root,t.matrixParams)&&E_[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function C_(n,e,t){return I_(n,e,e.segments,t)}function I_(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Eu(i,t)||e.hasChildren()||!Hh(i,t,r))}if(n.segments.length===t.length){if(!Eu(n.segments,t)||!Hh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!C_(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Eu(n.segments,i)&&Hh(n.segments,i,r)&&n.children[Gt])&&I_(n.children[Gt],e,u,r)}}function Hh(n,e,t){return e.every((r,i)=>E_[t](n[i].parameters,r.parameters))}class Ua{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yc(this.queryParams)),this._queryParamMap}toString(){return Wh.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,gi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ag(this)}}class wu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Yc(this.parameters)),this._parameterMap}toString(){return N_(this)}}function Eu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class A_{}class og{parse(e){const t=new J1(e);return new Ua(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Qc(e.root,!0)}`,r=function eb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ug(t)}=${ug(i)}`).join("&"):`${ug(t)}=${ug(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function X0(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Wh=new og;function ag(n){return n.segments.map(e=>N_(e)).join("/")}function Qc(n,e){if(!n.hasChildren())return ag(n);if(e){const t=n.children[Gt]?Qc(n.children[Gt],!1):"",r=[];return gi(n.children,(i,u)=>{u!==Gt&&r.push(`${u}:${Qc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function S_(n,e){let t=[];return gi(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),gi(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[Qc(n.children[Gt],!1)]:[`${i}:${Qc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${ag(n)}/${t[0]}`:`${ag(n)}/(${t.join("//")})`}}function J0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ug(n){return J0(n).replace(/%3B/gi,";")}function zh(n){return J0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qh(n){return decodeURIComponent(n)}function q1(n){return qh(n.replace(/\+/g,"%20"))}function N_(n){return`${zh(n.path)}${function Z1(n){return Object.keys(n).map(e=>`;${zh(e)}=${zh(n[e])}`).join("")}(n.parameters)}`}const K1=/^[^\/()?;=#]+/;function lg(n){const e=n.match(K1);return e?e[0]:""}const Eo=/^[^=?&#]+/,tb=/^[^&#]+/;class J1{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new zt(e,t)),r}parseSegment(){const e=lg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new wu(qh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=lg(this.remaining);i&&(r=i,this.capture(r))}e[qh(t)]=qh(r)}parseQueryParam(e){const t=function Y1(n){const e=n.match(Eo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Q1(n){const e=n.match(tb);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const i=q1(t),u=q1(r);if(e.hasOwnProperty(i)){let h=e[i];Array.isArray(h)||(h=[h],e[i]=h),h.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Gt);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[Gt]:new zt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class nb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=M_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=M_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cg(e,this._root).map(t=>t.value)}}function M_(n,e){if(n===e.value)return e;for(const t of e.children){const r=M_(n,t);if(r)return r}return null}function cg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cg(n,t);if(r.length)return r.unshift(e),r}return[]}class Ba{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class rb extends nb{constructor(e,t){super(e),this.snapshot=t,R_(this,e)}toString(){return this.snapshot.toString()}}function kt(n,e){const t=function ib(n,e){const h=new es([],{},{},"",{},Gt,e,null,n.root,-1,{});return new x_("",new Ba(h,[]))}(n,e),r=new Fn([new wu("",{})]),i=new Fn({}),u=new Fn({}),h=new Fn({}),g=new Fn(""),v=new Rl(r,i,h,g,u,Gt,e,t.root);return v.snapshot=t.root,new rb(new Ba(v,[]),t)}class Rl{constructor(e,t,r,i,u,h,g,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=h,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>Yc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>Yc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function O_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function dg(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class es{constructor(e,t,r,i,u,h,g,v,T,A,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=h,this.component=g,this.routeConfig=v,this._urlSegment=T,this._lastPathIndex=A,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class x_ extends nb{constructor(e,t){super(t),this.url=e,R_(this,t)}toString(){return hg(this._root)}}function R_(n,e){e.value._routerState=n,e.children.forEach(t=>R_(n,t))}function hg(n){const e=n.children.length>0?` { ${n.children.map(hg).join(", ")} } `:"";return`${n.value}${e}`}function To(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Do(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Do(e.params,t.params)||n.params.next(t.params),function H1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Do(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Do(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zh(n,e){const t=Do(n.params,e.params)&&function sg(n,e){return Eu(n,e)&&n.every((t,r)=>Do(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zh(n.parent,e.parent))}function kl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function rA(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return kl(n,r,i);return kl(n,r)})}(n,e,t);return new Ba(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(g=>kl(n,g)),h}}const r=function ob(n){return new Rl(new Fn(n.url),new Fn(n.params),new Fn(n.queryParams),new Fn(n.fragment),new Fn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>kl(n,u));return new Ba(r,i)}}function Pl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tu(n){return"object"==typeof n&&null!=n&&n.outlets}function Kh(n,e,t,r,i){let u={};return r&&gi(r,(h,g)=>{u[g]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new Ua(t.root===n?e:fg(t.root,n,e),u,i)}function fg(n,e,t){const r={};return gi(n.children,(i,u)=>{r[u]=i===e?t:fg(i,e,t)}),new zt(n.segments,r)}class pg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pl(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Tu);if(i&&i!==ig(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class k_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function P_(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return F_(n,e,t);const r=function nE(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const h=n.segments[i],g=t[r];if(Tu(g))break;const v=`${g}`,T=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&T&&"object"==typeof T&&void 0===T.outlets){if(!lb(v,T,h))return u;r+=2}else{if(!lb(v,{},h))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new zt(n.segments.slice(0,r.pathIndex),{});return u.children[Gt]=new zt(n.segments.slice(r.pathIndex),n.children),F_(u,0,i)}return r.match&&0===i.length?new zt(n.segments,{}):r.match&&!n.hasChildren()?ab(n,e,t):r.match?F_(n,0,i):ab(n,e,t)}function F_(n,e,t){if(0===t.length)return new zt(n.segments,{});{const r=function tE(n){return Tu(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};return gi(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[h]=P_(n.children[h],e,u))}),gi(n.children,(u,h)=>{void 0===r[h]&&(i[h]=u)}),new zt(n.segments,i)}}function ab(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Tu(u)){const v=ub(u.outlets);return new zt(r,v)}if(0===i&&Pl(t[0])){r.push(new wu(n.segments[e].path,L_(t[0]))),i++;continue}const h=Tu(u)?u.outlets[Gt]:`${u}`,g=i<t.length-1?t[i+1]:null;h&&g&&Pl(g)?(r.push(new wu(h,L_(g))),i+=2):(r.push(new wu(h,{})),i++)}return new zt(r,{})}function ub(n){const e={};return gi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ab(new zt([],{}),0,t))}),e}function L_(n){const e={};return gi(n,(t,r)=>e[r]=`${t}`),e}function lb(n,e,t){return n==t.path&&Do(e,t.parameters)}class oA{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),To(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Jc(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,i[h],r),delete i[h]}),gi(i,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const h=r.getContext(i.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Jc(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],i);if(r&&r.outlet){const h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Jc(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Jc(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new y_(u.value.snapshot))}),e.children.length&&this.forwardEvent(new tA(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(To(i),i===u)if(i.component){const h=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const h=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),To(g.route.value),this.activateChildRoutes(e,null,h.children)}else{const g=function aA(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=i,h.resolver=v,h.outlet&&h.outlet.activateWith(i,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class cb{constructor(e,t){this.routes=e,this.module=t}}function Fl(n){return"function"==typeof n}function Xc(n){return n instanceof Ua}const $s=Symbol("INITIAL_VALUE");function Ll(){return hr(n=>Al(n.map(e=>e.pipe((0,Ci.q)(1),Ol($s)))).pipe(qc((e,t)=>{let r=!1;return t.reduce((i,u,h)=>i!==$s?i:(u===$s&&(r=!0),r||!1!==u&&h!==t.length-1&&!Xc(u)?i:u),e)},$s),Or(e=>e!==$s),(0,st.U)(e=>Xc(e)?e:!0===e),(0,Ci.q)(1)))}class rE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ed,this.attachRef=null}}class ed{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new rE,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Yh=(()=>{class n{constructor(t,r,i,u,h){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=u||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,v=new db(t,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ed),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class db{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Rl?this.route:e===ed?this.childContexts:this.parent.get(e,t)}}let gg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[Yh],encapsulation:2}),n})();function hb(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Cu(r,fb(e,r))}}function Cu(n,e){n.children&&hb(n.children,e)}function fb(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function U_(n){const e=n.children&&n.children.map(U_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=gg),t}function ts(n){return n.outlet||Gt}function pb(n,e){const t=n.filter(r=>ts(r)===e);return t.push(...n.filter(r=>ts(r)!==e)),t}const B_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function mg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},B_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||G1)(t,n,e);if(!u)return Object.assign({},B_);const h={};gi(u.posParams,(v,T)=>{h[T]=v.path});const g=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:g,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function _g(n,e,t,r,i="corrected"){if(t.length>0&&function j_(n,e,t){return t.some(r=>Iu(n,e,r)&&ts(r)!==Gt)}(n,t,r)){const h=new zt(e,function td(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ts(u)!==Gt){const h=new zt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,i[ts(u)]=h}return i}(n,e,r,new zt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function nd(n,e,t){return t.some(r=>Iu(n,e,r))}(n,t,r)){const h=new zt(n.segments,function Qh(n,e,t,r,i,u){const h={};for(const g of r)if(Iu(n,t,g)&&!i[ts(g)]){const v=new zt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[ts(g)]=v}return Object.assign(Object.assign({},i),h)}(n,e,t,r,n.children,i));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new zt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Iu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Vl(n,e,t,r){return!!(ts(n)===r||r!==Gt&&Iu(e,t,n))&&("**"===n.path||mg(e,n,t).matched)}function gb(n,e,t){return 0===e.length&&!n.children[t]}class rd{constructor(e){this.segmentGroup=e||null}}class $_{constructor(e){this.urlTree=e}}function id(n){return new _n.y(e=>e.error(new rd(n)))}function yg(n){return new _n.y(e=>e.error(new $_(n)))}function mb(n){return new _n.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class _b{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=_g(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Gt).pipe((0,st.U)(u=>this.createUrlTree(bg(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Va(u=>{if(u instanceof $_)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof rd?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Gt).pipe((0,st.U)(i=>this.createUrlTree(bg(i),e.queryParams,e.fragment))).pipe(Va(i=>{throw i instanceof rd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new zt([],{[Gt]:e}):e;return new Ua(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,st.U)(u=>new zt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,xn.D)(i).pipe(jh(u=>{const h=r.children[u],g=pb(t,u);return this.expandSegmentGroup(e,g,h,u).pipe((0,st.U)(v=>({segment:v,outlet:u})))}),qc((u,h)=>(u[h.outlet]=h.segment,u),{}),function Zc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Or((i,u)=>n(i,u,r)):Fa.y,Xp(1),t?H0(e):G0(()=>new Uh))}())}expandSegment(e,t,r,i,u,h){return(0,xn.D)(r).pipe(jh(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,u,h).pipe(Va(T=>{if(T instanceof rd)return rt(null);throw T}))),Ii(g=>!!g),Va((g,v)=>{if(g instanceof Uh||"EmptyError"===g.name){if(gb(t,i,u))return rt(new zt([],{}));throw new rd(t)}throw g}))}expandSegmentAgainstRoute(e,t,r,i,u,h,g){return Vl(i,t,u,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,h):id(t):id(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,h){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yg(u):this.lineralizeSegments(r,u).pipe((0,xr.z)(h=>{const g=new zt(h,{});return this.expandSegment(e,g,t,h,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,h){const{matched:g,consumedSegments:v,lastChild:T,positionalParamSegments:A}=mg(t,i,u);if(!g)return id(t);const M=this.applyRedirectCommands(v,i.redirectTo,A);return i.redirectTo.startsWith("/")?yg(M):this.lineralizeSegments(i,M).pipe((0,xr.z)(F=>this.expandSegment(e,t,r,F.concat(u.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?rt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,st.U)(F=>(r._loadedConfig=F,new zt(i,{})))):rt(new zt(i,{}));const{matched:h,consumedSegments:g,lastChild:v}=mg(t,r,i);if(!h)return id(t);const T=i.slice(v);return this.getChildConfig(e,r,i).pipe((0,xr.z)(M=>{const F=M.module,$=M.routes,{segmentGroup:X,slicedSegments:Te}=_g(t,g,T,$),be=new zt(X.segments,X.children);if(0===Te.length&&be.hasChildren())return this.expandChildren(F,$,be).pipe((0,st.U)(je=>new zt(g,je)));if(0===$.length&&0===Te.length)return rt(new zt(g,{}));const Re=ts(r)===u;return this.expandSegment(F,be,$,Te,Re?Gt:u,!0).pipe((0,st.U)(Pe=>new zt(g.concat(Pe.segments),Pe.children)))}))}getChildConfig(e,t,r){return t.children?rt(new cb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?rt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,xr.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,st.U)(u=>(t._loadedConfig=u,u))):function vg(n){return new _n.y(e=>e.error(D_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):rt(new cb([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?rt(i.map(h=>{const g=e.get(h);let v;if(function lA(n){return n&&Fl(n.canLoad)}(g))v=g.canLoad(t,r);else{if(!Fl(g))throw new Error("Invalid CanLoad guard");v=g(t,r)}return wo(v)})).pipe(Ll(),(0,pi.b)(h=>{if(!Xc(h))return;const g=D_(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,st.U)(h=>!0===h)):rt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rt(r);if(i.numberOfChildren>1||!i.children[Gt])return mb(e.redirectTo);i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Ua(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return gi(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[u]=t[g]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let h={};return gi(t.children,(g,v)=>{h[v]=this.createSegmentGroup(e,g,r,i)}),new zt(u,h)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function bg(n){const e={};for(const r of Object.keys(n.children)){const u=bg(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function fA(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}class vb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jh{constructor(e,t){this.component=e,this.route=t}}function sE(n,e,t){const r=n._root;return Xh(r,e?e._root:null,t,[r.value])}function Si(n,e,t){const r=function aE(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Xh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Jc(e);return n.children.forEach(h=>{(function pA(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const v=function gA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Eu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Eu(n.url,e.url)||!Do(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zh(n,e)||!Do(n.queryParams,e.queryParams);default:return!Zh(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new vb(r)):(u.data=h.data,u._resolvedData=h._resolvedData),Xh(n,e,u.component?g?g.children:null:t,r,i),v&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new Jh(g.outlet.component,h))}else h&&sd(e,g,i),i.canActivateChecks.push(new vb(r)),Xh(n,null,u.component?g?g.children:null:t,r,i)})(h,u[h.value.outlet],t,r.concat([h.value]),i),delete u[h.value.outlet]}),gi(u,(h,g)=>sd(h,t.getContext(g),i)),i}function sd(n,e,t){const r=Jc(n),i=n.value;gi(r,(u,h)=>{sd(u,i.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Jh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class hE{}function H_(n){return new _n.y(e=>e.error(n))}class pE{constructor(e,t,r,i,u,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=_g(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Gt);if(null===t)return null;const r=new es([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ba(r,t),u=new x_(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=O_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const h=t.children[u],g=pb(e,u),v=this.processSegmentGroup(g,h,u);if(null===v)return null;r.push(...v)}const i=Co(r);return function wb(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,r,i);if(null!==h)return h}return gb(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Vl(e,t,r,i))return null;let u,h=[],g=[];if("**"===e.path){const $=r.length>0?ig(r).parameters:{};u=new es(r,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mE(e),ts(e),e.component,e,Cb(t),Ib(t)+r.length,W_(e))}else{const $=mg(t,e,r);if(!$.matched)return null;h=$.consumedSegments,g=r.slice($.lastChild),u=new es(h,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mE(e),ts(e),e.component,e,Cb(t),Ib(t)+h.length,W_(e))}const v=function Eb(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:A}=_g(t,h,g,v.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===A.length&&T.hasChildren()){const $=this.processChildren(v,T);return null===$?null:[new Ba(u,$)]}if(0===v.length&&0===A.length)return[new Ba(u,[])];const M=ts(e)===i,F=this.processSegment(v,T,A,M?Gt:i);return null===F?null:[new Ba(u,F)]}}function gE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Co(n){const e=[],t=new Set;for(const r of n){if(!gE(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Co(r.children);e.push(new Ba(r.value,i))}return e.filter(r=>!t.has(r))}function Cb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ib(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function mE(n){return n.data||{}}function W_(n){return n.resolve||{}}function q_(n){return hr(e=>{const t=n(e);return t?(0,xn.D)(t).pipe((0,st.U)(()=>e)):rt(e)})}class DE extends class Z_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ef=new l.OlP("ROUTES");class wg{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,st.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new cb(w_(h.injector.get(ef,void 0,l.XFs.Self|l.XFs.Optional)).map(U_),h)}),Va(u=>{throw t._loader$=void 0,u}));return t._loader$=new Bh(i,()=>new nn.x).pipe($0()),t._loader$}loadModuleFactory(e){return wo(e()).pipe((0,xr.z)(t=>t instanceof l.YKP?rt(t):(0,xn.D)(this.compiler.compileModuleAsync(t))))}}class wE{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function EE(n){throw n}function K_(n,e,t){return e.parse("/")}function TE(n,e){return rt(null)}const CE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ab={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ns=(()=>{class n{constructor(t,r,i,u,h,g,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nn.x,this.errorHandler=EE,this.malformedUriErrorHandler=K_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:TE,afterPreactivation:TE},this.urlHandlingStrategy=new wE,this.routeReuseStrategy=new DE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(l.h0i),this.console=h.get(l.c2e);const M=h.get(l.R0b);this.isNgZoneEnabled=M instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Q0(){return new Ua(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wg(h,g,F=>this.triggerEvent(new tg(F)),F=>this.triggerEvent(new ng(F))),this.routerState=kt(this.currentUrlTree,this.rootComponentType),this.transitions=new Fn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Or(i=>0!==i.id),(0,st.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),hr(i=>{let u=!1,h=!1;return rt(i).pipe((0,pi.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hr(g=>{const v=this.browserUrlTree.toString(),T=!this.navigated||g.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return tf(g.source)&&(this.browserUrlTree=g.extractedUrl),rt(g).pipe(hr(M=>{const F=this.transitions.getValue();return r.next(new W0(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?La.E:Promise.resolve(M)}),function yb(n,e,t,r){return hr(i=>function iE(n,e,t,r,i){return new _b(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,st.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pi.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function _E(n,e,t,r,i){return(0,xr.z)(u=>function fE(n,e,t,r,i="emptyOnly",u="legacy"){try{const h=new pE(n,e,t,r,i,u).recognize();return null===h?H_(new hE):rt(h)}catch(h){return H_(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,st.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pi.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl($,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new j1(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:$,source:X,restoredState:Te,extras:be}=g,Re=new W0(F,this.serializeUrl($),X,Te);r.next(Re);const Oe=kt($,this.rootComponentType).snapshot;return rt(Object.assign(Object.assign({},g),{targetSnapshot:Oe,urlAfterRedirects:$,extras:Object.assign(Object.assign({},be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),La.E}),q_(g=>{const{targetSnapshot:v,id:T,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:$}}=g;return this.hooks.beforePreactivation(v,{navigationId:T,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!$})}),(0,pi.b)(g=>{const v=new z0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,st.U)(g=>Object.assign(Object.assign({},g),{guards:sE(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function mA(n,e){return(0,xr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?rt(Object.assign(Object.assign({},t),{guardsResult:!0})):function uE(n,e,t,r){return(0,xn.D)(n).pipe((0,xr.z)(i=>function Db(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?rt(u.map(g=>{const v=Si(g,e,i);let T;if(function hA(n){return n&&Fl(n.canDeactivate)}(v))T=wo(v.canDeactivate(n,e,t,r));else{if(!Fl(v))throw new Error("Invalid CanDeactivate guard");T=wo(v(n,e,t,r))}return T.pipe(Ii())})).pipe(Ll()):rt(!0)}(i.component,i.route,t,e,r)),Ii(i=>!0!==i,!0))}(h,r,i,n).pipe((0,xr.z)(g=>g&&function uA(n){return"boolean"==typeof n}(g)?function G_(n,e,t,r){return(0,xn.D)(e).pipe(jh(i=>Ml(function lE(n,e){return null!==n&&e&&e(new K0(n)),rt(!0)}(i.route.parent,r),function bb(n,e){return null!==n&&e&&e(new Kc(n)),rt(!0)}(i.route,r),function dE(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function oE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>j0(()=>rt(h.guards.map(v=>{const T=Si(v,h.node,t);let A;if(function dA(n){return n&&Fl(n.canActivateChild)}(T))A=wo(T.canActivateChild(r,n));else{if(!Fl(T))throw new Error("Invalid CanActivateChild guard");A=wo(T(r,n))}return A.pipe(Ii())})).pipe(Ll())));return rt(u).pipe(Ll())}(n,i.path,t),function cE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return rt(!0);const i=r.map(u=>j0(()=>{const h=Si(u,e,t);let g;if(function cA(n){return n&&Fl(n.canActivate)}(h))g=wo(h.canActivate(e,n));else{if(!Fl(h))throw new Error("Invalid CanActivate guard");g=wo(h(e,n))}return g.pipe(Ii())}));return rt(i).pipe(Ll())}(n,i.route,t))),Ii(i=>!0!==i,!0))}(r,u,n,e):rt(g)),(0,st.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,pi.b)(g=>{if(Xc(g.guardsResult)){const T=D_(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw T.url=g.guardsResult,T}const v=new $h(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),Or(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),q_(g=>{if(g.guards.canActivateChecks.length)return rt(g).pipe((0,pi.b)(v=>{const T=new q0(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}),hr(v=>{let T=!1;return rt(v).pipe(function yE(n,e){return(0,xr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return rt(t);let u=0;return(0,xn.D)(i).pipe(jh(h=>function vE(n,e,t,r){return function z_(n,e,t,r){const i=Object.keys(n);if(0===i.length)return rt({});const u={};return(0,xn.D)(i).pipe((0,xr.z)(h=>function bE(n,e,t,r){const i=Si(n,e,r);return wo(i.resolve?i.resolve(e,t):i(e,t))}(n[h],e,t,r).pipe((0,pi.b)(g=>{u[h]=g}))),Xp(1),(0,xr.z)(()=>Object.keys(u).length===i.length?rt(u):La.E))}(n._resolve,n,e,r).pipe((0,st.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),O_(n,t).resolve),null)))}(h.route,r,n,e)),(0,pi.b)(()=>u++),Xp(1),(0,xr.z)(h=>u===i.length?rt(t):La.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pi.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,pi.b)(v=>{const T=new Z0(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}))}),q_(g=>{const{targetSnapshot:v,id:T,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:$}}=g;return this.hooks.afterPreactivation(v,{navigationId:T,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!$})}),(0,st.U)(g=>{const v=function sb(n,e,t){const r=kl(n,e._root,t?t._root:void 0);return new rb(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:v})}),(0,pi.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,st.U)(r=>(new oA(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,pi.b)({next(){u=!0},complete(){u=!0}}),function eA(n){return(0,Mr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var g;u||h||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===i.id&&(this.currentNavigation=null)}),Va(g=>{if(h=!0,function $1(n){return n&&n[Y0]}(g)){const v=Xc(g.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const T=new eg(i.id,this.serializeUrl(i.extractedUrl),g.message);r.next(T),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tf(i.source)};this.scheduleNavigation(A,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new __(i.id,this.serializeUrl(i.extractedUrl),g);r.next(v);try{i.resolve(this.errorHandler(g))}catch(T){i.reject(T)}}return La.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},h=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(h){const v=Object.assign({},h);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,r,h,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hb(t),this.config=t.map(U_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:h,queryParamsHandling:g,preserveFragment:v}=r,T=i||this.routerState.root,A=v?this.currentUrlTree.fragment:h;let M=null;switch(g){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function iA(n,e,t,r,i){if(0===t.length)return Kh(e.root,e.root,e,r,i);const u=function sA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return gi(u.outlets,(v,T)=>{g[T]="string"==typeof v?v.split("/"):v}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===h?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new pg(t,e,r)}(t);if(u.toRoot())return Kh(e.root,new zt([],{}),e,r,i);const h=function X1(n,e,t){if(n.isAbsolute)return new k_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new k_(u,u===e.root,0)}const r=Pl(n.commands[0])?0:1;return function eE(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new k_(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),g=h.processChildren?F_(h.segmentGroup,h.index,u.commands):P_(h.segmentGroup,h.index,u.commands);return Kh(h.segmentGroup,g,e,r,i)}(T,this.currentUrlTree,t,M,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Xc(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Nb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},CE):!1===r?Object.assign({},Ab):r,Xc(t))return T_(this.currentUrlTree,t,i);const u=this.parseUrl(t);return T_(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Xi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,h){var g,v,T;if(this.disposed)return Promise.resolve(!1);const A=this.transitions.value,M=tf(r)&&A&&!tf(A.source),F=A.rawUrl.toString()===t.toString(),$=A.id===(null===(g=this.currentNavigation)||void 0===g?void 0:g.id);if(M&&F&&$)return Promise.resolve(!0);let Te,be,Re;h?(Te=h.resolve,be=h.reject,Re=h.promise):Re=new Promise((je,tt)=>{Te=je,be=tt});const Oe=++this.navigationId;let Pe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Pe=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):Pe=0,this.setTransition({id:Oe,targetPageId:Pe,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:Te,reject:be,promise:Re,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Re.catch(je=>Promise.reject(je))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new eg(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function tf(n){return"imperative"!==n}class AE{}class Q_{preload(e,t){return rt(null)}}let Tg=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new wg(i,r,v=>t.triggerEvent(new tg(v)),v=>t.triggerEvent(new ng(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(Or(t=>t instanceof Xi),jh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;i.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,xn.D)(i).pipe((0,Qp.J)(),(0,st.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?rt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,xr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ns),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(AE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ul=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof W0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof v_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new v_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const $a=new l.OlP("ROUTER_CONFIGURATION"),J_=new l.OlP("ROUTER_FORROOT_GUARD"),Mb=[Ze,{provide:A_,useClass:og},{provide:ns,useFactory:function od(n,e,t,r,i,u,h={},g,v){const T=new ns(null,n,e,t,r,i,w_(u));return g&&(T.urlHandlingStrategy=g),v&&(T.routeReuseStrategy=v),function Rb(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,T),h.enableTracing&&T.events.subscribe(A=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(F=console.groupEnd)||void 0===F||F.call(console)}),T},deps:[A_,ed,Ze,l.zs3,l.Sil,ef,$a,[class Sb{},new l.FiY],[class Dg{},new l.FiY]]},ed,{provide:Rl,useFactory:function OE(n){return n.routerState.root},deps:[ns]},Tg,Q_,class Y_{preload(e,t){return t().pipe(Va(()=>rt(null)))}},{provide:$a,useValue:{enableTracing:!1}}];function Ob(){return new l.PXZ("Router",ns)}let xb=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Mb,ey(t),{provide:J_,useFactory:ME,deps:[[ns,new l.FiY,new l.tp0]]},{provide:$a,useValue:r||{}},{provide:Y,useFactory:NE,deps:[re,[new l.tBr(me),new l.FiY],$a]},{provide:Ul,useFactory:X_,deps:[ns,da,$a]},{provide:AE,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Q_},{provide:l.PXZ,multi:!0,useFactory:Ob},[ty,{provide:l.ip1,multi:!0,useFactory:ad,deps:[ty]},{provide:kb,useFactory:xE,deps:[ty]},{provide:l.tb,multi:!0,useExisting:kb}]]}}static forChild(t){return{ngModule:n,providers:[ey(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J_,8),l.LFG(ns,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function X_(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ul(n,e,t)}function NE(n,e,t={}){return t.useHash?new De(n,e):new Se(n,e)}function ME(n){return"guarded"}function ey(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:ef,multi:!0,useValue:n}]}let ty=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new nn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(g=>r=g),u=this.injector.get(ns),h=this.injector.get($a);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?rt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get($a),i=this.injector.get(Tg),u=this.injector.get(Ul),h=this.injector.get(ns),g=this.injector.get(l.z2F);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),i.setUpPreloading(),u.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ad(n){return n.appInitializer.bind(n)}function xE(n){return n.bootstrapListener.bind(n)}const kb=new l.OlP("Router Initializer"),Gs=[];let ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xb.forRoot(Gs)],xb]}),n})();var Pb=k(233),ud=k(5363),nf=k(5032);function rf(...n){const e=(0,Vr.jO)(n);return(0,Mr.e)((t,r)=>{const i=n.length,u=new Array(i);let h=n.map(()=>!1),g=!1;for(let v=0;v<i;v++)(0,Xr.Xf)(n[v]).subscribe(new Yt.Q(r,T=>{u[v]=T,!g&&!h[v]&&(h[v]=!0,(g=h.every(Fa.y))&&(h=null))},nf.Z));t.subscribe(new Yt.Q(r,v=>{if(g){const T=[v,...u];r.next(e?e(...T):T)}}))})}function sf(n,e=Fa.y){return n=null!=n?n:PE,(0,Mr.e)((t,r)=>{let i,u=!0;t.subscribe(new Yt.Q(r,h=>{const g=e(h);(u||!n(i,g))&&(u=!1,i=g,r.next(h))}))})}function PE(n,e){return n===e}const af={};function ji(n,e){if(af[n]=(af[n]||0)+1,"function"==typeof e)return ry(n,(...r)=>Object.assign(Object.assign({},e(...r)),{type:n}));switch(e?e._as:"empty"){case"empty":return ry(n,()=>({type:n}));case"props":return ry(n,r=>Object.assign(Object.assign({},r),{type:n}));default:throw new Error("Unexpected config.")}}function ry(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}const LE="@ngrx/store/init";let uf=(()=>{class n extends Fn{constructor(){super({type:LE})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const iy=[uf],Fb=new l.OlP("@ngrx/store Internal Root Guard"),sy=new l.OlP("@ngrx/store Internal Initial State"),Cg=new l.OlP("@ngrx/store Initial State"),VE=new l.OlP("@ngrx/store Reducer Factory"),Hs=new l.OlP("@ngrx/store Internal Reducer Factory Provider"),UE=new l.OlP("@ngrx/store Initial Reducers"),Lb=new l.OlP("@ngrx/store Internal Initial Reducers"),oy=new l.OlP("@ngrx/store Store Features"),ay=new l.OlP("@ngrx/store Internal Store Reducers"),Ig=new l.OlP("@ngrx/store Internal Feature Reducers"),Vb=new l.OlP("@ngrx/store Internal Feature Configs"),BE=new l.OlP("@ngrx/store Internal Store Features"),uy=new l.OlP("@ngrx/store Internal Feature Reducers Token"),Sg=new l.OlP("@ngrx/store Feature Reducers"),Ub=new l.OlP("@ngrx/store User Provided Meta Reducers"),ld=new l.OlP("@ngrx/store Meta Reducers"),Bb=new l.OlP("@ngrx/store Internal Resolved Meta Reducers"),jb=new l.OlP("@ngrx/store User Runtime Checks Config"),$b=new l.OlP("@ngrx/store Internal User Runtime Checks Config"),lf=new l.OlP("@ngrx/store Internal Runtime Checks"),ly=new l.OlP("@ngrx/store Check if Action types are unique");function cy(n,e={}){const t=Object.keys(n),r={};for(let u=0;u<t.length;u++){const h=t[u];"function"==typeof n[h]&&(r[h]=n[h])}const i=Object.keys(r);return function(h,g){h=void 0===h?e:h;let v=!1;const T={};for(let A=0;A<i.length;A++){const M=i[A],$=h[M],X=(0,r[M])($,g);T[M]=X,v=v||X!==$}return v?T:h}}function Su(...n){return function(e){if(0===n.length)return e;const t=n[n.length-1];return n.slice(0,-1).reduceRight((i,u)=>u(i),t(e))}}function Gb(n,e){return Array.isArray(e)&&e.length>0&&(n=Su.apply(null,[...e,n])),(t,r)=>{const i=n(t);return(u,h)=>i(u=void 0===u?r:u,h)}}class dy extends _n.y{}class Hb extends uf{}let ys=(()=>{class n extends Fn{constructor(t,r,i,u){super(u(i,r)),this.dispatcher=t,this.initialState=r,this.reducers=i,this.reducerFactory=u}get currentReducers(){return this.reducers}addFeature(t){this.addFeatures([t])}addFeatures(t){const r=t.reduce((i,{reducers:u,reducerFactory:h,metaReducers:g,initialState:v,key:T})=>{const A="function"==typeof u?function cf(n){const e=Array.isArray(n)&&n.length>0?Su(...n):t=>t;return(t,r)=>(t=e(t),(i,u)=>t(i=void 0===i?r:i,u))}(g)(u,v):Gb(h,g)(u,v);return i[T]=A,i},{});this.addReducers(r)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(r=>r.key))}addReducer(t,r){this.addReducers({[t]:r})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(r=>{this.reducers=function Ag(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,r)=>Object.assign(t,{[r]:n[r]}),{})}(this.reducers,r)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hb),l.LFG(Cg),l.LFG(UE),l.LFG(VE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const df=[ys,{provide:dy,useExisting:ys},{provide:Hb,useExisting:uf}];let Br=(()=>{class n extends nn.x{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Bl=[Br];class hf extends _n.y{}let vs=(()=>{class n extends Fn{constructor(t,r,i,u){super(u);const T=t.pipe((0,ud.Q)(Pb.N)).pipe(rf(r)).pipe(qc(fy,{state:u}));this.stateSubscription=T.subscribe(({state:A,action:M})=>{this.next(A),i.next(M)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return n.INIT=LE,n.\u0275fac=function(t){return new(t||n)(l.LFG(uf),l.LFG(dy),l.LFG(Br),l.LFG(Cg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function fy(n={state:void 0},[e,t]){const{state:r}=n;return{state:t(r,e),action:e}}const cd=[vs,{provide:hf,useExisting:vs}];let bs=(()=>{class n extends _n.y{constructor(t,r,i){super(),this.actionsObserver=r,this.reducerManager=i,this.source=t}select(t,...r){return hd.call(null,t,...r)(this)}lift(t){const r=new n(this,this.actionsObserver,this.reducerManager);return r.operator=t,r}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,r){this.reducerManager.addReducer(t,r)}removeReducer(t){this.reducerManager.removeReducer(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hf),l.LFG(uf),l.LFG(ys))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const dd=[bs];function hd(n,e,...t){return function(i){let u;if("string"==typeof n){const h=[e,...t].filter(Boolean);u=i.pipe(function kE(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return(0,st.U)(t=>{let r=t;for(let i=0;i<e;i++){const u=null==r?void 0:r[n[i]];if(void 0===u)return;r=u}return r})}(n,...h))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);u=i.pipe((0,st.U)(h=>n(h,e)))}return u.pipe(sf())}}const Au="https://ngrx.io/guide/store/configuration/runtime-checks";function $l(n){return void 0===n}function Gl(n){return null===n}function Hl(n){return Array.isArray(n)}function py(n){return"object"==typeof n&&null!==n}function Ng(n){return"function"==typeof n}function Mg(n,e){return n===e}function Jb(n,e,t){for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!0;return!1}function my(n,e=Mg,t=Mg){let u,r=null,i=null;return{memoized:function T(){if(void 0!==u)return u.result;if(!r)return i=n.apply(null,arguments),r=arguments,i;if(!Jb(arguments,r,e))return i;const A=n.apply(null,arguments);return r=arguments,t(i,A)?i:(i=A,A)},reset:function h(){r=null,i=null},setResult:function g(A){u={result:A}},clearResult:function v(){u=void 0}}}function Bn(...n){return function Xb(n,e={stateFn:GE}){return function(...t){let r=t;if(Array.isArray(r[0])){const[A,...M]=r;r=[...A,...M]}const i=r.slice(0,r.length-1),u=r[r.length-1],h=i.filter(A=>A.release&&"function"==typeof A.release),g=n(function(...A){return u.apply(null,A)}),v=my(function(A,M){return e.stateFn.apply(null,[A,i,M,g])});return Object.assign(v.memoized,{release:function T(){v.reset(),g.reset(),h.forEach(A=>A.release())},projector:g.memoized,setResult:v.setResult,clearResult:v.clearResult})}}(my)(...n)}function GE(n,e,t,r){if(void 0===t){const u=e.map(h=>h(n));return r.memoized.apply(null,u)}const i=e.map(u=>u(n,t));return r.memoized.apply(null,[...i,t])}function _y(n){return Bn(e=>{const t=e[n];return(0,l.X6Q)()&&!(n in e)&&console.warn(`@ngrx/store: The feature name "${n}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${n}', ...) or StoreModule.forFeature('${n}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},e=>e)}function ff(n){Object.freeze(n);const e=Ng(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&function Yb(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(n,t)&&(!e||"caller"!==t&&"callee"!==t&&"arguments"!==t)){const r=n[t];(py(r)||Ng(r))&&!Object.isFrozen(r)&&ff(r)}}),n}function eD(n,e=[]){return($l(n)||Gl(n))&&0===e.length?{path:["root"],value:n}:Object.keys(n).reduce((r,i)=>{if(r)return r;const u=n[i];return function Kb(n){return Ng(n)&&n.hasOwnProperty("\u0275cmp")}(u)?r:!($l(u)||Gl(u)||function qb(n){return"number"==typeof n}(u)||function zb(n){return"boolean"==typeof n}(u)||function Wb(n){return"string"==typeof n}(u)||Hl(u))&&(function gy(n){if(!function Zb(n){return py(n)&&!Hl(n)}(n))return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||null===e}(u)?eD(u,[...e,i]):{path:[...e,i],value:u})},!1)}function zE(n,e){if(!1===n)return;const t=n.path.join("."),r=new Error(`Detected unserializable ${e} at "${t}". ${Au}#strict${e}serializability`);throw r.value=n.value,r.unserializablePath=t,r}function qE(n){return(0,l.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function tD({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?function WE(n,e){return function(t,r){e.action(r)&&zE(eD(r),"action");const i=n(t,r);return e.state()&&zE(eD(i),"state"),i}}(t,{action:r=>n&&!vy(r),state:()=>e}):t}function TA({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?function yy(n,e){return function(t,r){const i=e.action(r)?ff(r):r,u=n(t,i);return e.state()?ff(u):u}}(t,{action:r=>n&&!vy(r),state:()=>e}):t}function vy(n){return n.type.startsWith("@ngrx")}function fd({strictActionWithinNgZone:n}){return e=>n?function EA(n,e){return function(t,r){if(e.action(r)&&!l.R0b.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${Au}#strictactionwithinngzone`);return n(t,r)}}(e,{action:t=>n&&!vy(t)}):e}function ZE(n){return[{provide:$b,useValue:n},{provide:jb,useFactory:KE,deps:[$b]},{provide:lf,deps:[jb],useFactory:qE},{provide:ld,multi:!0,deps:[lf],useFactory:TA},{provide:ld,multi:!0,deps:[lf],useFactory:tD},{provide:ld,multi:!0,deps:[lf],useFactory:fd}]}function by(){return[{provide:ly,multi:!0,deps:[lf],useFactory:nD}]}function KE(n){return n}function nD(n){if(!n.strictActionTypeUniqueness)return;const e=Object.entries(af).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${Au}#strictactiontypeuniqueness`)}let Wl=(()=>{class n{constructor(t,r,i,u,h,g){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uf),l.LFG(dy),l.LFG(Br),l.LFG(bs),l.LFG(Fb,8),l.LFG(ly,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Dy=(()=>{class n{constructor(t,r,i,u,h){this.features=t,this.featureReducers=r,this.reducerManager=i;const g=t.map((v,T)=>{const M=r.shift()[T];return Object.assign(Object.assign({},v),{reducers:M,initialState:iD(v.initialState)})});i.addFeatures(g)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(BE),l.LFG(Sg),l.LFG(ys),l.LFG(Wl),l.LFG(ly,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),rD=(()=>{class n{static forRoot(t,r={}){return{ngModule:Wl,providers:[{provide:Fb,useFactory:sD,deps:[[bs,new l.FiY,new l.tp0]]},{provide:sy,useValue:r.initialState},{provide:Cg,useFactory:iD,deps:[sy]},{provide:Lb,useValue:t},{provide:ay,useExisting:t instanceof l.OlP?t:Lb},{provide:UE,deps:[l.zs3,Lb,[new l.tBr(ay)]],useFactory:YE},{provide:Ub,useValue:r.metaReducers?r.metaReducers:[]},{provide:Bb,deps:[ld,Ub],useFactory:XE},{provide:Hs,useValue:r.reducerFactory?r.reducerFactory:cy},{provide:VE,deps:[Hs,Bb],useFactory:Gb},iy,df,Bl,cd,dd,ZE(r.runtimeChecks),by()]}}static forFeature(t,r,i={}){return{ngModule:Dy,providers:[{provide:Vb,multi:!0,useValue:t instanceof Object?{}:i},{provide:oy,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:i instanceof l.OlP||!i.reducerFactory?cy:i.reducerFactory,metaReducers:i instanceof l.OlP||!i.metaReducers?[]:i.metaReducers,initialState:i instanceof l.OlP||!i.initialState?void 0:i.initialState}},{provide:BE,deps:[l.zs3,Vb,oy],useFactory:QE},{provide:Ig,multi:!0,useValue:t instanceof Object?t.reducer:r},{provide:uy,multi:!0,useExisting:r instanceof l.OlP?r:Ig},{provide:Sg,multi:!0,deps:[l.zs3,Ig,[new l.tBr(uy)]],useFactory:JE},by()]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function YE(n,e){return e instanceof l.OlP?n.get(e):e}function QE(n,e,t){return t.map((r,i)=>{if(e[i]instanceof l.OlP){const u=n.get(e[i]);return{key:r.key,reducerFactory:u.reducerFactory?u.reducerFactory:cy,metaReducers:u.metaReducers?u.metaReducers:[],initialState:u.initialState}}return r})}function JE(n,e){return e.map(r=>r instanceof l.OlP?n.get(r):r)}function iD(n){return"function"==typeof n?n():n}function XE(n,e){return n.concat(e)}function sD(n){if(n)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function pd(...n){return{reducer:n.pop(),types:n.map(r=>r.type)}}function wy(n,...e){const t=new Map;for(const r of e)for(const i of r.types){const u=t.get(i);t.set(i,u?(g,v)=>r.reducer(u(g,v),v):r.reducer)}return function(r=n,i){const u=t.get(i.type);return u?u(r,i):r}}var Ws=(()=>{return(n=Ws||(Ws={})).ADD_ARTICLE="[ARTICLE] Add Articulo",n.ADD_ARTICLE_SUCCESS="[ARTICLE] Add Articulo Success",n.ADD_ARTICLE_ERROR="[ARTICLE] Add Articulo Error",n.UPDATE_ARTICLE="[ARTICLE] Update Articulo",n.REMOVE_ARTICLE="[ARTICLE] Remove Articulo",n.LOAD_ALL_ARTICLES="[ARTICLE] Load All Articulos",n.LOAD_ALL_ARTICLES_SUCCESS="[ARTICLE] Load All Articulos Success",n.SELECT_CATEGORIA="[CATEGORIA] Select Categoria",Ws;var n})();const Og=ji(Ws.SELECT_CATEGORIA,{_as:"props",_p:void 0}),eT=ji(Ws.ADD_ARTICLE,{_as:"props",_p:void 0}),xg=ji(Ws.ADD_ARTICLE_SUCCESS,{_as:"props",_p:void 0}),tT=ji(Ws.ADD_ARTICLE_ERROR),CA=ji(Ws.UPDATE_ARTICLE,{_as:"props",_p:void 0}),pf=ji(Ws.REMOVE_ARTICLE,{_as:"props",_p:void 0}),Ey=ji(Ws.LOAD_ALL_ARTICLES),Rg=ji(Ws.LOAD_ALL_ARTICLES_SUCCESS,{_as:"props",_p:void 0});var Ct=(()=>{return(n=Ct||(Ct={}))[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",Ct;var n})();function jn(n){return function(t,r){const i={ids:[...r.ids],entities:Object.assign({},r.entities)},u=n(t,i);return u===Ct.Both?Object.assign({},r,i):u===Ct.EntitiesOnly?Object.assign(Object.assign({},r),{entities:i.entities}):r}}function Nu(n,e){const t=e(n);return(0,l.X6Q)()&&void 0===t&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",e.toString()),t}function oD(n){function e(be,Re){const Oe=Nu(be,n);return Oe in Re.entities?Ct.None:(Re.ids.push(Oe),Re.entities[Oe]=be,Ct.Both)}function t(be,Re){let Oe=!1;for(const Pe of be)Oe=e(Pe,Re)!==Ct.None||Oe;return Oe?Ct.Both:Ct.None}function i(be,Re){const Oe=Nu(be,n);return Oe in Re.entities?(Re.entities[Oe]=be,Ct.EntitiesOnly):(Re.ids.push(Oe),Re.entities[Oe]=be,Ct.Both)}function g(be,Re){const Pe=(be instanceof Array?be:Re.ids.filter(je=>be(Re.entities[je]))).filter(je=>je in Re.entities).map(je=>delete Re.entities[je]).length>0;return Pe&&(Re.ids=Re.ids.filter(je=>je in Re.entities)),Pe?Ct.Both:Ct.None}function A(be,Re){return M([be],Re)}function M(be,Re){const Oe={};return(be=be.filter(je=>je.id in Re.entities)).length>0?be.filter(tt=>function T(be,Re,Oe){const je=Object.assign({},Oe.entities[Re.id],Re.changes),tt=Nu(je,n),Ut=tt!==Re.id;return Ut&&(be[Re.id]=tt,delete Oe.entities[Re.id]),Oe.entities[tt]=je,Ut}(Oe,tt,Re)).length>0?(Re.ids=Re.ids.map(tt=>Oe[tt]||tt),Ct.Both):Ct.EntitiesOnly:Ct.None}function Te(be,Re){const Oe=[],Pe=[];for(const Ut of be){const Gn=Nu(Ut,n);Gn in Re.entities?Pe.push({id:Gn,changes:Ut}):Oe.push(Ut)}const je=M(Pe,Re),tt=t(Oe,Re);switch(!0){case tt===Ct.None&&je===Ct.None:return Ct.None;case tt===Ct.Both||je===Ct.Both:return Ct.Both;default:return Ct.EntitiesOnly}}return{removeAll:function v(be){return Object.assign({},be,{ids:[],entities:{}})},addOne:jn(e),addMany:jn(t),setAll:jn(function r(be,Re){return Re.ids=[],Re.entities={},t(be,Re),Ct.Both}),setOne:jn(i),setMany:jn(function u(be,Re){const Oe=be.map(Pe=>i(Pe,Re));switch(!0){case Oe.some(Pe=>Pe===Ct.Both):return Ct.Both;case Oe.some(Pe=>Pe===Ct.EntitiesOnly):return Ct.EntitiesOnly;default:return Ct.None}}),updateOne:jn(A),updateMany:jn(M),upsertOne:jn(function X(be,Re){return Te([be],Re)}),upsertMany:jn(Te),removeOne:jn(function h(be,Re){return g([be],Re)}),removeMany:jn(g),map:jn(function F(be,Re){return M(Re.ids.reduce((je,tt)=>{const Ut=be(Re.entities[tt]);return Ut!==Re.entities[tt]&&je.push({id:tt,changes:Ut}),je},[]).filter(({id:je})=>je in Re.entities),Re)}),mapOne:jn(function $({map:be,id:Re},Oe){const Pe=Oe.entities[Re];return Pe?A({id:Re,changes:be(Pe)},Oe):Ct.None})}}function Iy(n={}){const{selectId:e,sortComparer:t}=Object.assign({sortComparer:!1,selectId:h=>h.id},n),r=function nT(){return{getInitialState:function n(e={}){return Object.assign({ids:[],entities:{}},e)}}}(),i=function Cy(){return{getSelectors:function n(e){const t=h=>h.ids,r=h=>h.entities,i=Bn(t,r,(h,g)=>h.map(v=>g[v])),u=Bn(t,h=>h.length);return e?{selectIds:Bn(e,t),selectEntities:Bn(e,r),selectAll:Bn(e,i),selectTotal:Bn(e,u)}:{selectIds:t,selectEntities:r,selectAll:i,selectTotal:u}}}}(),u=t?function aD(n,e){const{removeOne:t,removeMany:r,removeAll:i}=oD(n);function u(Oe,Pe){return h([Oe],Pe)}function h(Oe,Pe){const je=Oe.filter(tt=>!(Nu(tt,n)in Pe.entities));return 0===je.length?Ct.None:(Re(je,Pe),Ct.Both)}function v(Oe,Pe){const je=Nu(Oe,n);return je in Pe.entities?(Pe.ids=Pe.ids.filter(tt=>tt!==je),Re([Oe],Pe),Ct.Both):u(Oe,Pe)}function A(Oe,Pe){return F([Oe],Pe)}function F(Oe,Pe){const je=[],tt=Oe.filter(Ut=>function M(Oe,Pe,je){if(!(Pe.id in je.entities))return!1;const Ut=Object.assign({},je.entities[Pe.id],Pe.changes),Gn=Nu(Ut,n);return delete je.entities[Pe.id],Oe.push(Ut),Gn!==Pe.id}(je,Ut,Pe)).length>0;if(0===je.length)return Ct.None;{const Ut=Pe.ids,Gn=[];return Pe.ids=Pe.ids.filter((si,Sp)=>si in Pe.entities||(Gn.push(Sp),!1)),Re(je,Pe),!tt&&Gn.every(si=>Pe.ids[si]===Ut[si])?Ct.EntitiesOnly:Ct.Both}}function be(Oe,Pe){const je=[],tt=[];for(const si of Oe){const Sp=Nu(si,n);Sp in Pe.entities?tt.push({id:Sp,changes:si}):je.push(si)}const Ut=F(tt,Pe),Gn=h(je,Pe);switch(!0){case Gn===Ct.None&&Ut===Ct.None:return Ct.None;case Gn===Ct.Both||Ut===Ct.Both:return Ct.Both;default:return Ct.EntitiesOnly}}function Re(Oe,Pe){Oe.sort(e);const je=[];let tt=0,Ut=0;for(;tt<Oe.length&&Ut<Pe.ids.length;){const Gn=Oe[tt],si=Nu(Gn,n),Sp=Pe.ids[Ut];e(Gn,Pe.entities[Sp])<=0?(je.push(si),tt++):(je.push(Sp),Ut++)}Pe.ids=je.concat(tt<Oe.length?Oe.slice(tt).map(n):Pe.ids.slice(Ut)),Oe.forEach((Gn,si)=>{Pe.entities[n(Gn)]=Gn})}return{removeOne:t,removeMany:r,removeAll:i,addOne:jn(u),updateOne:jn(A),upsertOne:jn(function Te(Oe,Pe){return be([Oe],Pe)}),setAll:jn(function g(Oe,Pe){return Pe.entities={},Pe.ids=[],h(Oe,Pe),Ct.Both}),setOne:jn(v),setMany:jn(function T(Oe,Pe){const je=Oe.map(tt=>v(tt,Pe));switch(!0){case je.some(tt=>tt===Ct.Both):return Ct.Both;case je.some(tt=>tt===Ct.EntitiesOnly):return Ct.EntitiesOnly;default:return Ct.None}}),addMany:jn(h),updateMany:jn(F),upsertMany:jn(be),map:jn(function $(Oe,Pe){return F(Pe.ids.reduce((tt,Ut)=>{const Gn=Oe(Pe.entities[Ut]);return Gn!==Pe.entities[Ut]&&tt.push({id:Ut,changes:Gn}),tt},[]),Pe)}),mapOne:jn(function X({map:Oe,id:Pe},je){const tt=je.entities[Pe];return tt?A({id:Pe,changes:Oe(tt)},je):Ct.None})}}(e,t):oD(e);return Object.assign(Object.assign(Object.assign({selectId:e,sortComparer:t},r),i),u)}const Mu=Iy(),{selectIds:Sy,selectEntities:uD,selectAll:lD,selectTotal:Ay}=Mu.getSelectors(),rT=wy(Mu.getInitialState({selectedArticuloId:"",selectedCategory:""}),pd(xg,(n,e)=>Mu.addOne(e.articulo,n)),pd(CA,(n,{payload:e})=>Mu.updateOne(e.articulo,n)),pd(pf,(n,{payload:e})=>Mu.removeOne(e.id,n)),pd(Rg,(n,{payload:e})=>(n=Mu.removeAll(Object.assign(Object.assign({},n),{selectedArticleId:""})),Mu.addMany(e.articulos,n))),pd(Og,(n,{categoria:e})=>Object.assign(Object.assign({},n),{selectedCategory:e}))),Ou=_y("articuloState"),sT=(Bn(Ou,Sy),Bn(Ou,uD)),Ny=Bn(Ou,lD),fD=Bn(Ou,n=>(console.log("getSelectedCategory",n.selectedCategory),n.selectedCategory)),My=Bn(Ny,fD,(n,e)=>(console.log("selectArticlesBySelectCategory",e),e?n.filter(t=>t.Categoria===e):n)),kg=Bn(Ou,Ay),pD=Bn(Ny,n=>{const e=new Set;return n.forEach(t=>{e.add(t.Categoria)}),Array.from(e)}),gD=Bn(Ou,n=>n.selectedArticuloId);Bn(sT,gD,(n,e)=>n[e]);var So=(()=>{return(n=So||(So={})).LOAD_ALL_USUARIOS="[USUARIO] Load All Usuarios",n.LOAD_ALL_USUARIOS_SUCCESS="[USUARIO] Load All Usuarios Success",n.LOGIN_USER="[USUARIO] Login User",n.LOGOUT_USER="[USUARIO] Logout User",n.LOGIN_USER_SUCCESS="[USUARIO] Login User Success",n.LOGOUT_USER_SUCCESS="[USUARIO] Logout User Success",n.LOGIN_USER_ERROR="[USUARIO] Login User Error",So;var n})();const Oy=ji(So.LOAD_ALL_USUARIOS),xy=ji(So.LOAD_ALL_USUARIOS_SUCCESS,{_as:"props",_p:void 0}),Ry=ji(So.LOGIN_USER,{_as:"props",_p:void 0}),ky=ji(So.LOGOUT_USER),aT=ji(So.LOGIN_USER_SUCCESS),uT=(ji(So.LOGIN_USER_ERROR),ji(So.LOGOUT_USER_SUCCESS)),gf=Iy(),{selectIds:lT,selectEntities:jr,selectAll:mD,selectTotal:cT}=gf.getSelectors(),_D=wy(gf.getInitialState({selectedUsuarioId:""}),pd(xy,(n,{payload:e})=>(n=gf.removeAll(Object.assign(Object.assign({},n),{selectedUsuarioId:""})),gf.addMany(e.usuarios,n)))),gd=_y("usuarioState"),fT=(Bn(gd,lT),Bn(gd,jr)),vD=Bn(gd,mD),gT=(Bn(gd,cT),Bn(gd,n=>n.selectedUsuarioId)),_T=(Bn(fT,gT,(n,e)=>n[e]),Bn(vD,n=>{const e=JSON.parse(localStorage.getItem("loguedUser")||"null");if(null==e)return null;let t=n.filter(r=>r.nombre===e.nombre);return 0==t.length?null:t[0]}));var _f=k(4986),$n=k(6351);function zs(){return(0,Mr.e)((n,e)=>{let t,r=!1;n.subscribe(new Yt.Q(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}var at,Ao=k(2011),Xo=(k(5881),k(3942)),fe=k(5861),$r=k(9681),yf=k(4859),Ha=k(1877),Ht=k(2090),vT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wa={},vf=vf||{},At=vT||self;function Pg(){}function Fg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function bf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Lg="closure_uid_"+(1e9*Math.random()>>>0),Vg=0;function bT(n,e,t){return n.call.apply(n.bind,arguments)}function DD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ei(n,e,t){return(ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bT:DD).apply(null,arguments)}function md(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Rr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[i].apply(r,h)}}function za(){this.s=this.s,this.o=this.o}var ED={};za.prototype.s=!1,za.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function bD(n){return Object.prototype.hasOwnProperty.call(n,Lg)&&n[Lg]||(n[Lg]=++Vg)}(this);delete ED[n]}},za.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Py=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Fy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function Ly(n){return Array.prototype.concat.apply([],arguments)}function Ug(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Df(n){return/^[\s\xa0]*$/.test(n)}var Gi,CD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function $i(n,e){return-1!=n.indexOf(e)}function Vy(n,e){return n<e?-1:n>e?1:0}e:{var ID=At.navigator;if(ID){var SD=ID.userAgent;if(SD){Gi=SD;break e}}Gi=""}function Uy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function AD(n){const e={};for(const t in n)e[t]=n[t];return e}var ND="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MD(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<ND.length;u++)t=ND[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function By(n){return By[" "](n),n}By[" "]=Pg;var wf,n,wT=$i(Gi,"Opera"),_d=$i(Gi,"Trident")||$i(Gi,"MSIE"),OD=$i(Gi,"Edge"),jy=OD||_d,xD=$i(Gi,"Gecko")&&!($i(Gi.toLowerCase(),"webkit")&&!$i(Gi,"Edge"))&&!($i(Gi,"Trident")||$i(Gi,"MSIE"))&&!$i(Gi,"Edge"),RD=$i(Gi.toLowerCase(),"webkit")&&!$i(Gi,"Edge");function $y(){var n=At.document;return n?n.documentMode:void 0}e:{var Bg="",jg=(n=Gi,xD?/rv:([^\);]+)(\)|;)/.exec(n):OD?/Edge\/([\d\.]+)/.exec(n):_d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):RD?/WebKit\/(\S+)/.exec(n):wT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(jg&&(Bg=jg?jg[1]:""),_d){var $g=$y();if(null!=$g&&$g>parseFloat(Bg)){wf=String($g);break e}}wf=Bg}var kD={};var FD=At.document&&_d&&($y()||parseInt(wf,10))||void 0,zl=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{At.addEventListener("test",Pg,e),At.removeEventListener("test",Pg,e)}catch(t){}return n}();function Ai(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ef(n,e){if(Ai.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xD){e:{try{By(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yd[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ef.Z.h.call(this)}}Ai.prototype.h=function(){this.defaultPrevented=!0},Rr(Ef,Ai);var yd={2:"touch",3:"pen",4:"mouse"};Ef.prototype.h=function(){Ef.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wg="closure_listenable_"+(1e6*Math.random()|0),Gy=0;function AA(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Gy,this.ca=this.fa=!1}function Tf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Cf(n){this.src=n,this.g={},this.h=0}function LD(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Py(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Tf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tt(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}Cf.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=Tt(n,e,r,i);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new AA(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var Hy="closure_lm_"+(1e6*Math.random()|0),Wy={};function VD(n,e,t,r,i){if(r&&r.once)return Sf(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)VD(n,e[u],t,r,i);return null}return t=zg(t),n&&n[Wg]?n.N(e,t,bf(r)?!!r.capture:!!r,i):If(n,e,t,!1,r,i)}function If(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var h=bf(i)?!!i.capture:!!i,g=zy(n);if(g||(n[Hy]=g=new Cf(n)),(t=g.add(e,t,r,h,u)).proxy)return t;if(r=function ET(){var e=UD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)zl||(i=h),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(TT(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Sf(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Sf(n,e[u],t,r,i);return null}return t=zg(t),n&&n[Wg]?n.O(e,t,bf(r)?!!r.capture:!!r,i):If(n,e,t,!0,r,i)}function Af(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)Af(n,e[u],t,r,i);else r=bf(r)?!!r.capture:!!r,t=zg(t),n&&n[Wg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tt(u=n.g[e],t,r,i))&&(Tf(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=zy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tt(e,t,r,i)),(t=-1<n?e[n]:null)&&Jn(t))}function Jn(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Wg])LD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(TT(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=zy(e))?(LD(t,n),0==t.h&&(t.src=null,e[Hy]=null)):Tf(n)}}}function TT(n){return n in Wy?Wy[n]:Wy[n]="on"+n}function UD(n,e){if(n.ca)n=!0;else{e=new Ef(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Jn(n),n=t.call(r,e)}return n}function zy(n){return(n=n[Hy])instanceof Cf?n:null}var qy="__closure_events_fn_"+(1e9*Math.random()>>>0);function zg(n){return"function"==typeof n?n:(n[qy]||(n[qy]=function(e){return n.handleEvent(e)}),n[qy])}function Gr(){za.call(this),this.i=new Cf(this),this.P=this,this.I=null}function ti(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ai(e,n);else if(e instanceof Ai)e.target=e.target||n;else{var i=e;MD(e=new Ai(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];i=Nf(h,r,!0,e)&&i}if(i=Nf(h=e.g=n,r,!0,e)&&i,i=Nf(h,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Nf(h=e.g=t[u],r,!1,e)&&i}function Nf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var g=h.listener,v=h.ia||h.src;h.fa&&LD(n.i,h),i=!1!==g.call(v,r)&&i}}return i&&!r.defaultPrevented}Rr(Gr,za),Gr.prototype[Wg]=!0,Gr.prototype.removeEventListener=function(n,e,t,r){Af(this,n,e,t,r)},Gr.prototype.M=function(){if(Gr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Tf(t[r]);delete n.g[e],n.h--}}this.I=null},Gr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Zy=At.JSON.stringify;function CT(){var n=Yy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var bd,vd=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ST,n=>n.reset());class ST{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function AT(n){At.setTimeout(()=>{throw n},0)}function Ky(n,e){bd||function BD(){var n=At.Promise.resolve(void 0);bd=function(){n.then(NT)}}(),qg||(bd(),qg=!0),Yy.add(n,e)}var qg=!1,Yy=new class IT{constructor(){this.h=this.g=null}add(e,t){const r=vd.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function NT(){for(var n;n=CT();){try{n.h.call(n.g)}catch(t){AT(t)}var e=vd;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qg=!1}function xu(n,e){Gr.call(this),this.h=n||1,this.g=e||At,this.j=ei(this.kb,this),this.l=Date.now()}function ql(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Qy(n,e,t){if("function"==typeof n)t&&(n=ei(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ei(n.handleEvent,n)}return 2147483647<Number(e)?-1:At.setTimeout(n,e||0)}function jD(n){n.g=Qy(()=>{n.g=null,n.i&&(n.i=!1,jD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Rr(xu,Gr),(at=xu.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ti(this,"tick"),this.da&&(ql(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){xu.Z.M.call(this),ql(this),delete this.g};class MT extends za{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jD(this)}M(){super.M(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dd(n){za.call(this),this.h=n,this.g={}}Rr(Dd,za);var Jy=[];function Xy(n,e,t,r){Array.isArray(t)||(t&&(Jy[0]=t.toString()),t=Jy);for(var i=0;i<t.length;i++){var u=VD(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function $D(n){Uy(n.g,function(e,t){this.g.hasOwnProperty(t)&&Jn(e)},n),n.g={}}function Mf(){this.g=!0}function Of(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function MA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<i.length;h++)i[h]=""}}}return Zy(t)}catch(g){return e}}(n,t)+(r?" "+r:"")})}Dd.prototype.M=function(){Dd.Z.M.call(this),$D(this)},Dd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mf.prototype.Aa=function(){this.g=!1},Mf.prototype.info=function(){};var wd={},ev=null;function Zl(){return ev=ev||new Gr}function GD(n){Ai.call(this,wd.Ma,n)}function xf(n){const e=Zl();ti(e,new GD(e,n))}function tv(n,e){Ai.call(this,wd.STAT_EVENT,n),this.stat=e}function Hr(n){const e=Zl();ti(e,new tv(e,n))}function HD(n,e){Ai.call(this,wd.Na,n),this.size=e}function Rf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){n()},e)}wd.Ma="serverreachability",Rr(GD,Ai),wd.STAT_EVENT="statevent",Rr(tv,Ai),wd.Na="timingevent",Rr(HD,Ai);var Zg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},WD={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nv(){}function zD(){}nv.prototype.h=null;var Kg,kf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ru(){Ai.call(this,"d")}function iv(){Ai.call(this,"c")}function Yg(){}function Ed(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Dd(this),this.P=ZD,this.W=new xu(n=jy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qD}function qD(){this.i=null,this.g="",this.h=!1}Rr(Ru,Ai),Rr(iv,Ai),Rr(Yg,nv),Yg.prototype.g=function(){return new XMLHttpRequest},Yg.prototype.i=function(){return{}},Kg=new Yg;var ZD=45e3,sv={},Td={};function ov(n,e,t){n.K=1,n.v=Ad(ea(e)),n.s=t,n.U=!0,av(n,null)}function av(n,e){n.F=Date.now(),Pf(n),n.A=ea(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Nd(t.h,"t",r),n.C=0,t=n.l.H,n.h=new qD,n.g=gw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new MT(ei(n.Ia,n,n.g),n.O)),Xy(n.V,n.g,"readystatechange",n.gb),e=n.H?AD(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),xf(1),function OT(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var h="",g=u.split("&"),v=0;v<g.length;v++){var T=g[v].split("=");if(1<T.length){var A=T[0];T=T[1];var M=A.split("_");h=2<=M.length&&"type"==M[1]?h+(A+"=")+T+"&":h+(A+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function uv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function KD(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=RT(n,t),i==Td){4==e&&(n.o=4,Hr(14),r=!1),Of(n.j,n.m,null,"[Incomplete Response]");break}if(i==sv){n.o=4,Hr(15),Of(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Of(n.j,n.m,i,null),lv(n,i)}uv(n)&&i!=Td&&i!=sv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),um(e),e.L=!0,Hr(11))):(Of(n.j,n.m,t,"[Invalid Chunked Response]"),Kl(n),Cd(n))}function RT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Td:(t=Number(e.substring(t,r)),isNaN(t)?sv:(r+=1)+t>e.length?Td:(e=e.substr(r,t),n.C=r+t,e))}function Pf(n){n.Y=Date.now()+n.P,Qg(n,n.P)}function Qg(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rf(ei(n.eb,n),e)}function Jg(n){n.B&&(At.clearTimeout(n.B),n.B=null)}function Cd(n){0==n.l.G||n.I||hw(n.l,n)}function Kl(n){Jg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ql(n.W),$D(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function lv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||pv(t.i,n)))if(t.I=n.N,!n.J&&pv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Rf(ei(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Gf(t),sm(t)}am(t),Hr(18)}if(1>=iw(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else Xl(t,11)}else if((n.J||t.g==n)&&Gf(t),!Df(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let T=i[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const A=T[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const M=T[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=T[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const X=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var u=r.i;!u.g&&($i(X,"spdy")||$i(X,"quic")||$i(X,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(gv(u,u.h),u.h=null))}if(r.D){const Te=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;Te&&(r.sa=Te,Xn(r.F,r.D,Te))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=pw(r,r.H?r.la:null,r.W),h.J){sw(r.i,h);var g=h,v=r.K;v&&g.setTimeout(v),g.B&&(Jg(g),Pf(g)),r.g=h}else Av(r);0<t.l.length&&om(t)}else"stop"!=T[0]&&"close"!=T[0]||Xl(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Xl(t,7):im(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}xf(4)}catch(T){}}function cv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Fg(n)||"string"==typeof n)Fy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Fg(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function kT(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Fg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function Id(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Id)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function dv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Yl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Yl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Yl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(at=Ed.prototype).setTimeout=function(n){this.P=n},at.gb=function(n){n=n.target;const e=this.L;e&&3==Pu(n)?e.l():this.Ia(n)},at.Ia=function(n){try{if(n==this.g)e:{const A=Pu(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>A)&&(3!=A||jy||this.g&&(this.h.h||this.g.ga()||wv(this.g)))){this.I||4!=A||7==e||xf(8==e||0>=M?3:2),Jg(this);var t=this.g.ba();this.N=t;t:if(uv(this)){var r=wv(this.g);n="";var i=r.length,u=4==Pu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Kl(this),Cd(this);var h="";break t}this.h.i=new At.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function xT(n,e,t,r,i,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Df(g)){var T=g;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Hr(12),Kl(this),Cd(this);break e}Of(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lv(this,t)}this.U?(KD(this,A,h),jy&&this.i&&3==A&&(Xy(this.V,this.W,"tick",this.fb),this.W.start())):(Of(this.j,this.m,h,null),lv(this,h)),4==A&&Kl(this),this.i&&!this.I&&(4==A?hw(this.l,this):(this.i=!1,Pf(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Hr(12)):(this.o=0,Hr(13)),Kl(this),Cd(this)}}}catch(A){}},at.fb=function(){if(this.g){var n=Pu(this.g),e=this.g.ga();this.C<e.length&&(Jg(this),KD(this,n,e),this.i&&4!=n&&Pf(this))}},at.cancel=function(){this.I=!0,Kl(this)},at.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function NA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xf(3),Hr(17)),Kl(this),this.o=2,Cd(this)):Qg(this,this.Y-n)},(at=Id.prototype).R=function(){dv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},at.T=function(){return dv(this),this.g.concat()},at.get=function(n,e){return Yl(this.h,n)?this.h[n]:e},at.set=function(n,e){Yl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},at.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var YD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ku(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ku){this.g=void 0!==e?e:n.g,Xg(this,n.j),this.s=n.s,Sd(this,n.i),Ff(this,n.m),this.l=n.l,e=n.h;var t=new Vf;t.i=e.i,e.g&&(t.g=new Id(e.g),t.h=e.h),JD(this,t),this.o=n.o}else n&&(t=String(n).match(YD))?(this.g=!!e,Xg(this,t[1]||"",!0),this.s=Ql(t[2]||""),Sd(this,t[3]||"",!0),Ff(this,t[4]),this.l=Ql(t[5]||"",!0),JD(this,t[6]||"",!0),this.o=Ql(t[7]||"")):(this.g=!!e,this.h=new Vf(null,this.g))}function ea(n){return new ku(n)}function Xg(n,e,t){n.j=t?Ql(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Sd(n,e,t){n.i=t?Ql(e,!0):e}function Ff(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function JD(n,e,t){e instanceof Vf?(n.h=e,function Od(n,e){e&&!n.j&&(qa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(VT(this,r),Nd(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Lf(e,LT)),n.h=new Vf(e,n.g))}function Xn(n,e,t){n.h.set(e,t)}function Ad(n){return Xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ql(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Lf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,PT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function PT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ku.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Lf(e,em,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Lf(e,em,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Lf(t,"/"==t.charAt(0)?ew:FT,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Lf(t,tw)),n.join("")};var em=/[#\/\?@]/g,FT=/[#\?:]/g,ew=/[#\?]/g,LT=/[#\?@]/g,tw=/#/g;function Vf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qa(n){n.g||(n.g=new Id,n.h=0,n.i&&function QD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function VT(n,e){qa(n),e=Md(n,e),Yl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Yl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&dv(n)))}function nw(n,e){return qa(n),e=Md(n,e),Yl(n.g.h,e)}function Nd(n,e,t){VT(n,e),0<t.length&&(n.i=null,n.g.set(Md(n,e),Ug(t)),n.h+=t.length)}function Md(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function rw(n){this.l=n||OA,n=At.PerformanceNavigationTiming?0<(n=At.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(At.g&&At.g.Ea&&At.g.Ea()&&At.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=Vf.prototype).add=function(n,e){qa(this),this.i=null,n=Md(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){qa(this),this.g.forEach(function(t,r){Fy(t,function(i){n.call(e,i,r,this)},this)},this)},at.T=function(){qa(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},at.R=function(n){qa(this);var e=[];if("string"==typeof n)nw(this,n)&&(e=Ly(e,this.g.get(Md(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Ly(e,n[t])}return e},at.set=function(n,e){return qa(this),this.i=null,nw(this,n=Md(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var h=i;""!==r[u]&&(h+="="+encodeURIComponent(String(r[u]))),n.push(h)}}return this.i=n.join("&")};var OA=10;function fv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iw(n){return n.h?1:n.g?n.g.size:0}function pv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gv(n,e){n.g?n.g.add(e):n.h=e}function sw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ug(n.i)}function tm(){}function _v(){this.g=new tm}function nm(n,e,t){const r=t||"";try{cv(n,function(i,u){let h=i;bf(i)&&(h=Zy(i)),e.push(r+u+"="+encodeURIComponent(h))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function xd(n){this.l=n.$b||null,this.j=n.ib||!1}function jf(n,e){Gr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=yv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rw.prototype.cancel=function(){if(this.i=mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tm.prototype.stringify=function(n){return At.JSON.stringify(n,void 0)},tm.prototype.parse=function(n){return At.JSON.parse(n,void 0)},Rr(xd,nv),xd.prototype.g=function(){return new jf(this.l,this.j)},xd.prototype.i=function(n){return function(){return n}}({}),Rr(jf,Gr);var yv=0;function ow(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function $f(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jl(n)}function Jl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=jf.prototype).open=function(n,e){if(this.readyState!=yv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jl(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||At).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$f(this)),this.readyState=yv},at.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==At.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ow(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$f(this):Jl(this),3==this.readyState&&ow(this)}},at.Ua=function(n){this.g&&(this.response=this.responseText=n,$f(this))},at.Ta=function(n){this.g&&(this.response=n,$f(this))},at.ha=function(){this.g&&$f(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var UT=At.JSON.parse;function Wr(n){Gr.call(this),this.headers=new Id,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aw,this.K=this.L=!1}Rr(Wr,Gr);var aw="",BT=/^https?$/i,Rd=["POST","PUT"];function kd(n){return"content-type"==n.toLowerCase()}function jT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vv(n),bv(n)}function vv(n){n.D||(n.D=!0,ti(n,"complete"),ti(n,"error"))}function lw(n){if(n.h&&void 0!==vf&&(!n.C[1]||4!=Pu(n)||2!=n.ba()))if(n.v&&4==Pu(n))Qy(n.Fa,0,n);else if(ti(n,"readystatechange"),4==Pu(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(YD)[1]||null;if(!i&&At.self&&At.self.location){var u=At.self.location.protocol;i=u.substr(0,u.length-1)}r=!BT.test(i?i.toLowerCase():"")}t=r}if(t)ti(n,"complete"),ti(n,"success");else{n.m=6;try{var h=2<Pu(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",vv(n)}}finally{bv(n)}}}function bv(n,e){if(n.g){Dv(n);const t=n.g,r=n.C[0]?Pg:null;n.g=null,n.C=null,e||ti(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Dv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(At.clearTimeout(n.A),n.A=null)}function Pu(n){return n.g?n.g.readyState:0}function wv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case aw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Tv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Ev(n){let e="";return Uy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xn(n,e,t))}function Pd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Cv(n){this.za=0,this.l=[],this.h=new Mf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pd("baseRetryDelayMs",5e3,n),this.$a=Pd("retryDelaySeedMs",1e4,n),this.Ya=Pd("forwardChannelMaxRetries",2,n),this.ra=Pd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rw(n&&n.concurrentRequestLimit),this.Ca=new _v,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function im(n){if(cw(n),3==n.G){var e=n.V++,t=ea(n.F);Xn(t,"SID",n.J),Xn(t,"RID",e),Xn(t,"TYPE","terminate"),Za(n,t),(e=new Ed(n,n.h,e,void 0)).K=2,e.v=Ad(ea(t)),t=!1,At.navigator&&At.navigator.sendBeacon&&(t=At.navigator.sendBeacon(e.v.toString(),"")),!t&&At.Image&&((new Image).src=e.v,t=!0),t||(e.g=gw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pf(e)}fw(n)}function sm(n){n.g&&(um(n),n.g.cancel(),n.g=null)}function cw(n){sm(n),n.u&&(At.clearTimeout(n.u),n.u=null),Gf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&At.clearTimeout(n.m),n.m=null)}function Iv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&om(n)}function om(n){fv(n.i)||n.m||(n.m=!0,Ky(n.Ha,n),n.C=0)}function dw(n,e){var t;t=e?e.m:n.V++;const r=ea(n.F);Xn(r,"SID",n.J),Xn(r,"RID",t),Xn(r,"AID",n.U),Za(n,r),n.o&&n.s&&Tv(r,n.o,n.s),t=new Ed(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Sv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),gv(n.i,t),ov(t,r,e)}function Za(n,e){n.j&&cv({},function(t,r){Xn(e,r,t)})}function Sv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ei(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=i[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let T=i[v].h;const A=i[v].g;if(T-=u,0>T)u=Math.max(0,i[v].h-100),g=!1;else try{nm(A,h,"req"+T+"_")}catch(M){r&&r(A)}}if(g){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Av(n){n.g||n.u||(n.Y=1,Ky(n.Ga,n),n.A=0)}function am(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Rf(ei(n.Ga,n),Mv(n,n.A)),n.A++,0))}function um(n){null!=n.B&&(At.clearTimeout(n.B),n.B=null)}function Nv(n){n.g=new Ed(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ea(n.oa);Xn(e,"RID","rpc"),Xn(e,"SID",n.J),Xn(e,"CI",n.N?"0":"1"),Xn(e,"AID",n.U),Za(n,e),Xn(e,"TYPE","xmlhttp"),n.o&&n.s&&Tv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ad(ea(e)),t.s=null,t.U=!0,av(t,n)}function Gf(n){null!=n.v&&(At.clearTimeout(n.v),n.v=null)}function hw(n,e){var t=null;if(n.g==e){Gf(n),um(n),n.g=null;var r=2}else{if(!pv(n.i,e))return;t=e.D,sw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ti(r=Zl(),new HD(r,t,e,i)),om(n)}else Av(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function $T(n,e){return!(iw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Rf(ei(n.Ha,n,e),Mv(n,n.C)),n.C++,0)))}(n,e)||2==r&&am(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Xl(n,5);break;case 4:Xl(n,10);break;case 3:Xl(n,6);break;default:Xl(n,2)}}function Mv(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Xl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ei(n.jb,n);t||(t=new ku("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||Xg(t,"https"),Ad(t)),function Bf(n,e){const t=new Mf;if(At.Image){const r=new Image;r.onload=md(rm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=md(rm,t,r,"TestLoadImage: error",!1,e),r.onabort=md(rm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=md(rm,t,r,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hr(2);n.G=0,n.j&&n.j.va(e),fw(n),cw(n)}function fw(n){n.G=0,n.I=-1,n.j&&((0!=mv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ug(n.l),n.l.length=0),n.j.ua())}function pw(n,e,t){let r=function hv(n){return n instanceof ku?ea(n):new ku(n,void 0)}(t);if(""!=r.i)e&&Sd(r,e+"."+r.i),Ff(r,r.m);else{const i=At.location;r=function XD(n,e,t,r){var i=new ku(null,void 0);return n&&Xg(i,n),e&&Sd(i,e),t&&Ff(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Uy(n.aa,function(i,u){Xn(r,u,i)}),t=n.sa,(e=n.D)&&t&&Xn(r,e,t),Xn(r,"VER",n.ma),Za(n,r),r}function gw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&n.Ba&&!n.qa?new xd({ib:!0}):n.qa)).L=n.H,e}function Fd(){}function lm(){if(_d&&!(10<=Number(FD)))throw Error("Environmental error: no available transport.")}function Hi(n,e){Gr.call(this),this.g=new Cv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Df(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Df(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Fu(this)}function No(n){Ru.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function mw(){iv.call(this),this.status=1}function Fu(n){this.g=n}(at=Wr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kg.g(),this.C=function rv(n){return n.h||(n.h=n.i())}(this.u?this.u:Kg),this.g.onreadystatechange=ei(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void jT(this,u)}n=t||"";const i=new Id(this.headers);r&&cv(r,function(u,h){i.set(h,u)}),r=function TD(n){e:{var e=kd;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=At.FormData&&n instanceof At.FormData,!(0<=Py(Rd,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dv(this),0<this.B&&((this.K=function uw(n){return _d&&function PD(){return function DT(n){var e=kD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=CD(String(wf)).split("."),t=CD("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var i=e[h]||"",u=t[h]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=Vy(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Vy(0==i[2].length,0==u[2].length)||Vy(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ei(this.pa,this)):this.A=Qy(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){jT(this,u)}},at.pa=function(){void 0!==vf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ti(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ti(this,"complete"),ti(this,"abort"),bv(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bv(this,!0)),Wr.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?lw(this):this.cb())},at.cb=function(){lw(this)},at.ba=function(){try{return 2<Pu(this)?this.g.status:-1}catch(n){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},at.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),UT(e)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=Cv.prototype).ma=8,at.G=1,at.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},at.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Ed(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=AD(u),MD(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Sv(this,i,e),Xn(t=ea(this.F),"RID",n),Xn(t,"CVER",22),this.D&&Xn(t,"X-HTTP-Session-Id",this.D),Za(this,t),this.o&&u&&Tv(t,this.o,u),gv(this.i,i),this.Ra&&Xn(t,"TYPE","init"),this.ja?(Xn(t,"$req",e),Xn(t,"SID","null"),i.$=!0,ov(i,t,null)):ov(i,t,e),this.G=2}}else 3==this.G&&(n?dw(this,n):0==this.l.length||fv(this.i)||dw(this))},at.Ga=function(){if(this.u=null,Nv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Rf(ei(this.bb,this),n)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hr(10),sm(this),Nv(this))},at.ab=function(){null!=this.v&&(this.v=null,sm(this),am(this),Hr(19))},at.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Hr(2)):(this.h.info("Failed to ping google.com"),Hr(1))},(at=Fd.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},lm.prototype.g=function(n,e){return new Hi(n,e)},Rr(Hi,Gr),Hi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Ky(ei(n.hb,n,e))),Hr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=pw(n,null,n.W),om(n)},Hi.prototype.close=function(){im(this.g)},Hi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Iv(this.g,e)}else this.v?((e={}).__data__=Zy(n),Iv(this.g,e)):Iv(this.g,n)},Hi.prototype.M=function(){this.g.j=null,delete this.j,im(this.g),delete this.g,Hi.Z.M.call(this)},Rr(No,Ru),Rr(mw,iv),Rr(Fu,Fd),Fu.prototype.xa=function(){ti(this.g,"a")},Fu.prototype.wa=function(n){ti(this.g,new No(n))},Fu.prototype.va=function(n){ti(this.g,new mw(n))},Fu.prototype.ua=function(){ti(this.g,"b")},lm.prototype.createWebChannel=lm.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,Zg.NO_ERROR=0,Zg.TIMEOUT=8,Zg.HTTP_ERROR=6,WD.COMPLETE="complete",zD.EventType=kf,kf.OPEN="a",kf.CLOSE="b",kf.ERROR="c",kf.MESSAGE="d",Gr.prototype.listen=Gr.prototype.N,Wr.prototype.listenOnce=Wr.prototype.O,Wr.prototype.getLastError=Wr.prototype.La,Wr.prototype.getLastErrorCode=Wr.prototype.Da,Wr.prototype.getStatus=Wr.prototype.ba,Wr.prototype.getResponseJson=Wr.prototype.Qa,Wr.prototype.getResponseText=Wr.prototype.ga,Wr.prototype.send=Wr.prototype.ea;var Hf=Wa.createWebChannelTransport=function(){return new lm},GT=Wa.getStatEventTarget=function(){return Zl()},Ov=Wa.ErrorCode=Zg,HT=Wa.EventType=WD,cm=Wa.Event=wd,Wf=Wa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},WT=Wa.FetchXmlHttpFactory=xd,dm=Wa.WebChannel=zD,_w=Wa.XhrIo=Wr;const xv="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let ec="9.6.3";const Lu=new Ha.Yd("@firebase/firestore");function Rv(){return Lu.logLevel}function Ge(n,...e){if(Lu.logLevel<=Ha.in.DEBUG){const t=e.map(zf);Lu.debug(`Firestore (${ec}): ${n}`,...t)}}function fr(n,...e){if(Lu.logLevel<=Ha.in.ERROR){const t=e.map(zf);Lu.error(`Firestore (${ec}): ${n}`,...t)}}function Ld(n,...e){if(Lu.logLevel<=Ha.in.WARN){const t=e.map(zf);Lu.warn(`Firestore (${ec}): ${n}`,...t)}}function zf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: `+n;throw fr(e),new Error(e)}function Mt(n,e){n||mt()}function Xe(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class kv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class vw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bw{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=T=>this.i!==i?(i=this.i,t(T)):Promise.resolve();let h=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new kr,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const T=h;e.enqueueRetryable((0,fe.Z)(function*(){yield T.promise,yield u(r.currentUser)}))},v=T=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(T=>v(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new kr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt("string"==typeof r.accessToken),new kv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new zr(e)}}class qT{constructor(e,t,r){this.type="FirstParty",this.user=zr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Dw{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new qT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(u=i).error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`),t(u.token);var u})};const r=i=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt("string"==typeof t.token),new Pv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class rs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Wi(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}rs.I=-1;class tc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Wi(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function Vd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function YT(n){return n+"\0"}class pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pr.fromMillis(Date.now())}static fromDate(e){return pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new pr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new pr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function hm(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qf{constructor(e,t,r){void 0===t?t=0:t>e.length&&mt(),void 0===r?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),h=t.get(i);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends qf{construct(e,t,r){return new fn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const Lv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends qf{construct(e,t,r){return new ni(e,t,r)}static isValidIdentifier(e){return Lv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ni(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Le(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new Le(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Le(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===g?(h=!h,i++):"."!==g||h?(r+=g,i++):(u(),i++)}if(u(),h)throw new Le(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(t)}static emptyPath(){return new ni([])}}class rc{constructor(e){this.fields=e,e.sort(ni.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new wr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const RA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(n){if(Mt(!!n),"string"==typeof n){let e=0;const t=RA.exec(n);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pr(n.seconds),nanos:Pr(n.nanos)}}function Pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ic(n){return"string"==typeof n?wr.fromBase64String(n):wr.fromUint8Array(n)}function Ud(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Vv(n){const e=n.mapValue.fields.__previous_value__;return Ud(e)?Vv(e):e}function Zf(n){const e=Ka(n.mapValue.fields.__local_write_time__.timestampValue);return new pr(e.seconds,e.nanos)}function Ya(n){return null==n}function Bd(n){return 0===n&&1/n==-1/0}function QT(n){return"number"==typeof n&&Number.isInteger(n)&&!Bd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(fn.fromString(e))}static fromName(e){return new _t(fn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new fn(e.slice()))}}function sc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ud(n)?4:10:mt()}function Mo(n,e){if(n===e)return!0;const t=sc(n);if(t!==sc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zf(n).isEqual(Zf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Ka(r.timestampValue),h=Ka(i.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ic(n.bytesValue).isEqual(ic(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Pr(r.geoPointValue.latitude)===Pr(i.geoPointValue.latitude)&&Pr(r.geoPointValue.longitude)===Pr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pr(r.integerValue)===Pr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Pr(r.doubleValue),h=Pr(i.doubleValue);return u===h?Bd(u)===Bd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Vd(n.arrayValue.values||[],e.arrayValue.values||[],Mo);case 10:return function(r,i){const u=r.mapValue.fields||{},h=i.mapValue.fields||{};if(hm(u)!==hm(h))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===h[g]||!Mo(u[g],h[g])))return!1;return!0}(n,e);default:return mt()}var i}function jd(n,e){return void 0!==(n.values||[]).find(t=>Mo(t,e))}function $d(n,e){if(n===e)return 0;const t=sc(n),r=sc(e);if(t!==r)return Zt(t,r);switch(t){case 0:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const h=Pr(i.integerValue||i.doubleValue),g=Pr(u.integerValue||u.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return Uv(n.timestampValue,e.timestampValue);case 4:return Uv(Zf(n),Zf(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,u){const h=ic(i),g=ic(u);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const h=i.split("/"),g=u.split("/");for(let v=0;v<h.length&&v<g.length;v++){const T=Zt(h[v],g[v]);if(0!==T)return T}return Zt(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const h=Zt(Pr(i.latitude),Pr(u.latitude));return 0!==h?h:Zt(Pr(i.longitude),Pr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const h=i.values||[],g=u.values||[];for(let v=0;v<h.length&&v<g.length;++v){const T=$d(h[v],g[v]);if(T)return T}return Zt(h.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){const h=i.fields||{},g=Object.keys(h),v=u.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const M=Zt(g[A],T[A]);if(0!==M)return M;const F=$d(h[g[A]],v[T[A]]);if(0!==F)return F}return Zt(g.length,T.length)}(n.mapValue,e.mapValue);default:throw mt()}}function Uv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Ka(n),r=Ka(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function pm(n){return Bv(n)}function Bv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ka(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ic(n.bytesValue).toBase64():"referenceValue"in n?_t.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const h of r.values||[])u?u=!1:i+=",",i+=Bv(h);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const g of i)h?h=!1:u+=",",u+=`${g}:${Bv(r.fields[g])}`;return u+"}"}(n.mapValue):mt();var e}function gm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mm(n){return!!n&&"integerValue"in n}function jv(n){return!!n&&"arrayValue"in n}function $v(n){return!!n&&"nullValue"in n}function Gv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kf(n){return!!n&&"mapValue"in n}function Gd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gd(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gd(t)}setAll(e){let t=ni.emptyPath(),r={},i=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=g.popLast()}h?r[g.lastSegment()]=Gd(h):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){nc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Ni(Gd(this.value))}}function ww(n){const e=[];return nc(n.fields,(t,r)=>{const i=new ni([t]);if(Kf(r)){const u=ww(r.mapValue).fields;if(0===u.length)e.push(i);else for(const h of u)e.push(i.child(h))}else e.push(i)}),new rc(e)}class sr{constructor(e,t,r,i,u){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=u}static newInvalidDocument(e){return new sr(e,0,Pt.min(),Ni.empty(),0)}static newFoundDocument(e,t,r){return new sr(e,1,t,r,0)}static newNoDocument(e,t){return new sr(e,2,t,Ni.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,Ni.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ew{constructor(e,t=null,r=[],i=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=h,this.endAt=g,this.R=null}}function JT(n,e=null,t=[],r=[],i=null,u=null,h=null){return new Ew(n,e,t,r,i,u,h)}function _m(n){const e=Xe(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function PA(n){return n.field.canonicalString()+n.op.toString()+pm(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ya(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Yf(e.startAt)),e.endAt&&(t+="|ub:",t+=Yf(e.endAt)),e.R=t}return e.R}function Hv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Cw(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Mo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zv(n.startAt,e.startAt)&&zv(n.endAt,e.endAt)}function Wv(n){return _t.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class is extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new FA(e,t,r):"array-contains"===t?new Hd(e,r):"in"===t?new Tw(e,r):"not-in"===t?new XT(e,r):"array-contains-any"===t?new eC(e,r):new is(e,t,r)}static P(e,t,r){return"in"===t?new ym(e,r):new LA(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v($d(t,this.value)):null!==t&&sc(this.value)===sc(t)&&this.v($d(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class FA extends is{constructor(e,t,r){super(e,t,r),this.key=_t.fromName(r.referenceValue)}matches(e){const t=_t.comparator(e.key,this.key);return this.v(t)}}class ym extends is{constructor(e,t){super(e,"in",t),this.keys=vm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LA extends is{constructor(e,t){super(e,"not-in",t),this.keys=vm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>_t.fromName(r.referenceValue))}class Hd extends is{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jv(t)&&jd(t.arrayValue,this.value)}}class Tw extends is{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jd(this.value.arrayValue,t)}}class XT extends is{constructor(e,t){super(e,"not-in",t)}matches(e){if(jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jd(this.value.arrayValue,t)}}class eC extends is{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>jd(this.value.arrayValue,r))}}class oc{constructor(e,t){this.position=e,this.before=t}}function Yf(n){return`${n.before?"b":"a"}:${n.position.map(e=>pm(e)).join(",")}`}class ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function Cw(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function tC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],h=n.position[i];if(r=u.field.isKeyField()?_t.comparator(_t.fromName(h.referenceValue),t.key):$d(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function zv(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mo(n.position[t],e.position[t]))return!1;return!0}class qs{constructor(e,t=null,r=[],i=[],u=null,h="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=v,this.S=null,this.D=null}}function qv(n,e,t,r,i,u,h,g){return new qs(n,e,t,r,i,u,h,g)}function Qf(n){return new qs(n)}function Zv(n){return!Ya(n.limit)&&"F"===n.limitType}function Kv(n){return!Ya(n.limit)&&"L"===n.limitType}function Yv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Jf(n){for(const e of n.filters)if(e.V())return e.field;return null}function Qv(n){return null!==n.collectionGroup}function Xf(n){const e=Xe(n);if(null===e.S){e.S=[];const t=Jf(e),r=Yv(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new ac(t)),e.S.push(new ac(ni.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.S.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new ac(ni.keyField(),u))}}}return e.S}function Zs(n){const e=Xe(n);if(!e.D)if("F"===e.limitType)e.D=JT(e.path,e.collectionGroup,Xf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Xf(e))t.push(new ac(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new oc(e.endAt.position,!e.endAt.before):null,i=e.startAt?new oc(e.startAt.position,!e.startAt.before):null;e.D=JT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function bm(n,e,t){return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ep(n,e){return Hv(Zs(n),Zs(e))&&n.limitType===e.limitType}function ss(n){return`${_m(Zs(n))}|lt:${n.limitType}`}function Jv(n){return`Query(target=${function kA(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${pm(r.value)}`;var r}).join(", ")}]`),Ya(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Yf(n.startAt)),n.endAt&&(e+=", endAt: "+Yf(n.endAt)),`Target(${e})`}(Zs(n))}; limitType=${n.limitType})`}function uc(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):_t.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!tC(t.startAt,Xf(t),r)||t.endAt&&tC(t.endAt,Xf(t),r)));var t,r}function Iw(n){return(e,t)=>{let r=!1;for(const i of Xf(n)){const u=nC(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function nC(n,e,t){const r=n.field.isKeyField()?_t.comparator(e.key,t.key):function(i,u,h){const g=u.data.field(i),v=h.data.field(i);return null!==g&&null!==v?$d(g,v):mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}function Dm(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function Xv(n){return{integerValue:""+n}}function e0(n,e){return QT(e)?Xv(e):Dm(n,e)}class wm{constructor(){this._=void 0}}function Sw(n,e,t){return n instanceof Wd?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Qa?Ks(n,e):n instanceof lc?rC(n,e):function(r,i){const u=Nw(r,i),h=t0(u)+t0(r.N);return mm(u)&&mm(r.N)?Xv(h):Dm(r.k,h)}(n,e)}function Aw(n,e,t){return n instanceof Qa?Ks(n,e):n instanceof lc?rC(n,e):t}function Nw(n,e){return n instanceof zd?mm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Wd extends wm{}class Qa extends wm{constructor(e){super(),this.elements=e}}function Ks(n,e){const t=Mw(e);for(const r of n.elements)t.some(i=>Mo(i,r))||t.push(r);return{arrayValue:{values:t}}}class lc extends wm{constructor(e){super(),this.elements=e}}function rC(n,e){let t=Mw(e);for(const r of n.elements)t=t.filter(i=>!Mo(i,r));return{arrayValue:{values:t}}}class zd extends wm{constructor(e,t){super(),this.k=e,this.N=t}}function t0(n){return Pr(n.integerValue||n.doubleValue)}function Mw(n){return jv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tp{constructor(e,t){this.field=e,this.transform=t}}class iC{constructor(e,t){this.version=e,this.transformResults=t}}class qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function np(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rp{}function sC(n,e,t){n instanceof Zd?function(r,i,u){const h=r.value.clone(),g=s0(r.fieldTransforms,i,u.transformResults);h.setAll(g),i.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Vu?function(r,i,u){if(!np(r.precondition,i))return void i.convertToUnknownDocument(u.version);const h=s0(r.fieldTransforms,i,u.transformResults),g=i.data;g.setAll(r0(r)),g.setAll(h),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function n0(n,e,t){var i;n instanceof Zd?function(r,i,u){if(!np(r.precondition,i))return;const h=r.value.clone(),g=Rw(r.fieldTransforms,u,i);h.setAll(g),i.convertToFoundDocument(Em(i),h).setHasLocalMutations()}(n,e,t):n instanceof Vu?function(r,i,u){if(!np(r.precondition,i))return;const h=Rw(r.fieldTransforms,u,i),g=i.data;g.setAll(r0(r)),g.setAll(h),i.convertToFoundDocument(Em(i),g).setHasLocalMutations()}(n,e,t):np(n.precondition,i=e)&&i.convertToNoDocument(Pt.min())}function xw(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=Nw(r.transform,i||null);null!=u&&(null==t&&(t=Ni.empty()),t.set(r.field,u))}return t||null}function qd(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Vd(t,r,(i,u)=>function Ow(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Qa&&r instanceof Qa||t instanceof lc&&r instanceof lc?Vd(t.elements,r.elements,Mo):t instanceof zd&&r instanceof zd?Mo(t.N,r.N):t instanceof Wd&&r instanceof Wd);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Em(n){return n.isFoundDocument()?n.version:Pt.min()}class Zd extends rp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Vu extends rp{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function r0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function s0(n,e,t){const r=new Map;Mt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],h=u.transform,g=e.data.field(u.field);r.set(u.field,Aw(h,g,t[i]))}return r}function Rw(n,e,t){const r=new Map;for(const i of n){const u=i.transform,h=t.data.field(i.field);r.set(i.field,Sw(u,h,e))}return r}class ip extends rp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class kw extends rp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class VA{constructor(e){this.count=e}}var Er,Xt;function Pw(n){switch(n){default:return mt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function Fw(n){if(void 0===n)return fr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Er.OK:return de.OK;case Er.CANCELLED:return de.CANCELLED;case Er.UNKNOWN:return de.UNKNOWN;case Er.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Er.INTERNAL:return de.INTERNAL;case Er.UNAVAILABLE:return de.UNAVAILABLE;case Er.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Er.NOT_FOUND:return de.NOT_FOUND;case Er.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Er.ABORTED:return de.ABORTED;case Er.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Er.DATA_LOSS:return de.DATA_LOSS;default:return mt()}}(Xt=Er||(Er={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class ri{constructor(e,t){this.comparator=e,this.root=t||Mi.EMPTY}insert(e,t){return new ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new o0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new o0(this.root,e,this.comparator,!1)}getReverseIterator(){return new o0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new o0(this.root,e,this.comparator,!0)}}class o0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:Mi.RED,this.left=null!=i?i:Mi.EMPTY,this.right=null!=u?u:Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Mi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Mi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Mi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oC(this.data.getIterator())}getIteratorFrom(e){return new oC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tr(this.comparator);return t.data=e,t}}class oC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const aC=new ri(_t.comparator);function zi(){return aC}const uC=new ri(_t.comparator);function a0(){return uC}const Lw=new ri(_t.comparator);function Uu(){return Lw}const Vw=new Tr(_t.comparator);function pn(...n){let e=Vw;for(const t of n)e=e.add(t);return e}const u0=new Tr(Zt);function Tm(){return u0}class cc{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,t)),new cc(Pt.min(),r,Tm(),zi(),pn())}}class dc{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new dc(wr.EMPTY_BYTE_STRING,t,pn(),pn(),pn())}}class sp{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.O=i}}class l0{constructor(e,t){this.targetId=e,this.M=t}}class lC{constructor(e,t,r=wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cC{constructor(){this.F=0,this.L=hC(),this.B=wr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=pn(),t=pn(),r=pn();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:mt()}}),new dc(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=hC()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class UA{constructor(e){this.et=e,this.nt=new Map,this.st=zi(),this.it=dC(),this.rt=new Tr(Zt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.M.count,i=this.wt(t);if(i){const u=i.target;if(Wv(u))if(0===r){const h=new _t(u.path);this.at(t,h,sr.newNoDocument(h,Pt.min()))}else Mt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((u,h)=>{const g=this.wt(h);if(g){if(u.current&&Wv(g.target)){const v=new _t(g.target.path);null!==this.st.get(v)||this.yt(h,v)||this.at(h,v,sr.newNoDocument(v,e))}u.j&&(t.set(h,u.G()),u.H())}});let r=pn();this.it.forEach((u,h)=>{let g=!0;h.forEachWhile(v=>{const T=this.wt(v);return!T||2===T.purpose||(g=!1,!1)}),g&&(r=r.add(u))});const i=new cc(e,t,this.rt,this.st,r);return this.st=zi(),this.it=dC(),this.rt=new Tr(Zt),i}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new cC,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Tr(Zt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new cC),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function dC(){return new ri(_t.comparator)}function hC(){return new ri(_t.comparator)}const BA={asc:"ASCENDING",desc:"DESCENDING"},jA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Uw{constructor(e,t){this.databaseId=e,this.C=t}}function op(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bw(n,e){return n.C?e.toBase64():e.toUint8Array()}function fC(n,e){return op(n,e.toTimestamp())}function ii(n){return Mt(!!n),Pt.fromTimestamp(function(e){const t=Ka(e);return new pr(t.seconds,t.nanos)}(n))}function Cm(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function c0(n){const e=fn.fromString(n);return Mt(bC(e)),e}function Kd(n,e){return Cm(n.databaseId,e.path)}function ta(n,e){const t=c0(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _t(pC(t))}function d0(n,e){return Cm(n.databaseId,e)}function h0(n){const e=c0(n);return 4===e.length?fn.emptyPath():pC(e)}function Bu(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pC(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function f0(n,e,t){return{name:Kd(n,e),fields:t.value.mapValue.fields}}function ap(n,e,t){const r=ta(n,e.name),i=ii(e.updateTime),u=new Ni({mapValue:{fields:e.fields}}),h=sr.newFoundDocument(r,i,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Im(n,e){let t;if(e instanceof Zd)t={update:f0(n,e.key,e.value)};else if(e instanceof ip)t={delete:Kd(n,e.key)};else if(e instanceof Vu)t={update:f0(n,e.key,e.data),updateMask:vC(e.fieldMask)};else{if(!(e instanceof kw))return mt();t={verify:Kd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const h=u.transform;if(h instanceof Wd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Qa)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof lc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zd)return{fieldPath:u.field.canonicalString(),increment:h.N};throw mt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:fC(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:mt()),t;var i}function jw(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?qr.updateTime(ii(i.updateTime)):void 0!==i.exists?qr.exists(i.exists):qr.none():qr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let g=null;"setToServerValue"in h?(Mt("REQUEST_TIME"===h.setToServerValue),g=new Wd):"appendMissingElements"in h?g=new Qa(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new lc(h.removeAllFromArray.values||[]):"increment"in h?g=new zd(u,h.increment):mt();const v=ni.fromServerFormat(h.fieldPath);return new tp(v,g)}(n,i)):[];var i;if(e.update){const i=ta(n,e.update.name),u=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new rc((e.updateMask.fieldPaths||[]).map(T=>ni.fromServerFormat(T)));return new Vu(i,u,h,t,r)}return new Zd(i,u,t,r)}if(e.delete){const i=ta(n,e.delete);return new ip(i,t)}if(e.verify){const i=ta(n,e.verify);return new kw(i,t)}return mt()}function $w(n,e){return{documents:[d0(n,e.path)]}}function Gw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=d0(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=d0(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0===g.length)return;const v=g.map(T=>function(A){if("=="===A.op){if(Gv(A.value))return{unaryFilter:{field:up(A.field),op:"IS_NAN"}};if($v(A.value))return{unaryFilter:{field:up(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(Gv(A.value))return{unaryFilter:{field:up(A.field),op:"IS_NOT_NAN"}};if($v(A.value))return{unaryFilter:{field:up(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:up(A.field),op:GA(A.op),value:A.value}}}(T));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(g){if(0!==g.length)return g.map(v=>{return{field:up((T=v).field),direction:yC(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(v=e.limit,n.C||Ya(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=zw(e.startAt)),e.endAt&&(t.structuredQuery.endAt=zw(e.endAt)),t}function Hw(n){let e=h0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Mt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=Ww(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(A=>{return new ac(lp((M=A).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let g=null;t.limit&&(g=function(A){let M;return M="object"==typeof A?A.value:A,Ya(M)?null:M}(t.limit));let v=null;t.startAt&&(v=qw(t.startAt));let T=null;return t.endAt&&(T=qw(t.endAt)),qv(e,i,h,u,g,"F",v,T)}function Ww(n){return n?void 0!==n.unaryFilter?[WA(n)]:void 0!==n.fieldFilter?[HA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ww(e)).reduce((e,t)=>e.concat(t)):mt():[]}function zw(n){return{before:n.before,values:n.position}}function qw(n){return new oc(n.values||[],!!n.before)}function yC(n){return BA[n]}function GA(n){return jA[n]}function up(n){return{fieldPath:n.canonicalString()}}function lp(n){return ni.fromServerFormat(n.fieldPath)}function HA(n){return is.create(lp(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function WA(n){switch(n.unaryFilter.op){case"IS_NAN":const e=lp(n.unaryFilter.field);return is.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=lp(n.unaryFilter.field);return is.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lp(n.unaryFilter.field);return is.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lp(n.unaryFilter.field);return is.create(i,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}function vC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function na(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DC(e)),e=zA(n.get(t),e);return DC(e)}function zA(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function DC(n){return n+"\x01\x01"}function s(n){const e=n.length;if(Mt(e>=2),2===e)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&mt(),n.charAt(h+1)){case"\x01":const g=n.substring(u,h);let v;0===i.length?v=g:(i+=g,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(u,h),i+="\0";break;case"\x11":i+=n.substring(u,h+1);break;default:mt()}u=h+2}return new fn(r)}class o{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class a{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}a.store="owner",a.key="owner";class c{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}c.store="mutationQueues",c.keyPath="userId";class d{constructor(e,t,r,i,u){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=u}}d.store="mutations",d.keyPath="batchId",d.userMutationsIndex="userMutationsIndex",d.userMutationsKeyPath=["userId","batchId"];class p{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,na(t)]}static key(e,t,r){return[e,na(t),r]}}p.store="documentMutations",p.PLACEHOLDER=new p;class _{constructor(e,t){this.path=e,this.readTime=t}}class D{constructor(e,t){this.path=e,this.version=t}}class w{constructor(e,t,r,i,u,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=u,this.parentPath=h}}w.store="remoteDocuments",w.readTimeIndex="readTimeIndex",w.readTimeIndexPath="readTime",w.collectionReadTimeIndex="collectionReadTimeIndex",w.collectionReadTimeIndexPath=["parentPath","readTime"];class I{constructor(e){this.byteSize=e}}I.store="remoteDocumentGlobal",I.key="remoteDocumentGlobalKey";class N{constructor(e,t,r,i,u,h,g){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=h,this.query=g}}N.store="targets",N.keyPath="targetId",N.queryTargetsIndexName="queryTargetsIndex",N.queryTargetsKeyPath=["canonicalId","targetId"];class P{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}P.store="targetDocuments",P.keyPath=["targetId","path"],P.documentTargetsIndex="documentTargetsIndex",P.documentTargetsKeyPath=["path","targetId"];class B{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}B.key="targetGlobalKey",B.store="targetGlobal";class Q{constructor(e,t){this.collectionId=e,this.parent=t}}Q.store="collectionParents",Q.keyPath=["collectionId","parent"];class pe{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}pe.store="clientMetadata",pe.keyPath="clientId";class Ue{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Ue.store="bundles",Ue.keyPath="bundleId";class qe{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}qe.store="namedQueries",qe.keyPath="name";const ut=[c.store,d.store,p.store,w.store,N.store,a.store,B.store,P.store,pe.store,I.store,Q.store,Ue.store,qe.store],Ne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,u=0,h=!1;e.forEach(g=>{++i,g.next(()=>{++u,h&&u===i&&t()},v=>r(v))}),h=!0,u===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class rn{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new kr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new fc(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const i=cp(r.target.error);this.It.reject(new fc(e,i))}}static open(e,t,r,i){try{return new rn(t,e.transaction(i,r))}catch(u){throw new fc(t,u)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new p0(t)}}class or{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===or.bt((0,Ht.z$)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Xa(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Ht.hl)())return!1;if(or.vt())return!0;const e=(0,Ht.z$)(),t=or.bt(e),r=0<t&&t<10,i=or.Vt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,fe.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{i(new fc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const g=h.target.error;i("VersionError"===g.name?new Le(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Le(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new fc(e,g))},u.onupgradeneeded=h=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,fe.Z)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.Ct(e);const v=rn.open(u.db,e,h?"readonly":"readwrite",r),T=i(v).catch(A=>(v.abort(A),ce.reject(A))).toPromise();return T.catch(()=>{}),yield v.At,T}catch(v){const T="FirebaseError"!==v.name&&g<3;if(Ge("SimpleDb","Transaction failed with error:",v.message,"Retrying:",T),u.close(),!T)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hc{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Xa(this.$t.delete())}}class fc extends Le{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ja(n){return"IndexedDbTransactionError"===n.name}class p0{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xa(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Xa(this.store.add(e))}get(e){return Xa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Xa(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Xa(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),i=[];return this.Ut(r,(u,h)=>{i.push(h)}).next(()=>i)}qt(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const i=this.cursor(r);return this.Ut(i,(u,h,g)=>g.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new ce((r,i)=>{t.onerror=u=>{const h=cp(u.target.error);i(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new ce((i,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void i();const v=new hc(g),T=t(g.primaryKey,g.value,v);if(T instanceof ce){const A=T.catch(M=>(v.done(),ce.reject(M)));r.push(A)}v.isDone?i():null===v.Ft?g.continue():g.continue(v.Ft)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xa(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=cp(r.target.error);t(i)}})}let Sm=!1;function cp(n){const e=or.bt((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Sm||(Sm=!0,setTimeout(()=>{throw r},0)),r}}return n}class Am extends wt{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Oi(n,e){const t=Xe(n);return or.Dt(t.Wt,e)}class dp{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&sC(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&n0(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&n0(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&Vd(this.mutations,e.mutations,(t,r)=>qd(t,r))&&Vd(this.baseMutations,e.baseMutations,(t,r)=>qd(t,r))}}class wC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Mt(e.mutations.length===r.length);let i=Uu();const u=e.mutations;for(let h=0;h<u.length;h++)i=i.insert(u[h].key,r[h].version);return new wC(e,t,r,i)}}class Yd{constructor(e,t,r,i,u=Pt.min(),h=Pt.min(),g=wr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(e){return new Yd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qA{constructor(e){this.Gt=e}}function EC(n,e){if(e.document)return ap(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=_t.fromSegments(e.noDocument.path),r=Mm(e.noDocument.readTime),i=sr.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=_t.fromSegments(e.unknownDocument.path),r=Mm(e.unknownDocument.version);return sr.newUnknownDocument(t,r)}return mt()}function ZA(n,e,t){const r=TC(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const u={name:Kd(g=n.Gt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:op(g,v.version.toTimestamp())};return new w(null,null,u,e.hasCommittedMutations,r,i)}var g,v;if(e.isNoDocument()){const u=e.key.path.toArray(),h=Nm(e.version),g=e.hasCommittedMutations;return new w(null,new _(u,h),null,g,r,i)}if(e.isUnknownDocument()){const u=e.key.path.toArray(),h=Nm(e.version);return new w(new D(u,h),null,null,!0,r,i)}return mt()}function TC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function KA(n){const e=new pr(n[0],n[1]);return Pt.fromTimestamp(e)}function Nm(n){const e=n.toTimestamp();return new o(e.seconds,e.nanoseconds)}function Mm(n){const e=new pr(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function Om(n,e){const t=(e.baseMutations||[]).map(u=>jw(n.Gt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>jw(n.Gt,u)),i=pr.fromMillis(e.localWriteTimeMs);return new dp(e.batchId,i,t,r)}function g0(n){const e=Mm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Mm(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var i;return void 0!==n.query.documents?(Mt(1===(i=n.query).documents.length),r=Zs(Qf(h0(i.documents[0])))):r=Zs(Hw(n.query)),new Yd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,wr.fromBase64String(n.resumeToken))}function YA(n,e){const t=Nm(e.snapshotVersion),r=Nm(e.lastLimboFreeSnapshotVersion);let i;i=Wv(e.target)?$w(n.Gt,e.target):Gw(n.Gt,e.target);const u=e.resumeToken.toBase64();return new N(e.targetId,_m(e.target),t,u,e.sequenceNumber,r,i)}function CC(n){const e=Hw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?bm(e,e.limit,"L"):e}class $x{getBundleMetadata(e,t){return QA(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Mm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return QA(e).put({bundleId:(r=t).id,createTime:Nm(ii(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return JA(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:CC(i.bundledQuery),readTime:Mm(i.readTime)};var i})}saveNamedQuery(e,t){return JA(e).put({name:(r=t).name,readTime:Nm(ii(r.readTime)),bundledQuery:r.bundledQuery});var r}}function QA(n){return Oi(n,Ue.store)}function JA(n){return Oi(n,qe.store)}class Gx{constructor(){this.zt=new IC}addToCollectionParentIndex(e,t){return this.zt.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.zt.getEntries(t))}}class IC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Tr(fn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tr(fn.comparator)).toArray()}}class Hx{constructor(){this.Ht=new IC}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const u={collectionId:r,parent:na(i)};return XA(e).put(u)}return ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[YT(t),""],!1,!0);return XA(e).Bt(i).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(s(h.parent))}return r})}}function XA(n){return Oi(n,Q.store)}const eN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ys{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ys(e,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tN(n,e,t){const r=n.store(d.store),i=n.store(p.store),u=[],h=IDBKeyRange.only(t.batchId);let g=0;const v=r.jt({range:h},(A,M,F)=>(g++,F.delete()));u.push(v.next(()=>{Mt(1===g)}));const T=[];for(const A of t.mutations){const M=p.key(e,A.key.path,t.batchId);u.push(i.delete(M)),T.push(A.key)}return ce.waitFor(u).next(()=>T)}function Zw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw mt();e=n.noDocument}return JSON.stringify(e).length}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(41943040,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);class SC{constructor(e,t,r,i){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,r,i){Mt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new SC(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qd(e).jt({index:d.userMutationsIndex,range:r},(i,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=xm(e),h=Qd(e);return h.add({}).next(g=>{Mt("number"==typeof g);const v=new dp(g,t,r,i),T=function(F,$,X){const Te=X.baseMutations.map(Re=>Im(F.Gt,Re)),be=X.mutations.map(Re=>Im(F.Gt,Re));return new d($,X.batchId,X.localWriteTime.toMillis(),Te,be)}(this.k,this.userId,v),A=[];let M=new Tr((F,$)=>Zt(F.canonicalString(),$.canonicalString()));for(const F of i){const $=p.key(this.userId,F.key.path,g);M=M.add(F.key.path.popLast()),A.push(h.put(T)),A.push(u.put($,p.PLACEHOLDER))}return M.forEach(F=>{A.push(this.Jt.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.Yt[g]=v.keys()}),ce.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return Qd(e).get(t).next(r=>r?(Mt(r.userId===this.userId),Om(this.k,r)):null)}Zt(e,t){return this.Yt[t]?ce.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Yt[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Qd(e).jt({index:d.userMutationsIndex,range:i},(h,g,v)=>{g.userId===this.userId&&(Mt(g.batchId>=r),u=Om(this.k,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Qd(e).jt({index:d.userMutationsIndex,range:t,reverse:!0},(i,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qd(e).Bt(d.userMutationsIndex,t).next(r=>r.map(i=>Om(this.k,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=p.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return xm(e).jt({range:i},(h,g,v)=>{const[T,A,M]=h,F=s(A);if(T===this.userId&&t.path.isEqual(F))return Qd(e).get(M).next($=>{if(!$)throw mt();Mt($.userId===this.userId),u.push(Om(this.k,$))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tr(Zt);const i=[];return t.forEach(u=>{const h=p.prefixForPath(this.userId,u.path),g=IDBKeyRange.lowerBound(h),v=xm(e).jt({range:g},(T,A,M)=>{const[F,$,X]=T,Te=s($);F===this.userId&&u.path.isEqual(Te)?r=r.add(X):M.done()});i.push(v)}),ce.waitFor(i).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=p.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(u);let g=new Tr(Zt);return xm(e).jt({range:h},(v,T,A)=>{const[M,F,$]=v,X=s(F);M===this.userId&&r.isPrefixOf(X)?X.length===i&&(g=g.add($)):A.done()}).next(()=>this.te(e,g))}te(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Qd(e).get(u).next(h=>{if(null===h)throw mt();Mt(h.userId===this.userId),r.push(Om(this.k,h))}))}),ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return tN(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound(p.prefixForUser(this.userId)),i=[];return xm(e).jt({range:r},(u,h,g)=>{if(u[0]===this.userId){const v=s(u[1]);i.push(v)}else g.done()}).next(()=>{Mt(0===i.length)})})}containsKey(e,t){return nN(e,this.userId,t)}ne(e){return rN(e).get(this.userId).next(t=>t||new c(this.userId,-1,""))}}function nN(n,e,t){const r=p.prefixForPath(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return xm(n).jt({range:u,Kt:!0},(g,v,T)=>{const[A,M,F]=g;A===e&&M===i&&(h=!0),T.done()}).next(()=>h)}function Qd(n){return Oi(n,d.store)}function xm(n){return Oi(n,p.store)}function rN(n){return Oi(n,c.store)}class hp{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new hp(0)}static re(){return new hp(-1)}}class Wx{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new hp(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Pt.fromTimestamp(new pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ce(e,i)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Rm(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(Mt(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return Rm(e).jt((h,g)=>{const v=g0(g);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,u.push(this.removeTargetData(e,v)))}).next(()=>ce.waitFor(u)).next(()=>i)}forEachTarget(e,t){return Rm(e).jt((r,i)=>{const u=g0(i);t(u)})}oe(e){return iN(e).get(B.key).next(t=>(Mt(null!==t),t))}ce(e,t){return iN(e).put(B.key,t)}ae(e,t){return Rm(e).put(YA(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=_m(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Rm(e).jt({range:i,index:N.queryTargetsIndexName},(h,g,v)=>{const T=g0(g);Hv(t,T.target)&&(u=T,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Jd(e);return t.forEach(h=>{const g=na(h.path);i.push(u.put(new P(r,g))),i.push(this.referenceDelegate.addReference(e,r,h))}),ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=Jd(e);return ce.forEach(t,u=>{const h=na(u.path);return ce.waitFor([i.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Jd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Jd(e);let u=pn();return i.jt({range:r,Kt:!0},(h,g,v)=>{const T=s(h[1]),A=new _t(T);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=na(t.path),i=IDBKeyRange.bound([r],[YT(r)],!1,!0);let u=0;return Jd(e).jt({index:P.documentTargetsIndex,Kt:!0,range:i},([h,g],v,T)=>{0!==h&&(u++,T.done())}).next(()=>u>0)}Et(e,t){return Rm(e).get(t).next(r=>r?g0(r):null)}}function Rm(n){return Oi(n,N.store)}function iN(n){return Oi(n,B.store)}function Jd(n){return Oi(n,P.store)}function fp(n){return AC.apply(this,arguments)}function AC(){return AC=(0,fe.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==Ne)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),AC.apply(this,arguments)}function sN([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class zx{constructor(e){this.he=e,this.buffer=new Tr(sN),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();sN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qx{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Ge("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,fe.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Ja(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield fp(i)}yield t.me(e)}))}}class Zx{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(rs.I);const r=new zx(t);return this.ge.forEachTarget(e,i=>r.de(i.sequenceNumber)).next(()=>this.ge.pe(e,i=>r.de(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(eN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eN):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,i,u,h,g,v,T;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,h=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,g=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(T=Date.now(),Rv()<=Ha.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-A}ms\n\tDetermined least recently used ${i} in `+(g-h)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${M} documents in `+(T-v)+`ms\nTotal Duration: ${T-A}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class Kx{constructor(e,t){this.db=e,this.garbageCollector=new Zx(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,i)=>t(i))}addReference(e,t,r){return Kw(e,r)}removeReference(e,t,r){return Kw(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Kw(e,t)}Ae(e,t){return function(r,i){let u=!1;return rN(r).Qt(h=>nN(r,h,i).next(g=>(g&&(u=!0),ce.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Ie(e,(h,g)=>{if(g<=t){const v=this.Ae(e,h).next(T=>{if(!T)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Jd(e).delete([0,na(h.path)])))});i.push(v)}}).next(()=>ce.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Kw(e,t)}Ie(e,t){const r=Jd(e);let i,u=rs.I;return r.jt({index:P.documentTargetsIndex},([h,g],{path:v,sequenceNumber:T})=>{0===h?(u!==rs.I&&t(new _t(s(i)),u),u=T,i=v):u=rs.I}).next(()=>{u!==rs.I&&t(new _t(s(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Kw(n,e){return Jd(n).put((r=n.currentSequenceNumber,new P(0,na(e.path),r)));var r}class km{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){nc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return Fv(this.inner)}}class oN{constructor(){this.changes=new km(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Pt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:sr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yx{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return Xd(e).put(Yw(t),r)}removeEntry(e,t){const r=Xd(e),i=Yw(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return Xd(e).get(Yw(t)).next(r=>this.be(t,r))}Pe(e,t){return Xd(e).get(Yw(t)).next(r=>({document:this.be(t,r),size:Zw(r)}))}getEntries(e,t){let r=zi();return this.ve(e,t,(i,u)=>{const h=this.be(i,u);r=r.insert(i,h)}).next(()=>r)}Ve(e,t){let r=zi(),i=new ri(_t.comparator);return this.ve(e,t,(u,h)=>{const g=this.be(u,h);r=r.insert(u,g),i=i.insert(u,Zw(h))}).next(()=>({documents:r,Se:i}))}ve(e,t,r){if(t.isEmpty())return ce.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),u=t.getIterator();let h=u.getNext();return Xd(e).jt({range:i},(g,v,T)=>{const A=_t.fromSegments(g);for(;h&&_t.comparator(h,A)<0;)r(h,null),h=u.getNext();h&&h.isEqual(A)&&(r(h,v),h=u.hasNext()?u.getNext():null),h?T.Lt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r){let i=zi();const u=t.path.length+1,h={};if(r.isEqual(Pt.min())){const g=t.path.toArray();h.range=IDBKeyRange.lowerBound(g)}else{const g=t.path.toArray(),v=TC(r);h.range=IDBKeyRange.lowerBound([g,v],!0),h.index=w.collectionReadTimeIndex}return Xd(e).jt(h,(g,v,T)=>{if(g.length!==u)return;const A=EC(this.k,v);t.path.isPrefixOf(A.key.path)?uc(t,A)&&(i=i.insert(A.key,A)):T.done()}).next(()=>i)}newChangeBuffer(e){return new Qx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return aN(e).get(I.key).next(t=>(Mt(!!t),t))}Re(e,t){return aN(e).put(I.key,t)}be(e,t){if(t){const r=EC(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return sr.newInvalidDocument(e)}}class Qx extends oN{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new km(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Tr((u,h)=>Zt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const g=this.Ce.get(u);if(h.document.isValidDocument()){const v=ZA(this.De.k,h.document,this.getReadTime(u));i=i.add(u.path.popLast()),r+=Zw(v)-g,t.push(this.De.addEntry(e,u,v))}else if(r-=g,this.trackRemovals){const v=ZA(this.De.k,sr.newNoDocument(u,Pt.min()),this.getReadTime(u));t.push(this.De.addEntry(e,u,v))}else t.push(this.De.removeEntry(e,u))}),i.forEach(u=>{t.push(this.De.Jt.addToCollectionParentIndex(e,u))}),t.push(this.De.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:i})=>(i.forEach((u,h)=>{this.Ce.set(u,h)}),r))}}function aN(n){return Oi(n,I.store)}function Xd(n){return Oi(n,w.store)}function Yw(n){return n.path.toArray()}class Jx{constructor(e){this.k=e}Nt(e,t,r,i){Mt(r<i&&r>=0&&i<=11);const u=new rn("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore(a.store),(g=e).createObjectStore(c.store,{keyPath:c.keyPath}),g.createObjectStore(d.store,{keyPath:d.keyPath,autoIncrement:!0}).createIndex(d.userMutationsIndex,d.userMutationsKeyPath,{unique:!0}),g.createObjectStore(p.store),uN(e),function(g){g.createObjectStore(w.store)}(e));let h=ce.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore(P.store),g.deleteObjectStore(N.store),g.deleteObjectStore(B.store)}(e),uN(e)),h=h.next(()=>function(g){const v=g.store(B.store),T=new B(0,0,Pt.min().toTimestamp(),0);return v.put(B.key,T)}(u))),r<4&&i>=4&&(0!==r&&(h=h.next(()=>function(g,v){return v.store(d.store).Bt().next(T=>{g.deleteObjectStore(d.store),g.createObjectStore(d.store,{keyPath:d.keyPath,autoIncrement:!0}).createIndex(d.userMutationsIndex,d.userMutationsKeyPath,{unique:!0});const A=v.store(d.store),M=T.map(F=>A.put(F));return ce.waitFor(M)})}(e,u))),h=h.next(()=>{!function(g){g.createObjectStore(pe.store,{keyPath:pe.keyPath})}(e)})),r<5&&i>=5&&(h=h.next(()=>this.Ne(u))),r<6&&i>=6&&(h=h.next(()=>(function(g){g.createObjectStore(I.store)}(e),this.ke(u)))),r<7&&i>=7&&(h=h.next(()=>this.xe(u))),r<8&&i>=8&&(h=h.next(()=>this.$e(e,u))),r<9&&i>=9&&(h=h.next(()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(e),function(g){const v=g.objectStore(w.store);v.createIndex(w.readTimeIndex,w.readTimeIndexPath,{unique:!1}),v.createIndex(w.collectionReadTimeIndex,w.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(h=h.next(()=>this.Oe(u))),r<11&&i>=11&&(h=h.next(()=>{(function(g){g.createObjectStore(Ue.store,{keyPath:Ue.keyPath})})(e),function(g){g.createObjectStore(qe.store,{keyPath:qe.keyPath})}(e)})),h}ke(e){let t=0;return e.store(w.store).jt((r,i)=>{t+=Zw(i)}).next(()=>{const r=new I(t);return e.store(I.store).put(I.key,r)})}Ne(e){const t=e.store(c.store),r=e.store(d.store);return t.Bt().next(i=>ce.forEach(i,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.Bt(d.userMutationsIndex,h).next(g=>ce.forEach(g,v=>{Mt(v.userId===u.userId);const T=Om(this.k,v);return tN(e,u.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(P.store),r=e.store(w.store);return e.store(B.store).get(B.key).next(i=>{const u=[];return r.jt((h,g)=>{const v=new fn(h),T=[0,na(v)];u.push(t.get(T).next(A=>A?ce.resolve():t.put(new P(0,na(v),i.highestListenSequenceNumber))))}).next(()=>ce.waitFor(u))})}$e(e,t){e.createObjectStore(Q.store,{keyPath:Q.keyPath});const r=t.store(Q.store),i=new IC,u=h=>{if(i.add(h)){const g=h.lastSegment(),v=h.popLast();return r.put({collectionId:g,parent:na(v)})}};return t.store(w.store).jt({Kt:!0},(h,g)=>{const v=new fn(h);return u(v.popLast())}).next(()=>t.store(p.store).jt({Kt:!0},([h,g,v],T)=>{const A=s(g);return u(A.popLast())}))}Oe(e){const t=e.store(N.store);return t.jt((r,i)=>{const u=g0(i),h=YA(this.k,u);return t.put(h)})}}function uN(n){n.createObjectStore(P.store,{keyPath:P.keyPath}).createIndex(P.documentTargetsIndex,P.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(N.store,{keyPath:N.keyPath}).createIndex(N.queryTargetsIndexName,N.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(B.store)}const NC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class MC{constructor(e,t,r,i,u,h,g,v,T,A){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=u,this.window=h,this.document=g,this.Fe=T,this.Le=A,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!MC.Pt())throw new Le(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kx(this,i),this.Ge=t+"main",this.k=new qA(v),this.ze=new or(this.Ge,11,new Jx(this.k)),this.He=new Wx(this.referenceDelegate,this.k),this.Jt=new Hx,this.Je=new Yx(this.k,this.Jt),this.Ye=new $x,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===A&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(de.FAILED_PRECONDITION,NC);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new rs(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,fe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,fe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,fe.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Qw(e).put(new pe(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Ja(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return m0(e).get(a.key).next(t=>ce.resolve(this.un(t)))}hn(e){return Qw(e).delete(this.clientId)}ln(){var e=this;return(0,fe.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Oi(r,pe.store);return i.Bt().next(u=>{const h=e.dn(u,18e5),g=u.filter(v=>-1===h.indexOf(v));return ce.forEach(g,v=>i.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?ce.resolve(!0):m0(e).get(a.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Le(de.FAILED_PRECONDITION,NC);return!1}}return!(!this.networkEnabled||!this.inForeground)||Qw(e).Bt().next(r=>void 0===this.dn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const h=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||h&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,fe.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[a.store,pe.store],t=>{const r=new Am(t,rs.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Qw(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return SC.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let u;return Ge("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",ut,h=>(u=new Am(h,this.Be?this.Be.next():rs.I),"readwrite-primary"===t?this.rn(u).next(g=>!!g||this.on(u)).next(g=>{if(!g)throw fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Le(de.FAILED_PRECONDITION,Ne);return r(u)}).next(g=>this.an(u).next(()=>g)):this.En(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}En(e){return m0(e).get(a.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(de.FAILED_PRECONDITION,NC)})}an(e){const t=new a(this.clientId,this.allowTabSynchronization,Date.now());return m0(e).put(a.key,t)}static Pt(){return or.Pt()}cn(e){const t=m0(e);return t.get(a.key).next(r=>this.un(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete(a.key)):ce.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Ht.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){fr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function m0(n){return Oi(n,a.store)}function Qw(n){return Oi(n,pe.store)}function OC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Xx{constructor(e,t){this.progress=e,this.In=t}}class lN{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}Pn(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return _t.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):Qv(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new _t(t)).next(r=>{let i=a0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let u=a0();return this.Jt.getCollectionParents(e,i).next(h=>ce.forEach(h,g=>{const v=(T=t,A=g.child(i),new qs(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,A;return this.Cn(e,v,r).next(T=>{T.forEach((A,M)=>{u=u.insert(A,M)})})}).next(()=>u))}Cn(e,t,r){let i,u;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(i=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(u=h,this.Nn(e,u,i).next(g=>{i=g;for(const v of u)for(const T of v.mutations){const A=T.key;let M=i.get(A);null==M&&(M=sr.newInvalidDocument(A),i=i.insert(A,M)),n0(T,M,v.localWriteTime),M.isFoundDocument()||(i=i.remove(A))}}))).next(()=>(i.forEach((h,g)=>{uc(t,g)||(i=i.remove(h))}),i))}Nn(e,t,r){let i=pn();for(const h of t)for(const g of h.mutations)g instanceof Vu&&null===r.get(g.key)&&(i=i.add(g.key));let u=r;return this.Je.getEntries(e,i).next(h=>(h.forEach((g,v)=>{v.isFoundDocument()&&(u=u.insert(g,v))}),u))}}class xC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=pn(),i=pn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new xC(e,t.fromCache,r,i)}}class cN{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Pt.min())?this.Fn(e,t):this.Mn.vn(e,i).next(u=>{const h=this.Ln(t,u);return(Zv(t)||Kv(t))&&this.Bn(t.limitType,h,i,r)?this.Fn(e,t):(Rv()<=Ha.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jv(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(g=>(h.forEach(v=>{g=g.insert(v.key,v)}),g)))});var u}Ln(e,t){let r=new Tr(Iw(e));return t.forEach((i,u)=>{uc(e,u)&&(r=r.add(u))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Fn(e,t){return Rv()<=Ha.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Jv(t)),this.Mn.getDocumentsMatchingQuery(e,t,Pt.min())}}class eR{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new ri(Zt),this.Kn=new km(u=>_m(u),Hv),this.jn=Pt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new lN(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function dN(n,e,t,r){return new eR(n,e,t,r)}function hN(n,e){return RC.apply(this,arguments)}function RC(){return RC=(0,fe.Z)(function*(n,e){const t=Xe(n);let r=t.An,i=t.Wn;const u=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let g;return t.An.getAllMutationBatches(h).next(v=>(g=v,r=t.persistence.getMutationQueue(e),i=new lN(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const T=[],A=[];let M=pn();for(const F of g){T.push(F.batchId);for(const $ of F.mutations)M=M.add($.key)}for(const F of v){A.push(F.batchId);for(const $ of F.mutations)M=M.add($.key)}return i.vn(h,M).next(F=>({Gn:F,removedBatchIds:T,addedBatchIds:A}))})});return t.An=r,t.Wn=i,t.Un.On(t.Wn),u}),RC.apply(this,arguments)}function tR(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,g,v,T){const A=v.batch,M=A.keys();let F=ce.resolve();return M.forEach($=>{F=F.next(()=>T.getEntry(g,$)).next(X=>{const Te=v.docVersions.get($);Mt(null!==Te),X.version.compareTo(Te)<0&&(A.applyToRemoteDocument(X,v),X.isValidDocument()&&T.addEntry(X,v.commitVersion))})}),F.next(()=>h.An.removeMutationBatch(g,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function fN(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function nR(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const g=[];e.targetChanges.forEach((T,A)=>{const M=i.get(A);if(!M)return;g.push(t.He.removeMatchingKeys(u,T.removedDocuments,A).next(()=>t.He.addMatchingKeys(u,T.addedDocuments,A)));let F=M.withSequenceNumber(u.currentSequenceNumber);var $,X,Te;e.targetMismatches.has(A)?F=F.withResumeToken(wr.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,r)),i=i.insert(A,F),X=F,Te=T,(0===($=M).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&g.push(t.He.updateTargetData(u,F))});let v=zi();if(e.documentUpdates.forEach((T,A)=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(pN(u,h,e.documentUpdates,r,void 0).next(T=>{v=T})),!r.isEqual(Pt.min())){const T=t.He.getLastRemoteSnapshotVersion(u).next(A=>t.He.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(T)}return ce.waitFor(g).next(()=>h.apply(u)).next(()=>t.Wn.Vn(u,v)).next(()=>v)}).then(u=>(t.qn=i,u))}function pN(n,e,t,r,i){let u=pn();return t.forEach(h=>u=u.add(h)),e.getEntries(n,u).next(h=>{let g=zi();return t.forEach((v,T)=>{const A=h.get(v),M=(null==i?void 0:i.get(v))||r;T.isNoDocument()&&T.version.isEqual(Pt.min())?(e.removeEntry(v,M),g=g.insert(v,T)):!A.isValidDocument()||T.version.compareTo(A.version)>0||0===T.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(T,M),g=g.insert(v,T)):Ge("LocalStore","Ignoring outdated watch update for ",v,". Current version:",A.version," Watch version:",T.version)}),g})}function rR(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Pm(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(u=>u?(i=u,ce.resolve(i)):t.He.allocateTargetId(r).next(h=>(i=new Yd(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Fm(n,e,t){return kC.apply(this,arguments)}function kC(){return kC=(0,fe.Z)(function*(n,e,t){const r=Xe(n),i=r.qn.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,i)))}catch(h){if(!Ja(h))throw h;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),kC.apply(this,arguments)}function Jw(n,e,t){const r=Xe(n);let i=Pt.min(),u=pn();return r.persistence.runTransaction("Execute query","readonly",h=>function(g,v,T){const A=Xe(g),M=A.Kn.get(T);return void 0!==M?ce.resolve(A.qn.get(M)):A.He.getTargetData(v,T)}(r,h,Zs(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,g.targetId).next(v=>{u=v})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?i:Pt.min(),t?u:pn())).next(g=>({documents:g,zn:u})))}function gN(n,e){const t=Xe(n),r=Xe(t.He),i=t.qn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(h=>h?h.target:null))}function mN(n){const e=Xe(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,u){const h=Xe(r);let g=zi(),v=TC(u);const T=Xd(i),A=IDBKeyRange.lowerBound(v,!0);return T.jt({index:w.readTimeIndex,range:A},(M,F)=>{const $=EC(h.k,F);g=g.insert($.key,$),v=F.readTime}).next(()=>({In:g,readTime:KA(v)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function PC(){return PC=(0,fe.Z)(function*(n){const e=Xe(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=Xd(r);let u=Pt.min();return i.jt({index:w.readTimeIndex,reverse:!0},(h,g,v)=>{g.readTime&&(u=KA(g.readTime)),v.done()}).next(()=>u)}(t)).then(t=>{e.jn=t})}),PC.apply(this,arguments)}function FC(){return FC=(0,fe.Z)(function*(n,e,t,r){const i=Xe(n);let u=pn(),h=zi(),g=Uu();for(const A of t){const M=e.Hn(A.metadata.name);A.document&&(u=u.add(M)),h=h.insert(M,e.Jn(A)),g=g.insert(M,e.Yn(A.metadata.readTime))}const v=i.Qn.newChangeBuffer({trackRemovals:!0}),T=yield Pm(i,(A=r,Zs(Qf(fn.fromString(`__bundle__/docs/${A}`)))));var A;return i.persistence.runTransaction("Apply bundle documents","readwrite",A=>pN(A,v,h,Pt.min(),g).next(M=>(v.apply(A),M)).next(M=>i.He.removeMatchingKeysForTargetId(A,T.targetId).next(()=>i.He.addMatchingKeys(A,u,T.targetId)).next(()=>i.Wn.Vn(A,M)).next(()=>M)))}),FC.apply(this,arguments)}function oR(n,e){return LC.apply(this,arguments)}function LC(){return LC=(0,fe.Z)(function*(n,e,t=pn()){const r=yield Pm(n,Zs(CC(e.bundledQuery))),i=Xe(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const h=ii(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return i.Ye.saveNamedQuery(u,e);const g=r.withResumeToken(wr.EMPTY_BYTE_STRING,h);return i.qn=i.qn.insert(g.targetId,g),i.He.updateTargetData(u,g).next(()=>i.He.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.He.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ye.saveNamedQuery(u,e))})}),LC.apply(this,arguments)}class aR{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return ce.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:ii(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:CC(r.bundledQuery),readTime:ii(r.readTime)}),ce.resolve();var r}}class VC{constructor(){this.ts=new Tr(xi.es),this.ns=new Tr(xi.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new xi(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new xi(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new _t(new fn([])),r=new xi(t,e),i=new xi(t,e+1),u=[];return this.ns.forEachInRange([r,i],h=>{this.os(h),u.push(h.key)}),u}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new _t(new fn([])),r=new xi(t,e),i=new xi(t,e+1);let u=pn();return this.ns.forEachInRange([r,i],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new xi(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class xi{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return _t.comparator(e.key,t.key)||Zt(e.fs,t.fs)}static ss(e,t){return Zt(e.fs,t.fs)||_t.comparator(e.key,t.key)}}class uR{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Tr(xi.es)}checkEmpty(e){return ce.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const u=this.ds;this.ds++;const h=new dp(u,t,r,i);this.An.push(h);for(const g of i)this.ws=this.ws.add(new xi(g.key,u)),this.Jt.addToCollectionParentIndex(e,g.key.path.popLast());return ce.resolve(h)}lookupMutationBatch(e,t){return ce.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),u=i<0?0:i;return ce.resolve(this.An.length>u?this.An[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return ce.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xi(t,0),i=new xi(t,Number.POSITIVE_INFINITY),u=[];return this.ws.forEachInRange([r,i],h=>{const g=this._s(h.fs);u.push(g)}),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tr(Zt);return t.forEach(i=>{const u=new xi(i,0),h=new xi(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([u,h],g=>{r=r.add(g.fs)})}),ce.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;_t.isDocumentKey(u)||(u=u.child(""));const h=new xi(new _t(u),0);let g=new Tr(Zt);return this.ws.forEachWhile(v=>{const T=v.key.path;return!!r.isPrefixOf(T)&&(T.length===i&&(g=g.add(v.fs)),!0)},h),ce.resolve(this.ys(g))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Mt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return ce.forEach(t.mutations,i=>{const u=new xi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new xi(t,0),i=this.ws.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class lR{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new ri(_t.comparator),this.size=0}addEntry(e,t,r){const i=t.key,u=this.docs.get(i),h=u?u.size:0,g=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:g,readTime:r}),this.size+=g-h,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let r=zi();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():sr.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=zi();const u=new _t(t.path.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:g,value:{document:v,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(g.path))break;T.compareTo(r)<=0||uc(t,v)&&(i=i.insert(v.key,v.mutableCopy()))}return ce.resolve(i)}Es(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cR(this)}getSize(e){return ce.resolve(this.size)}}class cR extends oN{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class dR{constructor(e){this.persistence=e,this.Is=new km(t=>_m(t),Hv),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.As=0,this.Rs=new VC,this.targetCount=0,this.bs=hp.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),ce.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new hp(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.ae(t),ce.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Is.forEach((h,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Is.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),ce.waitFor(u).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(h=>{u.push(i.markPotentiallyOrphaned(e,h))}),ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.Rs.containsKey(t))}}class hR{constructor(e,t){this.Ps={},this.Be=new rs(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new dR(this),this.Jt=new Gx,this.Je=new lR(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new qA(t),this.Ye=new aR(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new uR(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new fR(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(u=>this.referenceDelegate.Ss(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ds(e,t){return ce.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class fR extends wt{constructor(e){super(),this.currentSequenceNumber=e}}class UC{constructor(e){this.persistence=e,this.Cs=new VC,this.Ns=null}static ks(e){return new UC(e)}get xs(){if(this.Ns)return this.Ns;throw mt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.xs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.xs,r=>{const i=_t.fromPath(r);return this.$s(e,i).next(u=>{u||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return ce.or([()=>ce.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function _N(n,e){return`firestore_clients_${n}_${e}`}function yN(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function BC(n,e){return`firestore_targets_${n}_${e}`}class Xw{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Os(e,t,r){const i=JSON.parse(r);let u,h="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return h&&i.error&&(h="string"==typeof i.error.message&&"string"==typeof i.error.code,h&&(u=new Le(i.error.code,i.error.message))),h?new Xw(e,t,i.state,u):(fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Le(r.error.code,r.error.message))),u?new _0(e,r.state,i):(fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class e1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Tm();for(let h=0;i&&h<r.activeTargetIds.length;++h)i=QT(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return i?new e1(e,u):(fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jC{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jC(t.clientId,t.onlineState):(fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $C{constructor(){this.activeTargetIds=Tm()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GC{constructor(e,t,r,i,u){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ri(Zt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Qs=_N(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new $C),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(g){return`firestore_bundle_loaded_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,fe.Z)(function*(){const t=yield e.syncEngine.Tn();for(const i of t){if(i===e.Bs)continue;const u=e.getItem(_N(e.persistenceKey,i));if(u){const h=e1.Os(i,u);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const i=e.Zs(r);i&&e.ti(i)}for(const i of e.js)e.qs(i);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(BC(this.persistenceKey,e));if(r){const i=_0.Os(e,r);i&&(t=i.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(BC(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.si(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,fe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const i=t.ai(r.key);return t.ui(i,null)}{const i=t.hi(r.key,r.newValue);if(i)return t.ui(i.clientId,i)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const i=t.li(r.key,r.newValue);if(i)return t.fi(i)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const i=t.di(r.key,r.newValue);if(i)return t.wi(i)}}else if(r.key===t.Js){if(null!==r.newValue){const i=t.Zs(r.newValue);if(i)return t.ti(i)}}else if(r.key===t.Ws){const i=function(u){let h=rs.I;if(null!=u)try{const g=JSON.parse(u);Mt("number"==typeof g),h=g}catch(g){fr("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(r.newValue);i!==rs.I&&t.sequenceNumberHandler(i)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const i=new Xw(this.currentUser,e,t,r),u=yN(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Ms())}si(e){const t=yN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const i=BC(this.persistenceKey,e),u=new _0(e,t,r);this.setItem(i,u.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return e1.Os(r,t)}li(e,t){const r=this.zs.exec(e),i=Number(r[1]);return Xw.Os(new zr(void 0!==r[2]?r[2]:null),i,t)}di(e,t){const r=this.Hs.exec(e),i=Number(r[1]);return _0.Os(i,t)}Zs(e){return jC.Os(e)}fi(e){var t=this;return(0,fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),u=this.ei(r),h=[],g=[];return u.forEach(v=>{i.has(v)||h.push(v)}),i.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.yi(h,g).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Tm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class vN{constructor(){this.pi=new $C,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new $C,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class pR{Ei(e){}shutdown(){}}class bN{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class mR{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class _R extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,u){const h=this.Ui(e,t);Ge("RestConnection","Sending: ",h,r);const g={};return this.qi(g,i,u),this.Ki(e,h,g,r).then(v=>(Ge("RestConnection","Received: ",v),v),v=>{throw Ld("RestConnection",`${e} failed with error: `,v,"url: ",h,"request:",r),v})}ji(e,t,r,i,u){return this.Bi(e,t,r,i,u)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ec,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}Ui(e,t){return`${this.Fi}/v1/${t}:${gR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((u,h)=>{const g=new _w;g.listenOnce(HT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ov.NO_ERROR:const T=g.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(T)),u(T);break;case Ov.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),h(new Le(de.DEADLINE_EXCEEDED,"Request time out"));break;case Ov.HTTP_ERROR:const A=g.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',A,"response text:",g.getResponseText()),A>0){const M=g.getResponseJson().error;if(M&&M.status&&M.message){const F=function($){const X=$.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(X)>=0?X:de.UNKNOWN}(M.status);h(new Le(F,M.message))}else h(new Le(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Le(de.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);g.send(t,"POST",v,r,15)})}Qi(e,t,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Hf(),h=GT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new WT({})),this.qi(g.initMessageHeaders,t,r),(0,Ht.uI)()||(0,Ht.b$)()||(0,Ht.d)()||(0,Ht.w1)()||(0,Ht.Mn)()||(0,Ht.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Ge("Connection","Creating WebChannel: "+v,g);const T=u.createWebChannel(v,g);let A=!1,M=!1;const F=new mR({Vi:X=>{M?Ge("Connection","Not sending because WebChannel is closed:",X):(A||(Ge("Connection","Opening WebChannel transport."),T.open(),A=!0),Ge("Connection","WebChannel sending:",X),T.send(X))},Si:()=>T.close()}),$=(X,Te,be)=>{X.listen(Te,Re=>{try{be(Re)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return $(T,dm.EventType.OPEN,()=>{M||Ge("Connection","WebChannel transport opened.")}),$(T,dm.EventType.CLOSE,()=>{M||(M=!0,Ge("Connection","WebChannel transport closed"),F.Oi())}),$(T,dm.EventType.ERROR,X=>{M||(M=!0,Ld("Connection","WebChannel transport errored:",X),F.Oi(new Le(de.UNAVAILABLE,"The operation could not be completed")))}),$(T,dm.EventType.MESSAGE,X=>{var Te;if(!M){const be=X.data[0];Mt(!!be);const Re=be,Oe=Re.error||(null===(Te=Re[0])||void 0===Te?void 0:Te.error);if(Oe){Ge("Connection","WebChannel received error:",Oe);const Pe=Oe.status;let je=function(Ut){const Gn=Er[Ut];if(void 0!==Gn)return Fw(Gn)}(Pe),tt=Oe.message;void 0===je&&(je=de.INTERNAL,tt="Unknown error status: "+Pe+" with message "+Oe.message),M=!0,F.Oi(new Le(je,tt)),T.close()}else Ge("Connection","WebChannel received:",be),F.Mi(be)}}),$(h,cm.STAT_EVENT,X=>{X.stat===Wf.PROXY?Ge("Connection","Detected buffering proxy"):X.stat===Wf.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.$i()},0),F}}function DN(){return"undefined"!=typeof window?window:null}function t1(){return"undefined"!=typeof document?document:null}function y0(n){return new Uw(n,!0)}class HC{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=u,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class wN{constructor(e,t,r,i,u,h,g,v){this.Me=e,this.nr=r,this.sr=i,this.ir=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new HC(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,fe.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,fe.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,fe.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(fr(t.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new Le(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi((0,fe.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yR extends wN{constructor(e,t,r,i,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,h),this.k=u}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function mC(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:mt(),i=e.targetChange.targetIds||[],u=function(v,T){return v.C?(Mt(void 0===T||"string"==typeof T),wr.fromBase64String(T||"")):(Mt(void 0===T||T instanceof Uint8Array),wr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(v){const T=void 0===v.code?de.UNKNOWN:Fw(v.code);return new Le(T,v.message||"")}(h);t=new lC(r,i,u,g||null)}else if("documentChange"in e){const r=e.documentChange,i=ta(n,r.document.name),u=ii(r.document.updateTime),h=new Ni({mapValue:{fields:r.document.fields}}),g=sr.newFoundDocument(i,u,h);t=new sp(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=ta(n,r.document),u=r.readTime?ii(r.readTime):Pt.min(),h=sr.newNoDocument(i,u);t=new sp([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,i=ta(n,r.document);t=new sp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return mt();{const r=e.filter,u=new VA(r.count||0);t=new l0(r.targetId,u)}}var v;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return Pt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Pt.min():u.readTime?ii(u.readTime):Pt.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=Bu(this.k),t.addTarget=function(i,u){let h;const g=u.target;return h=Wv(g)?{documents:$w(i,g)}:{query:Gw(i,g)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=Bw(i,u.resumeToken):u.snapshotVersion.compareTo(Pt.min())>0&&(h.readTime=op(i,u.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function _C(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Bu(this.k),t.removeTarget=e,this.gr(t)}}class vR extends wN{constructor(e,t,r,i,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,h),this.k=u,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function $A(n,e){return n&&n.length>0?(Mt(void 0!==e),n.map(t=>function(r,i){let u=ii(r.updateTime?r.updateTime:i);return u.isEqual(Pt.min())&&(u=ii(i)),new iC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.Cr(r,t)}return Mt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Bu(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Im(this.k,r))};this.gr(t)}}class bR extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new Le(de.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.ir.Bi(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(de.UNKNOWN,i.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.ir.ji(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(de.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class DR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(fr(t),this.Lr=!1):Ge("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class wR{constructor(e,t,r,i,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=u,this.Hr.Ei(g=>{r.enqueueAndForget((0,fe.Z)(function*(){var v;eh(h)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,fe.Z)(function*(T){const A=Xe(T);A.Gr.add(4),yield Lm(A),A.Jr.set("Unknown"),A.Gr.delete(4),yield v0(A)}),function(T){return v.apply(this,arguments)})(h))}))}),this.Jr=new DR(r,i)}}function v0(n){return WC.apply(this,arguments)}function WC(){return WC=(0,fe.Z)(function*(n){if(eh(n))for(const e of n.zr)yield e(!0)}),WC.apply(this,arguments)}function Lm(n){return zC.apply(this,arguments)}function zC(){return zC=(0,fe.Z)(function*(n){for(const e of n.zr)yield e(!1)}),zC.apply(this,arguments)}function n1(n,e){const t=Xe(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),KC(t)?ZC(t):Um(t).lr()&&qC(t,e))}function b0(n,e){const t=Xe(n),r=Um(t);t.Wr.delete(e),r.lr()&&EN(t,e),0===t.Wr.size&&(r.lr()?r._r():eh(t)&&t.Jr.set("Unknown"))}function qC(n,e){n.Yr.X(e.targetId),Um(n).Pr(e)}function EN(n,e){n.Yr.X(e),Um(n).vr(e)}function ZC(n){n.Yr=new UA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Um(n).start(),n.Jr.Br()}function KC(n){return eh(n)&&!Um(n).hr()&&n.Wr.size>0}function eh(n){return 0===Xe(n).Gr.size}function TN(n){n.Yr=void 0}function ER(n){return YC.apply(this,arguments)}function YC(){return YC=(0,fe.Z)(function*(n){n.Wr.forEach((e,t)=>{qC(n,e)})}),YC.apply(this,arguments)}function TR(n,e){return QC.apply(this,arguments)}function QC(){return QC=(0,fe.Z)(function*(n,e){TN(n),KC(n)?(n.Jr.Kr(e),ZC(n)):n.Jr.set("Unknown")}),QC.apply(this,arguments)}function CR(n,e,t){return JC.apply(this,arguments)}function JC(){return JC=(0,fe.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof lC&&2===e.state&&e.cause)try{yield(r=(0,fe.Z)(function*(i,u){const h=u.cause;for(const g of u.targetIds)i.Wr.has(g)&&(yield i.remoteSyncer.rejectListen(g,h),i.Wr.delete(g),i.Yr.removeTarget(g))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield r1(n,r)}else if(e instanceof sp?n.Yr.ot(e):e instanceof l0?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Pt.min()))try{const r=yield fN(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const h=i.Yr.gt(u);return h.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=i.Wr.get(v);T&&i.Wr.set(v,T.withResumeToken(g.resumeToken,u))}}),h.targetMismatches.forEach(g=>{const v=i.Wr.get(g);if(!v)return;i.Wr.set(g,v.withResumeToken(wr.EMPTY_BYTE_STRING,v.snapshotVersion)),EN(i,g);const T=new Yd(v.target,g,1,v.sequenceNumber);qC(i,T)}),i.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield r1(n,r)}var r}),JC.apply(this,arguments)}function r1(n,e,t){return XC.apply(this,arguments)}function XC(){return XC=(0,fe.Z)(function*(n,e,t){if(!Ja(e))throw e;n.Gr.add(1),yield Lm(n),n.Jr.set("Offline"),t||(t=()=>fN(n.localStore)),n.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield v0(n)}))}),XC.apply(this,arguments)}function CN(n,e){return e().catch(t=>r1(n,t,e))}function Vm(n){return eI.apply(this,arguments)}function eI(){return eI=(0,fe.Z)(function*(n){const e=Xe(n),t=th(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;IR(e);)try{const i=yield rR(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,SR(e,i)}catch(i){yield r1(e,i)}IN(e)&&SN(e)}),eI.apply(this,arguments)}function IR(n){return eh(n)&&n.Qr.length<10}function SR(n,e){n.Qr.push(e);const t=th(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function IN(n){return eh(n)&&!th(n).hr()&&n.Qr.length>0}function SN(n){th(n).start()}function AR(n){return tI.apply(this,arguments)}function tI(){return tI=(0,fe.Z)(function*(n){th(n).kr()}),tI.apply(this,arguments)}function NR(n){return nI.apply(this,arguments)}function nI(){return nI=(0,fe.Z)(function*(n){const e=th(n);for(const t of n.Qr)e.Dr(t.mutations)}),nI.apply(this,arguments)}function MR(n,e,t){return rI.apply(this,arguments)}function rI(){return rI=(0,fe.Z)(function*(n,e,t){const r=n.Qr.shift(),i=wC.from(r,e,t);yield CN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Vm(n)}),rI.apply(this,arguments)}function OR(n,e){return iI.apply(this,arguments)}function iI(){return iI=(0,fe.Z)(function*(n,e){var t;e&&th(n).Sr&&(yield(t=(0,fe.Z)(function*(r,i){if(Pw(u=i.code)&&u!==de.ABORTED){const h=r.Qr.shift();th(r).wr(),yield CN(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,i)),yield Vm(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),IN(n)&&SN(n)}),iI.apply(this,arguments)}function sI(n,e){return oI.apply(this,arguments)}function oI(){return oI=(0,fe.Z)(function*(n,e){const t=Xe(n);e?(t.Gr.delete(2),yield v0(t)):e||(t.Gr.add(2),yield Lm(t),t.Jr.set("Unknown"))}),oI.apply(this,arguments)}function Um(n){return n.Xr||(n.Xr=function(e,t,r){const i=Xe(e);return i.Or(),new yR(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:ER.bind(null,n),Ni:TR.bind(null,n),br:CR.bind(null,n)}),n.zr.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Xr.wr(),KC(n)?ZC(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),TN(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function th(n){return n.Zr||(n.Zr=function(e,t,r){const i=Xe(e);return i.Or(),new vR(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:AR.bind(null,n),Ni:OR.bind(null,n),Nr:NR.bind(null,n),Cr:MR.bind(null,n)}),n.zr.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Zr.wr(),yield Vm(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class aI{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,i,u){const h=Date.now()+r,g=new aI(e,t,h,i,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(n,e){if(fr("AsyncQueue",`${e}: ${n}`),Ja(n))return new Le(de.UNAVAILABLE,`${e}: ${n}`);throw n}class jm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||_t.comparator(t.key,r.key):(t,r)=>_t.comparator(t.key,r.key),this.keyedMap=a0(),this.sortedSet=new ri(this.comparator)}static emptySet(e){return new jm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new jm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class AN{constructor(){this.eo=new ri(_t.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):mt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class $m{constructor(e,t,r,i,u,h,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new $m(e,t,jm.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class xR{constructor(){this.so=void 0,this.listeners=[]}}class RR{constructor(){this.queries=new km(e=>ss(e),ep),this.onlineState="Unknown",this.io=new Set}}function uI(n,e){return lI.apply(this,arguments)}function lI(){return lI=(0,fe.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new xR),i)try{u.so=yield t.onListen(r)}catch(h){const g=Bm(h,`Initialization of query '${Jv(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.ro(t.onlineState),u.so&&e.oo(u.so)&&hI(t)}),lI.apply(this,arguments)}function cI(n,e){return dI.apply(this,arguments)}function dI(){return dI=(0,fe.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),dI.apply(this,arguments)}function kR(n,e){const t=Xe(n);let r=!1;for(const i of e){const h=t.queries.get(i.query);if(h){for(const g of h.listeners)g.oo(i)&&(r=!0);h.so=i}}r&&hI(t)}function PR(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function hI(n){n.io.forEach(e=>{e.next()})}class fI{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new $m(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=$m.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class FR{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class NN{constructor(e){this.k=e}Hn(e){return ta(this.k,e)}Jn(e){return e.metadata.exists?ap(this.k,e.document,!1):sr.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return ii(e)}}class LR{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=MN(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new NN(this.k);for(const i of e)if(i.metadata.queries){const u=r.Hn(i.metadata.name);for(const h of i.metadata.queries){const g=(t.get(h)||pn()).add(u);t.set(h,g)}}return t}complete(){var e=this;return(0,fe.Z)(function*(){const t=yield function sR(n,e,t,r){return FC.apply(this,arguments)}(e.localStore,new NN(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const i of e.queries)yield oR(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new Xx(Object.assign({},e.progress),t)})()}}function MN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ON{constructor(e){this.key=e}}class xN{constructor(e){this.key=e}}class RN{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=pn(),this.mutatedKeys=pn(),this.Ao=Iw(e),this.Ro=new jm(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new AN,i=t?t.Ro:this.Ro;let u=t?t.mutatedKeys:this.mutatedKeys,h=i,g=!1;const v=Zv(this.query)&&i.size===this.query.limit?i.last():null,T=Kv(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,M)=>{const F=i.get(A),$=uc(this.query,M)?M:null,X=!!F&&this.mutatedKeys.has(F.key),Te=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let be=!1;F&&$?F.data.isEqual($.data)?X!==Te&&(r.track({type:3,doc:$}),be=!0):this.Vo(F,$)||(r.track({type:2,doc:$}),be=!0,(v&&this.Ao($,v)>0||T&&this.Ao($,T)<0)&&(g=!0)):!F&&$?(r.track({type:0,doc:$}),be=!0):F&&!$&&(r.track({type:1,doc:F}),be=!0,(v||T)&&(g=!0)),be&&($?(h=h.add($),u=Te?u.add(A):u.delete(A)):(h=h.delete(A),u=u.delete(A)))}),Zv(this.query)||Kv(this.query))for(;h.size>this.query.limit;){const A=Zv(this.query)?h.last():h.first();h=h.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Ro:h,vo:r,Bn:g,mutatedKeys:u}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const u=e.vo.no();u.sort((T,A)=>function(M,F){const $=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return $(M)-$(F)}(T.type,A.type)||this.Ao(T.doc,A.doc)),this.So(r);const h=t?this.Do():[],g=0===this.Io.size&&this.current?1:0,v=g!==this.Eo;return this.Eo=g,0!==u.length||v?{snapshot:new $m(this.query,e.Ro,i,u,e.mutatedKeys,0===g,v,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new AN,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=pn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new xN(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new ON(r))}),t}ko(e){this.To=e.zn,this.Io=pn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return $m.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class VR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class UR{constructor(e){this.key=e,this.$o=!1}}class BR{constructor(e,t,r,i,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new km(g=>ss(g),ep),this.Fo=new Map,this.Lo=new Set,this.Bo=new ri(_t.comparator),this.Uo=new Map,this.qo=new VC,this.Ko={},this.jo=new Map,this.Qo=hp.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function jR(n,e){return pI.apply(this,arguments)}function pI(){return pI=(0,fe.Z)(function*(n,e){const t=LI(n);let r,i;const u=t.Mo.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.xo();else{const h=yield Pm(t.localStore,Zs(e)),g=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,i=yield gI(t,e,r,"current"===g),t.isPrimaryClient&&n1(t.remoteStore,h)}return i}),pI.apply(this,arguments)}function gI(n,e,t,r){return mI.apply(this,arguments)}function mI(){return mI=(0,fe.Z)(function*(n,e,t,r){n.Go=(A,M,F)=>{return($=(0,fe.Z)(function*(X,Te,be,Re){let Oe=Te.view.Po(be);Oe.Bn&&(Oe=yield Jw(X.localStore,Te.query,!1).then(({documents:tt})=>Te.view.Po(tt,Oe)));const Pe=Re&&Re.targetChanges.get(Te.targetId),je=Te.view.applyChanges(Oe,X.isPrimaryClient,Pe);return II(X,Te.targetId,je.Co),je.snapshot}),function(X,Te,be,Re){return $.apply(this,arguments)})(n,A,M,F);var $};const i=yield Jw(n.localStore,e,!0),u=new RN(e,i.zn),h=u.Po(i.documents),g=dc.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(h,n.isPrimaryClient,g);II(n,t,v.Co);const T=new VR(e,t,u);return n.Mo.set(e,T),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot}),mI.apply(this,arguments)}function $R(n,e){return _I.apply(this,arguments)}function _I(){return _I=(0,fe.Z)(function*(n,e){const t=Xe(n),r=t.Mo.get(e),i=t.Fo.get(r.targetId);if(i.length>1)return t.Fo.set(r.targetId,i.filter(u=>!ep(u,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Fm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),b0(t.remoteStore,r.targetId),Gm(t,r.targetId)}).catch(fp))):(Gm(t,r.targetId),yield Fm(t.localStore,r.targetId,!0))}),_I.apply(this,arguments)}function yI(){return yI=(0,fe.Z)(function*(n,e,t){const r=VI(n);try{const i=yield function(u,h){const g=Xe(u),v=pr.now(),T=h.reduce((M,F)=>M.add(F.key),pn());let A;return g.persistence.runTransaction("Locally write mutations","readwrite",M=>g.Wn.vn(M,T).next(F=>{A=F;const $=[];for(const X of h){const Te=xw(X,A.get(X.key));null!=Te&&$.push(new Vu(X.key,Te,ww(Te.value.mapValue),qr.exists(!0)))}return g.An.addMutationBatch(M,v,$,h)})).then(M=>(M.applyToLocalDocumentSet(A),{batchId:M.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,g){let v=u.Ko[u.currentUser.toKey()];v||(v=new ri(Zt)),v=v.insert(h,g),u.Ko[u.currentUser.toKey()]=v}(r,i.batchId,t),yield pc(r,i.changes),yield Vm(r.remoteStore)}catch(i){const u=Bm(i,"Failed to persist write");t.reject(u)}}),yI.apply(this,arguments)}function kN(n,e){return vI.apply(this,arguments)}function vI(){return vI=(0,fe.Z)(function*(n,e){const t=Xe(n);try{const r=yield nR(t.localStore,e);e.targetChanges.forEach((i,u)=>{const h=t.Uo.get(u);h&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?h.$o=!0:i.modifiedDocuments.size>0?Mt(h.$o):i.removedDocuments.size>0&&(Mt(h.$o),h.$o=!1))}),yield pc(t,r,e)}catch(r){yield fp(r)}}),vI.apply(this,arguments)}function PN(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Mo.forEach((u,h)=>{const g=h.view.ro(e);g.snapshot&&i.push(g.snapshot)}),function(u,h){const g=Xe(u);g.onlineState=h;let v=!1;g.queries.forEach((T,A)=>{for(const M of A.listeners)M.ro(h)&&(v=!0)}),v&&hI(g)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HR(n,e,t){return bI.apply(this,arguments)}function bI(){return bI=(0,fe.Z)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),u=i&&i.key;if(u){let h=new ri(_t.comparator);h=h.insert(u,sr.newNoDocument(u,Pt.min()));const g=pn().add(u),v=new cc(Pt.min(),new Map,new Tr(Zt),h,g);yield kN(r,v),r.Bo=r.Bo.remove(u),r.Uo.delete(e),SI(r)}else yield Fm(r.localStore,e,!1).then(()=>Gm(r,e,t)).catch(fp)}),bI.apply(this,arguments)}function WR(n,e){return DI.apply(this,arguments)}function DI(){return DI=(0,fe.Z)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=yield tR(t.localStore,e);CI(t,r,null),TI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield pc(t,i)}catch(i){yield fp(i)}}),DI.apply(this,arguments)}function zR(n,e,t){return wI.apply(this,arguments)}function wI(){return wI=(0,fe.Z)(function*(n,e,t){const r=Xe(n);try{const i=yield function(u,h){const g=Xe(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return g.An.lookupMutationBatch(v,h).next(A=>(Mt(null!==A),T=A.keys(),g.An.removeMutationBatch(v,A))).next(()=>g.An.performConsistencyCheck(v)).next(()=>g.Wn.vn(v,T))})}(r.localStore,e);CI(r,e,t),TI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield pc(r,i)}catch(i){yield fp(i)}}),wI.apply(this,arguments)}function EI(){return EI=(0,fe.Z)(function*(n,e){const t=Xe(n);eh(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=Xe(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.An.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.jo.get(r)||[];i.push(e),t.jo.set(r,i)}catch(r){const i=Bm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),EI.apply(this,arguments)}function TI(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function CI(n,e,t){const r=Xe(n);let i=r.Ko[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function Gm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||FN(n,r)})}function FN(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(b0(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),SI(n))}function II(n,e,t){for(const r of t)r instanceof ON?(n.qo.addReference(r.key,e),ZR(n,r)):r instanceof xN?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||FN(n,r.key)):mt()}function ZR(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.Lo.add(r),SI(n))}function SI(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new _t(fn.fromString(e)),r=n.Qo.next();n.Uo.set(r,new UR(t)),n.Bo=n.Bo.insert(t,r),n1(n.remoteStore,new Yd(Zs(Qf(t.path)),r,2,rs.I))}}function pc(n,e,t){return AI.apply(this,arguments)}function AI(){return AI=(0,fe.Z)(function*(n,e,t){const r=Xe(n),i=[],u=[],h=[];var g;r.Mo.isEmpty()||(r.Mo.forEach((g,v)=>{h.push(r.Go(v,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,T.fromCache?"not-current":"current"),i.push(T);const A=xC.$n(v.targetId,T);u.push(A)}}))}),yield Promise.all(h),r.Oo.br(i),yield(g=(0,fe.Z)(function*(v,T){const A=Xe(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ce.forEach(T,F=>ce.forEach(F.kn,$=>A.persistence.referenceDelegate.addReference(M,F.targetId,$)).next(()=>ce.forEach(F.xn,$=>A.persistence.referenceDelegate.removeReference(M,F.targetId,$)))))}catch(M){if(!Ja(M))throw M;Ge("LocalStore","Failed to update sequence numbers: "+M)}for(const M of T){const F=M.targetId;if(!M.fromCache){const $=A.qn.get(F),Te=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);A.qn=A.qn.insert(F,Te)}}}),function(v,T){return g.apply(this,arguments)})(r.localStore,u))}),AI.apply(this,arguments)}function KR(n,e){return NI.apply(this,arguments)}function NI(){return NI=(0,fe.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield hN(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(h=>{h.forEach(g=>{g.reject(new Le(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pc(t,r.Gn)}var i}),NI.apply(this,arguments)}function YR(n,e){const t=Xe(n),r=t.Uo.get(e);if(r&&r.$o)return pn().add(r.key);{let i=pn();const u=t.Fo.get(e);if(!u)return i;for(const h of u){const g=t.Mo.get(h);i=i.unionWith(g.view.bo)}return i}}function QR(n,e){return MI.apply(this,arguments)}function MI(){return MI=(0,fe.Z)(function*(n,e){const t=Xe(n),r=yield Jw(t.localStore,e.query,!0),i=e.view.ko(r);return t.isPrimaryClient&&II(t,e.targetId,i.Co),i}),MI.apply(this,arguments)}function JR(n){return OI.apply(this,arguments)}function OI(){return OI=(0,fe.Z)(function*(n){const e=Xe(n);return mN(e.localStore).then(t=>pc(e,t))}),OI.apply(this,arguments)}function XR(n,e,t,r){return xI.apply(this,arguments)}function xI(){return xI=(0,fe.Z)(function*(n,e,t,r){const i=Xe(n),u=yield function(h,g){const v=Xe(h),T=Xe(v.An);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>T.Zt(A,g).next(M=>M?v.Wn.vn(A,M):ce.resolve(null)))}(i.localStore,e);var g;null!==u?("pending"===t?yield Vm(i.remoteStore):"acknowledged"===t||"rejected"===t?(CI(i,e,r||null),TI(i,e),g=e,Xe(Xe(i.localStore).An).ee(g)):mt(),yield pc(i,u)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),xI.apply(this,arguments)}function RI(){return RI=(0,fe.Z)(function*(n,e){const t=Xe(n);if(LI(t),VI(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield LN(t,r.toArray());t.Wo=!0,yield sI(t.remoteStore,!0);for(const u of i)n1(t.remoteStore,u)}else if(!1===e&&!1!==t.Wo){const r=[];let i=Promise.resolve();t.Fo.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):i=i.then(()=>(Gm(t,h),Fm(t.localStore,h,!0))),b0(t.remoteStore,h)}),yield i,yield LN(t,r),function(u){const h=Xe(u);h.Uo.forEach((g,v)=>{b0(h.remoteStore,v)}),h.qo.hs(),h.Uo=new Map,h.Bo=new ri(_t.comparator)}(t),t.Wo=!1,yield sI(t.remoteStore,!1)}}),RI.apply(this,arguments)}function LN(n,e,t){return kI.apply(this,arguments)}function kI(){return kI=(0,fe.Z)(function*(n,e,t){const r=Xe(n),i=[],u=[];for(const h of e){let g;const v=r.Fo.get(h);if(v&&0!==v.length){g=yield Pm(r.localStore,Zs(v[0]));for(const T of v){const A=r.Mo.get(T),M=yield QR(r,A);M.snapshot&&u.push(M.snapshot)}}else{const T=yield gN(r.localStore,h);g=yield Pm(r.localStore,T),yield gI(r,VN(T),h,!1)}i.push(g)}return r.Oo.br(u),i}),kI.apply(this,arguments)}function VN(n){return qv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function tk(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).Tn()}function nk(n,e,t,r){return PI.apply(this,arguments)}function PI(){return PI=(0,fe.Z)(function*(n,e,t,r){const i=Xe(n);if(i.Wo)Ge("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(e))switch(t){case"current":case"not-current":{const u=yield mN(i.localStore),h=cc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield pc(i,u,h);break}case"rejected":yield Fm(i.localStore,e,!0),Gm(i,e,r);break;default:mt()}}),PI.apply(this,arguments)}function rk(n,e,t){return FI.apply(this,arguments)}function FI(){return FI=(0,fe.Z)(function*(n,e,t){const r=LI(n);if(r.Wo){for(const i of e){if(r.Fo.has(i)){Ge("SyncEngine","Adding an already active target "+i);continue}const u=yield gN(r.localStore,i),h=yield Pm(r.localStore,u);yield gI(r,VN(u),h.targetId,!1),n1(r.remoteStore,h)}for(const i of t)r.Fo.has(i)&&(yield Fm(r.localStore,i,!1).then(()=>{b0(r.remoteStore,i),Gm(r,i)}).catch(fp))}}),FI.apply(this,arguments)}function LI(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HR.bind(null,e),e.Oo.br=kR.bind(null,e.eventManager),e.Oo.zo=PR.bind(null,e.eventManager),e}function VI(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zR.bind(null,e),e}class UN{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,fe.Z)(function*(){t.k=y0(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return dN(this.persistence,new cN,e.initialUser,this.k)}Yo(e){return new hR(UC.ks,this.k)}Jo(e){return new vN}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class BN extends UN{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e),yield function iR(n){return PC.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield VI(r.tc.syncEngine),yield Vm(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return dN(this.persistence,new cN,e.initialUser,this.k)}Xo(e){return new qx(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=OC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new MC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,DN(),t1(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new vN}}class sk extends BN{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e);const i=r.tc.syncEngine;r.sharedClientState instanceof GC&&(r.sharedClientState.syncEngine={mi:XR.bind(null,i),gi:nk.bind(null,i),yi:rk.bind(null,i),Tn:tk.bind(null,i),_i:JR.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var u=(0,fe.Z)(function*(h){yield function ek(n,e){return RI.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}Jo(e){const t=DN();if(!GC.Pt(t))throw new Le(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=OC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new GC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class UI{initialize(e,t){var r=this;return(0,fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>PN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=KR.bind(null,r.syncEngine),yield sI(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new RR}createDatastore(e){const t=y0(e.databaseInfo.databaseId),r=new _R(e.databaseInfo);return new bR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=g=>PN(this.syncEngine,g,0),h=bN.Pt()?new bN:new pR,new wR(t,r,i,u,h);var t,r,i,u,h}createSyncEngine(e,t){return function(r,i,u,h,g,v,T){const A=new BR(r,i,u,h,g,v);return T&&(A.Wo=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,fe.Z)(function*(t){const r=Xe(t);Ge("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Lm(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jN(n,e=10240){let t=0;return{read:()=>(0,fe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class i1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ok{constructor(e,t){this.sc=e,this.k=t,this.metadata=new kr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,fe.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,fe.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,fe.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),i=Number(r);isNaN(i)&&e.cc(`length string (${r}) is not valid number`);const u=yield e.ac(i);return new FR(JSON.parse(u),t.length+i)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,fe.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,fe.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class ak{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,fe.Z)(function*(u,h){const g=Xe(u),v=Bu(g.k)+"/documents",T={documents:h.map($=>Kd(g.k,$))},A=yield g.ji("BatchGetDocuments",v,T),M=new Map;A.forEach($=>{const X=function gC(n,e){return"found"in e?function(t,r){Mt(!!r.found);const i=ta(t,r.found.name),u=ii(r.found.updateTime),h=new Ni({mapValue:{fields:r.found.fields}});return sr.newFoundDocument(i,u,h)}(n,e):"missing"in e?function(t,r){Mt(!!r.missing),Mt(!!r.readTime);const i=ta(t,r.missing),u=ii(r.readTime);return sr.newNoDocument(i,u)}(n,e):mt()}(g.k,$);M.set(X.key.toString(),X)});const F=[];return h.forEach($=>{const X=M.get($.toString());Mt(!!X),F.push(X)}),F}),function(u,h){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ip(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=_t.fromPath(i);e.mutations.push(new kw(u,e.precondition(u)))}),yield(r=(0,fe.Z)(function*(i,u){const h=Xe(i),g=Bu(h.k)+"/documents",v={writes:u.map(T=>Im(h.k,T))};yield h.Bi("Commit",g,v)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mt();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?qr.updateTime(t):qr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new Le(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qr.updateTime(t)}return qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uk{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new HC(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,fe.Z)(function*(){const t=new ak(e.datastore),r=e.dc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.wc(u)}))}).catch(i=>{e.wc(i)})}))}dc(e){try{const t=this.updateFunction(e);return!Ya(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Pw(t)}return!1}}class lk{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=zr.UNAUTHENTICATED,this.clientId=tc.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,fe.Z)(function*(g){Ge("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Bm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function $N(n,e){return BI.apply(this,arguments)}function BI(){return BI=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,fe.Z)(function*(u){r.isEqual(u)||(yield hN(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),BI.apply(this,arguments)}function GN(n,e){return jI.apply(this,arguments)}function jI(){return jI=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield $I(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(u=(0,fe.Z)(function*(h,g){const v=Xe(h);v.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const T=eh(v);v.Gr.add(3),yield Lm(v),T&&v.Jr.set("Unknown"),yield v.remoteSyncer.handleCredentialChange(g),v.Gr.delete(3),yield v0(v)}),function(h,g){return u.apply(this,arguments)})(e.remoteStore,i);var u}),n.onlineComponents=e}),jI.apply(this,arguments)}function $I(n){return GI.apply(this,arguments)}function GI(){return GI=(0,fe.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield $N(n,new UN)),n.offlineComponents}),GI.apply(this,arguments)}function s1(n){return HI.apply(this,arguments)}function HI(){return HI=(0,fe.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield GN(n,new UI)),n.onlineComponents}),HI.apply(this,arguments)}function HN(n){return $I(n).then(e=>e.persistence)}function WI(n){return $I(n).then(e=>e.localStore)}function WN(n){return s1(n).then(e=>e.remoteStore)}function zI(n){return s1(n).then(e=>e.syncEngine)}function Hm(n){return qI.apply(this,arguments)}function qI(){return qI=(0,fe.Z)(function*(n){const e=yield s1(n),t=e.eventManager;return t.onListen=jR.bind(null,e.syncEngine),t.onUnlisten=$R.bind(null,e.syncEngine),t}),qI.apply(this,arguments)}function zN(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(i,u,h,g,v){const T=new i1({next:M=>{u.enqueueAndForget(()=>cI(i,A));const F=M.docs.has(h);!F&&M.fromCache?v.reject(new Le(de.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&g&&"server"===g.source?v.reject(new Le(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new fI(Qf(h.path),T,{includeMetadataChanges:!0,wo:!0});return uI(i,A)}(yield Hm(n),n.asyncQueue,e,t,r)})),r.promise}function qN(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(i,u,h,g,v){const T=new i1({next:M=>{u.enqueueAndForget(()=>cI(i,A)),M.fromCache&&"server"===g.source?v.reject(new Le(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new fI(h,T,{includeMetadataChanges:!0,wo:!0});return uI(i,A)}(yield Hm(n),n.asyncQueue,e,t,r)})),r.promise}class yk{constructor(e,t,r,i,u,h,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=v}}class Wm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wm&&e.projectId===this.projectId&&e.database===this.database}}const ZN=new Map;function ZI(n,e,t){if(!t)throw new Le(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KN(n,e,t,r){if(!0===e&&!0===r)throw new Le(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function YN(n){if(!_t.isDocumentKey(n))throw new Le(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QN(n){if(_t.isDocumentKey(n))throw new Le(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function o1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=o1(n);throw new Le(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function JN(n,e){if(e<=0)throw new Le(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class XN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,KN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XN({}),this._settingsFrozen=!1,e instanceof Wm?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Le(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wm(i.options.projectId)}(e))}get app(){if(!this._app)throw new Le(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yw;switch(t.type){case"gapi":const r=t.client;return Mt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Dw(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Le(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ZN.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),ZN.delete(e),t.terminate())}(this),Promise.resolve()}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class os{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class ju extends os{constructor(e,t,r){super(e,t,Qf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new _t(e))}withConverter(e){return new ju(this.firestore,e,this._path)}}function eM(n,e,...t){if(n=(0,Ht.m9)(n),ZI("collection","path",e),n instanceof D0){const r=fn.fromString(e,...t);return QN(r),new ju(n,null,r)}{if(!(n instanceof ar||n instanceof ju))throw new Le(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return QN(r),new ju(n.firestore,null,r)}}function a1(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=tc.A()),ZI("doc","path",e),n instanceof D0){const r=fn.fromString(e,...t);return YN(r),new ar(n,null,new _t(r))}{if(!(n instanceof ar||n instanceof ju))throw new Le(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return YN(r),new ar(n.firestore,n instanceof ju?n.converter:null,new _t(r))}}function tM(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof ar||n instanceof ju)&&(e instanceof ar||e instanceof ju)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nM(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof os&&e instanceof os&&n.firestore===e.firestore&&ep(n._query,e._query)&&n.converter===e.converter}class Dk{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new HC(this,"async_queue_retry"),this.bc=()=>{const t=t1();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=t1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=t1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new kr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,fe.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!Ja(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,fr("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const i=aI.createAndSchedule(this,e,t,r,u=>this.Sc(u));return this.Tc.push(i),i}Pc(){this.Ec&&mt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,fe.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function KI(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class wk{constructor(){this._progressObserver={},this._taskCompletionResolver=new kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cr extends D0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Dk,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||rM(this),this._firestoreClient.terminate()}}function Tk(n=(0,$r.getApp)()){return(0,$r._getProvider)(n,"firestore").getImmediate()}function mi(n){return n._firestoreClient||rM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rM(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new yk(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new lk(n._authCredentials,n._appCheckCredentials,n._queue,r)}function iM(n,e,t){const r=new kr;return n.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield $N(n,t),yield GN(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function sM(n){if(n._initialized||n._terminated)throw new Le(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $u(wr.fromBase64String(e))}catch(t){throw new Le(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $u(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pp{constructor(e){this._methodName=e}}class u1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const Rk=/^__.*__$/;class kk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zd(e,this.data,t,this.fieldTransforms)}}class oM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class l1{constructor(e,t,r,i,u,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===u&&this.xc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new l1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return d1(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(aM(this.$c)&&Rk.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class Pk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||y0(e)}Qc(e,t,r,i=!1){return new l1({$c:e,methodName:t,jc:r,path:ni.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function gp(n){const e=n._freezeSettings(),t=y0(n._databaseId);return new Pk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function c1(n,e,t,r,i,u={}){const h=n.Qc(u.merge||u.mergeFields?2:0,e,t,i);XI("Data must be an object, but it was:",h,r);const g=cM(r,h);let v,T;if(u.merge)v=new rc(h.fieldMask),T=h.fieldTransforms;else if(u.mergeFields){const A=[];for(const M of u.mergeFields){const F=eS(e,M,t);if(!h.contains(F))throw new Le(de.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);hM(A,F)||A.push(F)}v=new rc(A),T=h.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,T=h.fieldTransforms;return new kk(new Ni(g),v,T)}class w0 extends pp{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof w0}}function uM(n,e,t){return new l1({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class YI extends pp{_toFieldTransform(e){return new tp(e.path,new Wd)}isEqual(e){return e instanceof YI}}class Fk extends pp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=uM(this,e,!0),r=this.Wc.map(u=>mp(u,t)),i=new Qa(r);return new tp(e.path,i)}isEqual(e){return this===e}}class Lk extends pp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=uM(this,e,!0),r=this.Wc.map(u=>mp(u,t)),i=new lc(r);return new tp(e.path,i)}isEqual(e){return this===e}}class Vk extends pp{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new zd(e.k,e0(e.k,this.Gc));return new tp(e.path,t)}isEqual(e){return this===e}}function QI(n,e,t,r){const i=n.Qc(1,e,t);XI("Data must be an object, but it was:",i,r);const u=[],h=Ni.empty();nc(r,(v,T)=>{const A=tS(e,v,t);T=(0,Ht.m9)(T);const M=i.Bc(A);if(T instanceof w0)u.push(A);else{const F=mp(T,M);null!=F&&(u.push(A),h.set(A,F))}});const g=new rc(u);return new oM(h,g,i.fieldTransforms)}function JI(n,e,t,r,i,u){const h=n.Qc(1,e,t),g=[eS(e,r,t)],v=[i];if(u.length%2!=0)throw new Le(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)g.push(eS(e,u[F])),v.push(u[F+1]);const T=[],A=Ni.empty();for(let F=g.length-1;F>=0;--F)if(!hM(T,g[F])){const $=g[F];let X=v[F];X=(0,Ht.m9)(X);const Te=h.Bc($);if(X instanceof w0)T.push($);else{const be=mp(X,Te);null!=be&&(T.push($),A.set($,be))}}const M=new rc(T);return new oM(A,M,h.fieldTransforms)}function lM(n,e,t,r=!1){return mp(t,n.Qc(r?4:3,e))}function mp(n,e){if(dM(n=(0,Ht.m9)(n)))return XI("Unsupported field value:",e,n),cM(n,e);if(n instanceof pp)return function(t,r){if(!aM(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const h of t){let g=mp(h,r.Uc(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e0(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=pr.fromDate(t);return{timestampValue:op(r.k,i)}}if(t instanceof pr){const i=new pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:op(r.k,i)}}if(t instanceof u1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $u)return{bytesValue:Bw(r.k,t._byteString)};if(t instanceof ar){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.qc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${o1(t)}`)}(n,e)}function cM(n,e){const t={};return Fv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nc(n,(r,i)=>{const u=mp(i,e.Mc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function dM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof pr||n instanceof u1||n instanceof $u||n instanceof ar||n instanceof pp)}function XI(n,e,t){if(!dM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=o1(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function eS(n,e,t){if((e=(0,Ht.m9)(e))instanceof gc)return e._internalPath;if("string"==typeof e)return tS(n,e);throw d1("Field path arguments must be of type string or ",n,!1,void 0,t)}const Uk=new RegExp("[~\\*/\\[\\]]");function tS(n,e,t){if(e.search(Uk)>=0)throw d1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gc(...e.split("."))._internalPath}catch(r){throw d1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function d1(n,e,t,r,i){const u=r&&!r.isEmpty(),h=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||h)&&(v+=" (found",u&&(v+=` in field ${r}`),h&&(v+=` in document ${i}`),v+=")"),new Le(de.INVALID_ARGUMENT,g+n+v)}function hM(n,e){return n.some(t=>t.isEqual(e))}class E0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(h1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bk extends E0{data(){return super.data()}}function h1(n,e){return"string"==typeof e?tS(n,e):e instanceof gc?e._internalPath:e._delegate._internalPath}class _p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mc extends E0{constructor(e,t,r,i,u,h){super(e,t,r,i,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(h1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class T0 extends mc{data(e={}){return super.data(e)}}class nh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _p(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new T0(this._firestore,this._userDataWriter,r.key,r,new _p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new T0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _p(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>i||3!==h.type).map(h=>{const g=new T0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _p(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,T=-1;return 0!==h.type&&(v=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),T=u.indexOf(h.doc.key)),{type:jk(h.type),doc:g,oldIndex:v,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function fM(n,e){return n instanceof mc&&e instanceof mc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof nh&&e instanceof nh&&n._firestore===e._firestore&&nM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function pM(n){if(Kv(n)&&0===n.explicitOrderBy.length)throw new Le(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C0{}function rh(n,...e){for(const t of e)n=t._apply(n);return n}class $k extends C0{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=gp(e.firestore),r=function(i,u,h,g,v,T,A){let M;if(v.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Le(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){bM(A,T);const $=[];for(const X of A)$.push(vM(g,i,X));M={arrayValue:{values:$}}}else M=vM(g,i,A)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||bM(A,T),M=lM(h,"where",A,"in"===T||"not-in"===T);const F=is.create(v,T,M);return function($,X){if(X.V()){const be=Jf($);if(null!==be&&!be.isEqual(X.field))throw new Le(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${be.toString()}' and '${X.field.toString()}'`);const Re=Yv($);null!==Re&&DM(0,X.field,Re)}const Te=function(be,Re){for(const Oe of be.filters)if(Re.indexOf(Oe.op)>=0)return Oe.op;return null}($,function(be){switch(be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==Te)throw new Le(de.INVALID_ARGUMENT,Te===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${Te.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new os(e.firestore,e.converter,function(i,u){const h=i.filters.concat([u]);return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),h,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Hk extends C0{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Le(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new ac(i,u);return function(g,v){if(null===Yv(g)){const T=Jf(g);null!==T&&DM(0,T,v.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new os(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new qs(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class gM extends C0{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new os(e.firestore,e.converter,bm(e._query,this.Xc,this.Zc))}}class mM extends C0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=yM(e,this.type,this.ta,this.ea);return new os(e.firestore,e.converter,(i=t,new qs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class _M extends C0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=yM(e,this.type,this.ta,this.ea);return new os(e.firestore,e.converter,(i=t,new qs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function yM(n,e,t,r){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof E0)return function(i,u,h,g,v){if(!g)throw new Le(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const A of Xf(i))if(A.field.isKeyField())T.push(gm(u,g.key));else{const M=g.data.field(A.field);if(Ud(M))throw new Le(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=A.field.canonicalString();throw new Le(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}T.push(M)}return new oc(T,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=gp(n.firestore);return function(u,h,g,v,T,A){const M=u.explicitOrderBy;if(T.length>M.length)throw new Le(de.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let $=0;$<T.length;$++){const X=T[$];if(M[$].field.isKeyField()){if("string"!=typeof X)throw new Le(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof X}`);if(!Qv(u)&&-1!==X.indexOf("/"))throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${X}' contains a slash.`);const Te=u.path.child(fn.fromString(X));if(!_t.isDocumentKey(Te))throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Te}' is not because it contains an odd number of segments.`);const be=new _t(Te);F.push(gm(h,be))}else{const Te=lM(g,v,X);F.push(Te)}}return new oc(F,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function vM(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Le(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qv(e)&&-1!==t.indexOf("/"))throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(fn.fromString(t));if(!_t.isDocumentKey(r))throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gm(n,new _t(r))}if(t instanceof ar)return gm(n,t._key);throw new Le(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o1(t)}.`)}function bM(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function DM(n,e,t){if(!t.isEqual(e))throw new Le(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class nS{convertValue(e,t="none"){switch(sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ic(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){const r={};return nc(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new u1(Pr(e.latitude),Pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Vv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Zf(e));default:return null}}convertTimestamp(e){const t=Ka(e);return new pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=fn.fromString(e);Mt(bC(r));const i=new Wm(r.get(1),r.get(3)),u=new _t(r.popFirst(5));return i.isEqual(t)||fr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function f1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Jk extends nS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}class wM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gp(e)}set(e,t,r){this._verifyNotCommitted();const i=ih(e,this._firestore),u=f1(i.converter,t,r),h=c1(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(h.toMutation(i._key,qr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=ih(e,this._firestore);let h;return h="string"==typeof(t=(0,Ht.m9)(t))||t instanceof gc?JI(this._dataReader,"WriteBatch.update",u._key,t,r,i):QI(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ih(e,this._firestore);return this._mutations=this._mutations.concat(new ip(t._key,qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ih(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Le(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yp extends nS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function EM(n,e,t){n=an(n,ar);const r=an(n.firestore,Cr),i=f1(n.converter,e,t);return zm(r,[c1(gp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,qr.none())])}function TM(n,e,t,...r){n=an(n,ar);const i=an(n.firestore,Cr),u=gp(i);let h;return h="string"==typeof(e=(0,Ht.m9)(e))||e instanceof gc?JI(u,"updateDoc",n._key,e,t,r):QI(u,"updateDoc",n._key,e),zm(i,[h.toMutation(n._key,qr.exists(!0))])}function CM(n,...e){var t,r,i;n=(0,Ht.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||KI(e[h])||(u=e[h],h++);const g={includeMetadataChanges:u.includeMetadataChanges};if(KI(e[h])){const M=e[h];e[h]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[h+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let v,T,A;if(n instanceof ar)T=an(n.firestore,Cr),A=Qf(n._key.path),v={next:M=>{e[h]&&e[h](rS(T,n,M))},error:e[h+1],complete:e[h+2]};else{const M=an(n,os);T=an(M.firestore,Cr),A=M._query;const F=new yp(T);v={next:$=>{e[h]&&e[h](new nh(T,F,M,$))},error:e[h+1],complete:e[h+2]},pM(n._query)}return function(M,F,$,X){const Te=new i1(X),be=new fI(F,Te,$);return M.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return uI(yield Hm(M),be)})),()=>{Te.nc(),M.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return cI(yield Hm(M),be)}))}}(mi(T),A,g,v)}function zm(n,e){return function(t,r){const i=new kr;return t.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function GR(n,e,t){return yI.apply(this,arguments)}(yield zI(t),r,i)})),i.promise}(mi(n),e)}function rS(n,e,t){const r=t.docs.get(e._key),i=new yp(n);return new mc(n,i,e._key,r,new _p(t.hasPendingWrites,t.fromCache),e.converter)}class uP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=gp(e)}get(e){const t=ih(e,this._firestore),r=new Jk(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return mt();const u=i[0];if(u.isFoundDocument())return new E0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new E0(this._firestore,r,t._key,null,t.converter);throw mt()})}set(e,t,r){const i=ih(e,this._firestore),u=f1(i.converter,t,r),h=c1(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,h),this}update(e,t,r,...i){const u=ih(e,this._firestore);let h;return h="string"==typeof(t=(0,Ht.m9)(t))||t instanceof gc?JI(this._dataReader,"Transaction.update",u._key,t,r,i):QI(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=ih(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ih(e,this._firestore),r=new yp(this._firestore);return super.get(e).then(i=>new mc(this._firestore,r,t._key,i._document,new _p(!1,!1),t.converter))}}function iS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function IM(){if("undefined"==typeof Uint8Array)throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function SM(){if(!function fm(){return"undefined"!=typeof atob}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ec=$r.SDK_VERSION,(0,$r._registerComponent)(new yf.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new Cr(i,new bw(t.getProvider("auth-internal")),new ZT(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,$r.registerVersion)(xv,"3.4.3",n),(0,$r.registerVersion)(xv,"3.4.3","esm2017")}();class I0{constructor(e){this._delegate=e}static fromBase64String(e){return SM(),new I0($u.fromBase64String(e))}static fromUint8Array(e){return IM(),new I0($u.fromUint8Array(e))}toBase64(){return SM(),this._delegate.toBase64()}toUint8Array(){return IM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sS(n){return function _P(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class yP{enableIndexedDbPersistence(e,t){return function Ck(n,e){sM(n=an(n,Cr));const t=mi(n),r=n._freezeSettings(),i=new UI;return iM(t,i,new BN(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ik(n){sM(n=an(n,Cr));const e=mi(n),t=n._freezeSettings(),r=new UI;return iM(e,r,new sk(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Sk(n){if(n._initialized&&!n._terminated)throw new Le(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(t=(0,fe.Z)(function*(r){if(!or.Pt())return Promise.resolve();const i=r+"main";yield or.delete(i)}),function(r){return t.apply(this,arguments)})(OC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class AM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ld("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function vk(n,e,t,r={}){var i;const u=(n=an(n,D0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Ld("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,g;if("string"==typeof r.mockUserToken)h=r.mockUserToken,g=zr.MOCK_USER;else{h=(0,Ht.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Le(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new zr(v)}n._authCredentials=new vw(new kv(h,g))}}(this._delegate,e,t,r)}enableNetwork(){return function Nk(n){return function ck(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield HN(n),t=yield WN(n);return e.setNetworkEnabled(!0),function(r){const i=Xe(r);return i.Gr.delete(0),v0(i)}(t)}))}(mi(n=an(n,Cr)))}(this._delegate)}disableNetwork(){return function Mk(n){return function dk(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield HN(n),t=yield WN(n);return e.setNetworkEnabled(!1),(r=(0,fe.Z)(function*(i){const u=Xe(i);u.Gr.add(0),yield Lm(u),u.Jr.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(mi(n=an(n,Cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,KN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ak(n){return function(e){const t=new kr;return e.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function qR(n,e){return EI.apply(this,arguments)}(yield zI(e),t)})),t.promise}(mi(n=an(n,Cr)))}(this._delegate)}onSnapshotsInSync(e){return function aP(n,e){return function pk(n,e){const t=new i1(e);return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return r=yield Hm(n),i=t,Xe(r).io.add(i),void i.next();var r,i})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return r=yield Hm(n),i=t,void Xe(r).io.delete(i);var r,i}))}}(mi(n=an(n,Cr)),KI(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qm(this,eM(this._delegate,e))}catch(t){throw Ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new ra(this,a1(this._delegate,e))}catch(t){throw Ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ws(this,function bk(n,e){if(n=an(n,D0),ZI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new os(n,null,(t=e,new qs(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lP(n,e){return function gk(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const r=yield(i=n,s1(i).then(u=>u.datastore));var i;new uk(n.asyncQueue,r,e,t).run()})),t.promise}(mi(n=an(n,Cr)),t=>e(new uP(n,t)))}(this._delegate,t=>e(new NM(this,t)))}batch(){return mi(this._delegate),new MM(new wM(this._delegate,e=>zm(this._delegate,e)))}loadBundle(e){return function Ok(n,e){const t=mi(n=an(n,Cr)),r=new wk;return function mk(n,e,t,r){const i=function(u,h){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,T){if(v instanceof Uint8Array)return jN(v,T);if(v instanceof ArrayBuffer)return jN(new Uint8Array(v),T);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new ok(v,h);var v}(t,y0(e));n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function ik(n,e,t){const r=Xe(n);var i;(i=(0,fe.Z)(function*(u,h,g){try{const v=yield h.getMetadata();if(yield function(F,$){const X=Xe(F),Te=ii($.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",be=>X.Ye.getBundleMetadata(be,$.id)).then(be=>!!be&&be.createTime.compareTo(Te)>=0)}(u.localStore,v))return yield h.close(),void g._completeWith((F=v,{taskState:"Success",documentsLoaded:F.totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}));g._updateProgress(MN(v));const T=new LR(v,u.localStore,h.k);let A=yield h.Ho();for(;A;){const F=yield T.yo(A);F&&g._updateProgress(F),A=yield h.Ho()}const M=yield T.complete();yield pc(u,M.In,void 0),yield function(F,$){const X=Xe(F);return X.persistence.runTransaction("Save bundle","readwrite",Te=>X.Ye.saveBundleMetadata(Te,$))}(u.localStore,v),g._completeWith(M.progress)}catch(v){Ld("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v)}var F}),function(u,h,g){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield zI(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function xk(n,e){return function _k(n,e){return n.asyncQueue.enqueue((0,fe.Z)(function*(){return function(t,r){const i=Xe(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ye.getNamedQuery(u,r))}(yield WI(n),e)}))}(mi(n=an(n,Cr)),e).then(t=>t?new os(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ws(this,t):null)}}class p1 extends nS{constructor(e){super(),this.firestore=e}convertBytes(e){return new I0(new $u(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ra.forKey(t,this.firestore,null)}}class NM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new p1(e)}get(e){const t=bp(e);return this._delegate.get(t).then(r=>new S0(this._firestore,new mc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=bp(e);return r?(iS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=bp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=bp(e);return this._delegate.delete(t),this}}class MM{constructor(e){this._delegate=e}set(e,t,r){const i=bp(e);return r?(iS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=bp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=bp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new T0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new A0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=vp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new vp(e,new p1(e),t),i.set(t,u)),u}}vp.INSTANCES=new WeakMap;class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new p1(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ra(t,new ar(t._delegate,r,new _t(e)))}static forKey(e,t,r){return new ra(t,new ar(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new qm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qm(this.firestore,eM(this._delegate,e))}catch(t){throw Ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof ar&&tM(this._delegate,e)}set(e,t){t=iS("DocumentReference.set",t);try{return t?EM(this._delegate,e,t):EM(this._delegate,e)}catch(r){throw Ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?TM(this._delegate,e):TM(this._delegate,e,t,...r)}catch(i){throw Ds(i,"updateDoc()","DocumentReference.update()")}}delete(){return function sP(n){return zm(an(n.firestore,Cr),[new ip(n._key,qr.none())])}(this._delegate)}onSnapshot(...e){const t=OM(e),r=xM(e,i=>new S0(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return CM(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function eP(n){n=an(n,ar);const e=an(n.firestore,Cr),t=mi(e),r=new yp(e);return function hk(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(i,u,h){try{const g=yield function(v,T){const A=Xe(v);return A.persistence.runTransaction("read document","readonly",M=>A.Wn.Rn(M,T))}(i,u);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new Le(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=Bm(g,`Failed to get document '${u} from cache`);h.reject(v)}}),function(i,u,h){return r.apply(this,arguments)})(yield WI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new mc(e,r,n._key,i,new _p(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function tP(n){n=an(n,ar);const e=an(n.firestore,Cr);return zN(mi(e),n._key,{source:"server"}).then(t=>rS(e,n,t))}(this._delegate):function Xk(n){n=an(n,ar);const e=an(n.firestore,Cr);return zN(mi(e),n._key).then(t=>rS(e,n,t))}(this._delegate),t.then(r=>new S0(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?vp.getInstance(this.firestore,e):null))}}function Ds(n,e,t){return n.message=n.message.replace(e,t),n}function OM(n){for(const e of n)if("object"==typeof e&&!sS(e))return e;return{}}function xM(n,e){var t,r;let i;return i=sS(n[0])?n[0]:sS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class S0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fM(this._delegate,e._delegate)}}class A0 extends S0{data(e){const t=this._delegate.data(e);return function zT(n,e){n||mt()}(void 0!==t),t}}class ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new p1(e)}where(e,t,r){try{return new ws(this.firestore,rh(this._delegate,function Gk(n,e,t){const r=e,i=h1("where",n);return new $k(i,r,t)}(e,t,r)))}catch(i){throw Ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ws(this.firestore,rh(this._delegate,function Wk(n,e="asc"){const t=e,r=h1("orderBy",n);return new Hk(r,t)}(e,t)))}catch(r){throw Ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ws(this.firestore,rh(this._delegate,function zk(n){return JN("limit",n),new gM("limit",n,"F")}(e)))}catch(t){throw Ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ws(this.firestore,rh(this._delegate,function qk(n){return JN("limitToLast",n),new gM("limitToLast",n,"L")}(e)))}catch(t){throw Ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ws(this.firestore,rh(this._delegate,function Zk(...n){return new mM("startAt",n,!0)}(...e)))}catch(t){throw Ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ws(this.firestore,rh(this._delegate,function Kk(...n){return new mM("startAfter",n,!1)}(...e)))}catch(t){throw Ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ws(this.firestore,rh(this._delegate,function Yk(...n){return new _M("endBefore",n,!0)}(...e)))}catch(t){throw Ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ws(this.firestore,rh(this._delegate,function Qk(...n){return new _M("endAt",n,!1)}(...e)))}catch(t){throw Ds(t,"endAt()","Query.endAt()")}}isEqual(e){return nM(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rP(n){n=an(n,os);const e=an(n.firestore,Cr),t=mi(e),r=new yp(e);return function fk(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(i,u,h){try{const g=yield Jw(i,u,!0),v=new RN(u,g.zn),T=v.Po(g.documents),A=v.applyChanges(T,!1);h.resolve(A.snapshot)}catch(g){const v=Bm(g,`Failed to execute query '${u} against cache`);h.reject(v)}}),function(i,u,h){return r.apply(this,arguments)})(yield WI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new nh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function iP(n){n=an(n,os);const e=an(n.firestore,Cr),t=mi(e),r=new yp(e);return qN(t,n._query,{source:"server"}).then(i=>new nh(e,r,n,i))}(this._delegate):function nP(n){n=an(n,os);const e=an(n.firestore,Cr),t=mi(e),r=new yp(e);return pM(n._query),qN(t,n._query).then(i=>new nh(e,r,n,i))}(this._delegate),t.then(r=>new oS(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=OM(e),r=xM(e,i=>new oS(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return CM(this._delegate,t,r)}withConverter(e){return new ws(this.firestore,this._delegate.withConverter(e?vp.getInstance(this.firestore,e):null))}}class bP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new A0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new A0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new A0(this._firestore,r))})}isEqual(e){return fM(this._delegate,e._delegate)}}class qm extends ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ra(this.firestore,e):null}doc(e){try{return new ra(this.firestore,void 0===e?a1(this._delegate):a1(this._delegate,e))}catch(t){throw Ds(t,"doc()","CollectionReference.doc()")}}add(e){return function oP(n,e){const t=an(n.firestore,Cr),r=a1(n),i=f1(n.converter,e);return zm(t,[c1(gp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,qr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ra(this.firestore,t))}isEqual(e){return tM(this._delegate,e._delegate)}withConverter(e){return new qm(this.firestore,this._delegate.withConverter(e?vp.getInstance(this.firestore,e):null))}}function bp(n){return an(n,ar)}class aS{constructor(...e){this._delegate=new gc(...e)}static documentId(){return new aS(ni.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Dp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dP(){return new YI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Dp(e)}static delete(){const e=function cP(){return new w0("deleteField")}();return e._methodName="FieldValue.delete",new Dp(e)}static arrayUnion(...e){const t=function hP(...n){return new Fk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Dp(t)}static arrayRemove(...e){const t=function fP(...n){return new Lk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Dp(t)}static increment(e){const t=function pP(n){return new Vk("increment",n)}(e);return t._methodName="FieldValue.increment",new Dp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const DP={Firestore:AM,GeoPoint:u1,Timestamp:pr,Blob:I0,Transaction:NM,WriteBatch:MM,DocumentReference:ra,DocumentSnapshot:S0,Query:ws,QueryDocumentSnapshot:A0,QuerySnapshot:oS,CollectionReference:qm,FieldPath:aS,FieldValue:Dp,setLogLevel:function vP(n){!function xA(n){Lu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function EP(n){(function wP(n,e){n.INTERNAL.registerComponent(new yf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},DP)))})(n,(e,t)=>new AM(e,t,new yP)),n.registerVersion("@firebase/firestore-compat","0.1.12")}(Xo.Z);var uS=k(6451),TP=k(6063);class CP extends nn.x{constructor(e=1/0,t=1/0,r=TP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!i&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const h=t.now();let g=0;for(let v=1;v<r.length&&r[v]<=h;v+=2)g=v;g&&r.splice(0,g+1)}}}var IP=k(3099);function RM(n,e,t){var r,i;let u,h=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,h=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,IP.B)({connector:()=>new CP(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function kM(n,e){return(0,bo.m)(e)?hr(()=>n,e):hr(()=>n)}var lS=k(9468),cS=k(5867);class PM{constructor(){return(0,cS.C6)()}}const FM=new Map,MP={activated:!1,tokenObservers:[]},OP={initialized:!1,enabled:!1};function Ri(n){return FM.get(n)||MP}function eu(n,e){FM.set(n,e)}function g1(){return OP}class FP{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,fe.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function LP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Es=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function VM(n){if(!Ri(n).activated)throw Es.create("use-before-activation",{appName:n.name})}function pS(n,e){return gS.apply(this,arguments)}function gS(){return gS=(0,fe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(e),headers:r};let h,g;try{h=yield fetch(n,u)}catch(M){throw Es.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw Es.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(M){throw Es.create("fetch-parse-error",{originalErrorMessage:M.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const T=1e3*Number(v[1]),A=Date.now();return{token:g.attestationToken,expireTimeMillis:A+T,issuedAtTimeMillis:A}}),gS.apply(this,arguments)}function $P(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const N0="firebase-app-check-store";let y1=null;function BM(){return y1||(y1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Es.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(N0,{keyPath:"compositeKey"})}}catch(t){e(Es.create("storage-open",{originalErrorMessage:t.message}))}}),y1)}function mS(){return mS=(0,fe.Z)(function*(n,e){const r=(yield BM()).transaction(N0,"readwrite"),u=r.objectStore(N0).put({compositeKey:n,value:e});return new Promise((h,g)=>{u.onsuccess=v=>{h()},r.onerror=v=>{var T;g(Es.create("storage-set",{originalErrorMessage:null===(T=v.target.error)||void 0===T?void 0:T.message}))}})}),mS.apply(this,arguments)}const M0=new Ha.Yd("@firebase/app-check");function HM(n,e){return(0,Ht.hl)()?function zP(n,e){return function jM(n,e){return mS.apply(this,arguments)}(function GM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{M0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function WM(){return g1().enabled}function zM(){return bS.apply(this,arguments)}function bS(){return bS=(0,fe.Z)(function*(){const n=g1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),bS.apply(this,arguments)}const JP={error:"UNKNOWN_ERROR"};function XP(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function v1(n){return DS.apply(this,arguments)}function DS(){return DS=(0,fe.Z)(function*(n,e=!1){const t=n.app;VM(t);const r=Ri(t);let u,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&b1(v)&&(i=v)}if(!e&&i&&b1(i))return{token:i.token};let g,h=!1;if(WM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pS($P(t,yield zM()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),h=!0);const v=yield r.exchangeTokenPromise;return yield HM(t,v),eu(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?M0.warn(v.message):M0.error(v),u=v}return i?(g={token:i.token},eu(t,Object.assign(Object.assign({},r),{token:i})),yield HM(t,i)):g=tF(u),h&&ZM(t,g),g}),DS.apply(this,arguments)}function ES(n,e){const t=Ri(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),eu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function qM(n){const{app:e}=n,t=Ri(e);let r=t.tokenRefresher;r||(r=function eF(n){const{app:e}=n;return new FP((0,fe.Z)(function*(){let r;if(r=Ri(e).token?yield v1(n,!0):yield v1(n),r.error)throw r.error}),()=>!0,()=>{const t=Ri(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),eu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ZM(n,e){const t=Ri(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function b1(n){return n.expireTimeMillis-Date.now()>0}function tF(n){return{token:XP(JP),error:n}}class nF{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Ri(this.app);for(const t of e)ES(this.app,t.next);return Promise.resolve()}}const nO="app-check-internal";!function mF(){(0,$r._registerComponent)(new yf.wA("app-check",n=>function rF(n,e){return new nF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nO).initialize()})),(0,$r._registerComponent)(new yf.wA(nO,n=>function iF(n){return{getToken:e=>v1(n,e),addTokenListener:e=>function wS(n,e,t,r){const{app:i}=n,u=Ri(i),h={next:t,error:r,type:e};if(eu(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&b1(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),qM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>qM(n))}(n,"INTERNAL",e),removeTokenListener:e=>ES(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$r.registerVersion)("@firebase/app-check","0.5.3")}();class w1{constructor(){return(0,$n.vb)("app-check")}}"undefined"!=typeof window&&window,k(127);const iO=new l.OlP("angularfire2.auth.use-emulator"),sO=new l.OlP("angularfire2.auth.settings"),oO=new l.OlP("angularfire2.auth.tenant-id"),aO=new l.OlP("angularfire2.auth.langugage-code"),uO=new l.OlP("angularfire2.auth.use-device-language"),lO=new l.OlP("angularfire.auth.persistence"),cO=(n,e,t,r,i,u,h,g)=>(0,Ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,u&&v.useDeviceLanguage(),h)for(const[T,A]of Object.entries(h))v.settings[T]=A;return g&&v.setPersistence(g),v},[t,r,i,u,h,g]);let dO=(()=>{class n{constructor(t,r,i,u,h,g,v,T,A,M,F,$){const X=new nn.x,Te=rt(void 0).pipe((0,ud.Q)(h.outsideAngular),hr(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,st.U)(()=>(0,Ao.on)(t,u,r)),(0,st.U)(be=>cO(be,u,g,T,A,M,v,F)),RM({bufferSize:1,refCount:!1}));if(Ku(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{Te.pipe(Ii()).subscribe();const Re=Te.pipe(hr(je=>je.getRedirectResult().then(tt=>tt,()=>null)),$n.iC,RM({bufferSize:1,refCount:!1})),Oe=Te.pipe(hr(je=>new _n.y(tt=>({unsubscribe:u.runOutsideAngular(()=>je.onAuthStateChanged(Ut=>tt.next(Ut),Ut=>tt.error(Ut),()=>tt.complete()))})))),Pe=Te.pipe(hr(je=>new _n.y(tt=>({unsubscribe:u.runOutsideAngular(()=>je.onIdTokenChanged(Ut=>tt.next(Ut),Ut=>tt.error(Ut),()=>tt.complete()))}))));this.authState=Re.pipe(kM(Oe),(0,lS.R)(h.outsideAngular),(0,ud.Q)(h.insideAngular)),this.user=Re.pipe(kM(Pe),(0,lS.R)(h.outsideAngular),(0,ud.Q)(h.insideAngular)),this.idToken=this.user.pipe(hr(je=>je?(0,xn.D)(je.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(hr(je=>je?(0,xn.D)(je.getIdTokenResult()):rt(null))),this.credential=(0,uS.T)(Re,X,this.authState.pipe(Or(je=>!je))).pipe((0,st.U)(je=>(null==je?void 0:je.user)?je:null),(0,lS.R)(h.outsideAngular),(0,ud.Q)(h.insideAngular))}return(0,Ao.pX)(this,Te,u,{spy:{apply:(be,Re,Oe)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&Oe.then(Pe=>X.next(Pe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ao.Dh),l.LFG(Ao.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($n.HU),l.LFG(iO,8),l.LFG(sO,8),l.LFG(oO,8),l.LFG(aO,8),l.LFG(uO,8),l.LFG(lO,8),l.LFG(w1,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function hO(n,e){return function wF(n,e=_f.z){return new _n.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function AS(n,e){return hO(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function E1(n,e){return AS(n,e).pipe(Ol(void 0),zs(),(0,st.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,g)=>{const v=i.find(A=>A.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),u}))}function fO(n,e,t){return E1(n,t).pipe(qc((r,i)=>function TF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function CF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return NS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return NS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return NS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),sf(),(0,st.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function NS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function pO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class gO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=E1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ol(void 0),zs(),Or(([r,i])=>i.length>0||!r),(0,st.U)(([r,i])=>i),$n.iC)}auditTrail(e){return this.stateChanges(e).pipe(qc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=pO(e);return fO(this.query,t,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return AS(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),$n.iC)}get(e){return(0,xn.D)(this.query.get(e)).pipe($n.iC)}add(e){return this.ref.add(e)}doc(e){return new mO(this.ref.doc(e),this.afs)}}class mO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=_O(r,t);return new gO(i,u,this.afs)}snapshotChanges(){return function EF(n,e){return hO(n,e).pipe(Ol(void 0),zs(),(0,st.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,xn.D)(this.ref.get(e)).pipe($n.iC)}}class IF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?E1(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Or(t=>t.length>0),$n.iC):E1(this.query,this.afs.schedulers.outsideAngular).pipe($n.iC)}auditTrail(e){return this.stateChanges(e).pipe(qc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=pO(e);return fO(this.query,t,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return AS(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),$n.iC)}get(e){return(0,xn.D)(this.query.get(e)).pipe($n.iC)}}const SF=new l.OlP("angularfire2.enableFirestorePersistence"),AF=new l.OlP("angularfire2.firestore.persistenceSettings"),NF=new l.OlP("angularfire2.firestore.settings"),MF=new l.OlP("angularfire2.firestore.use-emulator");function _O(n,e=(t=>t)){return{query:e(n),ref:n}}let yO=(()=>{class n{constructor(t,r,i,u,h,g,v,T,A,M,F,$,X,Te,be,Re,Oe){this.schedulers=v;const Pe=(0,Ao.on)(t,g,r),je=A;M&&cO(Pe,g,F,X,Te,be,$,Re),[this.firestore,this.persistenceEnabled$]=(0,Ao.cc)(`${Pe.name}.firestore`,"AngularFirestore",Pe.name,()=>{const tt=g.runOutsideAngular(()=>Pe.firestore());if(u&&tt.settings(u),je&&tt.useEmulator(...je),i&&!Ku(h)){const Ut=()=>{try{return(0,xn.D)(tt.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Gn){return"undefined"!=typeof console&&console.warn(Gn),rt(!1)}};return[tt,g.runOutsideAngular(Ut)]}return[tt,rt(!1)]},[u,je,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=_O(i,r),g=this.schedulers.ngZone.run(()=>u);return new gO(g,h,this)}collectionGroup(t,r){const i=r||(h=>h),u=this.firestore.collectionGroup(t);return new IF(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new mO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ao.Dh),l.LFG(Ao.xv,8),l.LFG(SF,8),l.LFG(NF,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($n.HU),l.LFG(AF,8),l.LFG(MF,8),l.LFG(dO,8),l.LFG(iO,8),l.LFG(sO,8),l.LFG(oO,8),l.LFG(aO,8),l.LFG(uO,8),l.LFG(lO,8),l.LFG(w1,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),T1=(()=>{class n{constructor(t){this.afs=t,this.dbpath="/datos",this.storageVar="loguedUser",this.loggedIn=!1,this.logger=new nn.x,this.firestoreRef=t.collection(this.dbpath)}getAllUsuarios(){return this.firestoreRef.valueChanges({idField:"id"})}isLoggedIn(){let t=localStorage.getItem(this.storageVar);return this.loggedIn=null!=t,this.logger.next(this.loggedIn),rt(this.loggedIn)}logIn(t,r){return this.getAllUsuarios().forEach(i=>{i.forEach(u=>{console.log(u),t===u.nombre&&r===u.password&&(localStorage.setItem(this.storageVar,JSON.stringify(u)),this.loggedIn=!0)})}),rt(this.loggedIn)}logOut(){return localStorage.removeItem(this.storageVar),this.loggedIn=!1,this.logger.next(this.loggedIn),rt(this.loggedIn)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var OF=k(1144);const xF=["addListener","removeListener"],RF=["addEventListener","removeEventListener"],kF=["on","off"];function Ts(n,e,t,r){if((0,bo.m)(t)&&(r=t,t=void 0),r)return Ts(n,e,t).pipe(dl(r));const[i,u]=function LF(n){return(0,bo.m)(n.addEventListener)&&(0,bo.m)(n.removeEventListener)}(n)?RF.map(h=>g=>n[h](e,g,t)):function PF(n){return(0,bo.m)(n.addListener)&&(0,bo.m)(n.removeListener)}(n)?xF.map(vO(n,e)):function FF(n){return(0,bo.m)(n.on)&&(0,bo.m)(n.off)}(n)?kF.map(vO(n,e)):[];if(!i&&(0,OF.z)(n))return(0,xr.z)(h=>Ts(h,e,t))((0,Xr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new _n.y(h=>{const g=(...v)=>h.next(1<v.length?v:v[0]);return i(g),()=>u(g)})}function vO(n,e){return t=>r=>n[t](e,r)}var VF=k(3532);function MS(n=0,e,t=_f.P){let r=-1;return null!=e&&((0,VF.K)(e)?t=e:r=e),new _n.y(i=>{let u=function UF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let h=0;return t.schedule(function(){i.closed||(i.next(h++),0<=r?this.schedule(void 0,r):i.complete())},u)})}const{isArray:BF}=Array;function bO(n){return 1===n.length&&BF(n[0])?n[0]:n}const wO=new _n.y(nf.Z);function C1(...n){const e=(0,Vr.jO)(n),t=bO(n);return t.length?new _n.y(r=>{let i=t.map(()=>[]),u=t.map(()=>!1);r.add(()=>{i=u=null});for(let h=0;!r.closed&&h<t.length;h++)(0,Xr.Xf)(t[h]).subscribe(new Yt.Q(r,g=>{if(i[h].push(g),i.every(v=>v.length)){const v=i.map(T=>T.shift());r.next(e?e(...v):v),i.some((T,A)=>!T.length&&u[A])&&r.complete()}},()=>{u[h]=!0,!i[h].length&&r.complete()}));return()=>{i=u=null}}):La.E}function _i(n){return(0,Mr.e)((e,t)=>{(0,Xr.Xf)(n).subscribe(new Yt.Q(t,()=>t.complete(),nf.Z)),!t.closed&&e.subscribe(t)})}const XF=["*"];function eL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",6),l.NdJ("click",function(){const u=l.CHM(t).$implicit,h=l.oxw();return h.focus(),h.select(u.id,h.NgbSlideEventSource.INDICATOR)}),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("active",t.id===r.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function tL(n,e){}function nL(n,e){if(1&n&&(l.TgZ(0,"div",7),l.TgZ(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,tL,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(r+1)(i),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function rL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",11),l.NdJ("click",function(){return l.CHM(t),l.oxw().arrowLeft()}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA(),l.qZA()}}function iL(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",14),l.NdJ("click",function(){return l.CHM(t),l.oxw().arrowRight()}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA(),l.qZA()}}const _L=["dialog"];function wp(n){return null!=n}function Km(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const IO={animation:!0,transitionTimerDelayMs:5},f2=()=>{},{transitionTimerDelayMs:p2}=IO,O0=new Map,Cs=(n,e,t,r)=>{let i=r.context||{};const u=O0.get(e);if(u)switch(r.runningTransition){case"continue":return La.E;case"stop":n.run(()=>u.transition$.complete()),i=Object.assign(u.context,i),O0.delete(e)}const h=t(e,r.animation,i)||f2;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),rt(void 0).pipe(function d2(n){return e=>new _n.y(t=>e.subscribe({next:h=>n.run(()=>t.next(h)),error:h=>n.run(()=>t.error(h)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new nn.x,v=new nn.x,T=g.pipe(function $F(...n){return e=>Ml(e,rt(...n))}(!0));O0.set(e,{transition$:g,complete:()=>{v.next(),v.complete()},context:i});const A=function h2(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=Ts(e,"transitionend").pipe(_i(T),Or(({target:$})=>$===e));(function DO(...n){return 1===(n=bO(n)).length?(0,Xr.Xf)(n[0]):new _n.y(function jF(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Xr.Xf)(n[r]).subscribe(new Yt.Q(e,i=>{if(t){for(let u=0;u<t.length;u++)u!==r&&t[u].unsubscribe();t=null}e.next(i)})))}}(n))})(MS(A+p2).pipe(_i(T)),M,v).pipe(_i(T)).subscribe(()=>{O0.delete(e),n.run(()=>{h(),g.next(),g.complete()})})}),g.asObservable()};let S1=(()=>{class n{constructor(){this.animation=IO.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),RO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var sh=(()=>(function(n){n.LEFT="left",n.RIGHT="right"}(sh||(sh={})),sh))();const FO=({classList:n})=>n.contains("carousel-item-left")||n.contains("carousel-item-right"),x0=n=>{n.remove("carousel-item-left"),n.remove("carousel-item-right")},A1=n=>{x0(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},D2=(n,e,{direction:t})=>{const{classList:r}=n;return e?(FO(n)?x0(r):(r.add("carousel-item-"+(t===sh.LEFT?"next":"prev")),Km(n),r.add("carousel-item-"+t)),()=>{A1(r),r.add("active")}):(x0(r),A1(r),void r.add("active"))},w2=(n,e,{direction:t})=>{const{classList:r}=n;return e?(FO(n)?x0(r):r.add("carousel-item-"+t),()=>{A1(r),r.remove("active")}):(x0(r),A1(r),void r.remove("active"))};let E2=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(S1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T2=0,FS=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+T2++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),LO=(()=>{class n{constructor(t,r,i,u,h){this._platformId=r,this._ngZone=i,this._cd=u,this._container=h,this.NgbSlideEventSource=Ep,this._destroy$=new nn.x,this._interval$=new Fn(0),this._mouseHover$=new Fn(!1),this._focused$=new Fn(!1),this._pauseOnHover$=new Fn(!1),this._pauseOnFocus$=new Fn(!1),this._pause$=new Fn(!1),this._wrap$=new Fn(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Ep.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Ep.ARROW_RIGHT)}ngAfterContentInit(){(function Nr(n){return n===Pi})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Al([this.slide.pipe((0,st.U)(r=>r.current),Ol(this.activeId)),this._wrap$,this.slides.changes.pipe(Ol(null))]).pipe((0,st.U)(([r,i])=>{const u=this.slides.toArray(),h=this._getSlideIdxById(r);return i?u.length>1:h<u.length-1}),sf());Al([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,st.U)(([r,i,u,h,g,v,T])=>r||i&&u||h&&g||!T?0:v),sf(),hr(r=>r>0?MS(r,r):wO),_i(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Ep.TIMER)))}),this.slides.changes.pipe(_i(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(r=>(n=>{var e;null===(e=O0.get(n))||void 0===e||e.complete()})(this._getSlideElement(r))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Ci.q)(1)).subscribe(()=>{for(const{id:r}of this.slides){const i=this._getSlideElement(r);r===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),sh.RIGHT,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),sh.LEFT,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const u=this._transitionIds;if(u&&(u[0]!==t||u[1]!==this.activeId))return;let h=this._getSlideById(t);if(h&&h.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:h.id,direction:r,paused:this._pause$.value,source:i});const g={animation:this.animation,runningTransition:"stop",context:{direction:r}},v=[],T=this._getSlideById(this.activeId);if(T){const $=Cs(this._ngZone,this._getSlideElement(T.id),w2,g);$.subscribe(()=>{T.slid.emit({isShown:!1,direction:r,source:i})}),v.push($)}const A=this.activeId;this.activeId=h.id;const M=this._getSlideById(this.activeId),F=Cs(this._ngZone,this._getSlideElement(h.id),D2,g);F.subscribe(()=>{null==M||M.slid.emit({isShown:!0,direction:r,source:i})}),v.push(F),C1(...v).pipe((0,Ci.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:A,current:h.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?sh.RIGHT:sh.LEFT}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(E2),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,FS,4),2&t){let u;l.iGM(u=l.CRH())&&(r.slides=u)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+r.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],e,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(l.TgZ(0,"ol",0),l.YNc(1,eL,1,5,"li",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,nL,4,4,"div",3),l.qZA(),l.YNc(4,rL,4,0,"a",4),l.YNc(5,iL,4,0,"a",5)),2&t&&(l.ekj("sr-only",!r.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",r.slides),l.xp6(2),l.Q6J("ngForOf",r.slides),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows))},directives:[Nn,la,Zn],encapsulation:2,changeDetection:0}),n})();var Ep=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(Ep||(Ep={})),Ep))();let VO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),UO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var yi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(yi||(yi={})),yi))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const jO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $O(n){const e=Array.from(n.querySelectorAll(jO)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class P2{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const u=this.offsetParent(e);r=this.offset(e,!1),u!==document.documentElement&&(i=this.offset(u,!1)),i.top+=u.clientTop,i.left+=u.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),i_top=window.scrollY-document.documentElement.clientTop,i_left=window.scrollX-document.documentElement.clientLeft;let u={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+i_top,bottom:r.bottom+i_top,left:r.left+i_left,right:r.right+i_left};return t&&(u.height=Math.round(u.height),u.width=Math.round(u.width),u.top=Math.round(u.top),u.bottom=Math.round(u.bottom),u.left=Math.round(u.left),u.right=Math.round(u.right)),u}positionElements(e,t,r,i){const[u="top",h="center"]=r.split("-"),g=i?this.offset(e,!1):this.position(e,!1),v=this.getAllStyles(t),T=parseFloat(v.marginTop),A=parseFloat(v.marginBottom),M=parseFloat(v.marginLeft),F=parseFloat(v.marginRight);let $=0,X=0;switch(u){case"top":$=g.top-(t.offsetHeight+T+A);break;case"bottom":$=g.top+g.height;break;case"left":X=g.left-(t.offsetWidth+M+F);break;case"right":X=g.left+g.width}switch(h){case"top":$=g.top;break;case"bottom":$=g.top+g.height-t.offsetHeight;break;case"left":X=g.left;break;case"right":X=g.left+g.width-t.offsetWidth;break;case"center":"top"===u||"bottom"===u?X=g.left+g.width/2-t.offsetWidth/2:$=g.top+g.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(X)}px, ${Math.round($)}px)`;const Te=t.getBoundingClientRect(),be=document.documentElement,Re=window.innerHeight||be.clientHeight,Oe=window.innerWidth||be.clientWidth;return Te.left>=0&&Te.top>=0&&Te.right<=Oe&&Te.bottom<=Re}},new Date(1882,10,12),new Date(2174,10,25);let KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr,Dr]]}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Ip{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Z2=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ci.q)(1)).subscribe(()=>{Cs(this._zone,this._el.nativeElement,(t,r)=>{r&&Km(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Cs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class ex{close(e){}dismiss(e){}}class K2{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new nn.x,this._dismissed=new nn.x,this._hidden=new nn.x,e.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,h)=>{this._resolve=u,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(_i(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(_i(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function l2(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():rt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),C1(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var P0=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(P0||(P0={})),P0))();let Y2=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new nn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new nn.x,this.hidden=new nn.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ci.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=C1(Cs(this._zone,t,()=>t.classList.remove("show"),r),Cs(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};C1(Cs(this._zone,this._elRef.nativeElement,(u,h)=>{h&&Km(u),u.classList.add("show")},t),Cs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ts(t,"keydown").pipe(_i(this._closed$),Or(i=>i.which===yi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(P0.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Ts(this._dialogEl.nativeElement,"mousedown").pipe(_i(this._closed$),(0,pi.b)(()=>r=!1),hr(()=>Ts(t,"mouseup").pipe(_i(this._closed$),(0,Ci.q)(1))),Or(({target:i})=>t===i)).subscribe(()=>{r=!0}),Ts(t,"click").pipe(_i(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(P0.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=$O(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Cs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ue),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(_L,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:XF,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.TgZ(2,"div",2),l.Hsn(3),l.qZA(),l.qZA()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const Q2=()=>{};let J2=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Q2}_adjustBody(t){const r=this._document.body,i=r.style.paddingRight,u=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${u+t}px`,()=>r.style["padding-right"]=i}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const i=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X2=(()=>{class n{constructor(t,r,i,u,h,g){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=u,this._rendererFactory=h,this._ngZone=g,this._activeWindowCmptHasChanged=new nn.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Ts(e,"focusin").pipe(_i(t),(0,st.U)(u=>u.target));Ts(e,"keydown").pipe(_i(t),Or(u=>u.which===yi.Tab),rf(i)).subscribe(([u,h])=>{const[g,v]=$O(e);(h===g||h===e)&&u.shiftKey&&(v.focus(),u.preventDefault()),h===v&&!u.shiftKey&&(g.focus(),u.preventDefault())}),r&&Ts(e,"click").pipe(_i(t),rf(i),(0,st.U)(u=>u[1])).subscribe(u=>u.focus())})})(0,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}open(t,r,i,u){const h=u.container instanceof HTMLElement?u.container:wp(u.container)?this._document.querySelector(u.container):this._document.body,g=this._rendererFactory.createRenderer(null,null),v=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(g.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${u.container||"body"}" was not found in the DOM.`);const A=new ex,M=this._getContentRef(t,u.injector||r,i,A,u);let F=!1!==u.backdrop?this._attachBackdrop(t,h):void 0,$=this._attachWindowComponent(t,h,M),X=new K2($,M,F,u.beforeDismiss);return this._registerModalRef(X),this._registerWindowCmpt($),X.result.then(v,v),X.result.then(T,T),A.close=Te=>{X.close(Te)},A.dismiss=Te=>{X.dismiss(Te)},this._applyWindowOptions($.instance,u),1===this._modalRefs.length&&g.addClass(this._document.body,"modal-open"),F&&F.instance&&(this._applyBackdropOptions(F.instance,u),F.changeDetectorRef.detectChanges()),$.changeDetectorRef.detectChanges(),X}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let u=t.resolveComponentFactory(Z2).create(this._injector);return this._applicationRef.attachView(u.hostView),r.appendChild(u.location.nativeElement),u}_attachWindowComponent(t,r,i){let h=t.resolveComponentFactory(Y2).create(this._injector,i.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{wp(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{wp(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,u,h){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,u):function CO(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(t,r,i,u,h):new Ip([])}_createFromTemplateRef(t,r){const u=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(u),new Ip([u.rootNodes],u)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Ip([[r]])}_createFromComponent(t,r,i,u,h){const g=t.resolveComponentFactory(i),v=l.zs3.create({providers:[{provide:ex,useValue:u}],parent:r}),T=g.create(v),A=T.location.nativeElement;return h.scrollable&&A.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new Ip([[A]],T.hostView,T)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(ue),l.LFG(J2),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eV=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(S1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tx=(()=>{class n{constructor(t,r,i,u){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=u}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(X2),l.LFG(eV))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tx]}),n})(),ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),_x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),yx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),vx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})(),Dx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function fV(){return 100}});let wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Qr]]}),n})();const pV=[xO,RO,PO,VO,UO,KO,XO,nx,ox,px,mx,_x,yx,vx,bx,Dx,wx];let gV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pV,xO,RO,PO,VO,UO,KO,XO,nx,ox,px,mx,_x,yx,vx,bx,Dx,wx]}),n})();function mV(n,e){if(1&n&&(l.TgZ(0,"div",3),l._UZ(1,"img",4),l.qZA(),l.TgZ(2,"div",5),l._UZ(3,"h3"),l._UZ(4,"p"),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("src",t,l.LSH)}}function _V(n,e){1&n&&l.YNc(0,mV,5,1,"ng-template",2)}function yV(n,e){if(1&n&&(l.TgZ(0,"ngb-carousel"),l.YNc(1,_V,1,0,void 0,1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.images)}}let vV=(()=>{class n{constructor(){this.images=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-images-carousel"]],inputs:{images:"images"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","Random first slide",3,"src"],[1,"carousel-caption"]],template:function(t,r){1&t&&l.YNc(0,yV,2,1,"ngb-carousel",0),2&t&&l.Q6J("ngIf",r.images)},directives:[Zn,LO,Nn,FS],styles:[""]}),n})();function bV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",16),l.NdJ("click",function(){const u=l.CHM(t).$implicit;return l.oxw().seleccionarCategoria(u)}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit;l.Tol(1==e.index?"active":""),l.MGl("id","v-pills-",t,""),l.MGl("href","#v-pills-",t,"",l.LSH),l.xp6(1),l.Oqu(t)}}function DV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",33),l.TgZ(1,"a",34),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2).$implicit;return l.oxw(2).modalApartar(i)}),l._uU(2,"Apartar"),l.qZA(),l.qZA()}}function wV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",33),l.TgZ(1,"a",34),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2).$implicit;return l.oxw(2).modalApartar(i)}),l._uU(2,"Apartado"),l.qZA(),l.qZA()}}function EV(n,e){if(1&n&&(l.TgZ(0,"div",23),l.TgZ(1,"div",24),l._UZ(2,"app-images-carousel",25),l.qZA(),l.TgZ(3,"div",26),l.TgZ(4,"h5",27),l.TgZ(5,"a",28),l._uU(6),l.qZA(),l.qZA(),l.TgZ(7,"ul",29),l.TgZ(8,"li"),l._UZ(9,"i",30),l.qZA(),l.TgZ(10,"li"),l._UZ(11,"i",30),l.qZA(),l.TgZ(12,"li"),l._UZ(13,"i",30),l.qZA(),l.TgZ(14,"li"),l._UZ(15,"i",30),l.qZA(),l.TgZ(16,"li"),l._UZ(17,"i",30),l.qZA(),l.qZA(),l.TgZ(18,"span",31),l._uU(19),l.ALo(20,"currency"),l.qZA(),l.YNc(21,DV,3,0,"div",32),l.YNc(22,wV,3,0,"div",32),l.qZA(),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(2),l.Q6J("images",t.Imagenes),l.xp6(4),l.Oqu(t.Descripcion),l.xp6(13),l.Oqu(l.lcZ(20,5,t.Precio)),l.xp6(2),l.Q6J("ngIf",!t.Vendido&&!r.isLoggued$),l.xp6(1),l.Q6J("ngIf",r.isLoggued$)}}function TV(n,e){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,EV,23,7,"div",22),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.Vendido&&(!r.isLoggued$||r.loguedUser&&t.Usuario==r.loguedUser.id))}}function CV(n,e){if(1&n&&(l.TgZ(0,"div",17),l.TgZ(1,"div",18),l.TgZ(2,"div",19),l.YNc(3,TV,2,1,"div",20),l.ALo(4,"async"),l.qZA(),l.qZA(),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=l.oxw();l.Gre("tab-pane fade show ",1==r?"active":"",""),l.MGl("id","v-pills-",t,""),l.xp6(3),l.Q6J("ngForOf",l.lcZ(4,5,i.articulos$))}}let IV=(()=>{class n{constructor(t,r){this.store=t,this.title="app-ventitas",this.articulos$=this.store.select(My),this.categorias$=this.store.select(pD),this.isLoggued$=!1,this.loguedUser=null,r.isLoggedIn().subscribe(i=>{this.isLoggued$=i}),this.loguedUser$=t.select(_T),this.loguedUser$.subscribe(i=>{null!=i&&(this.loguedUser=i)})}seleccionarCategoria(t){console.log(t),this.store.dispatch(Og({categoria:t}))}modalApartar(t){window.open("https://api.whatsapp.com/send?phone=52"+t.Telefono+"&text=Me interesa el art\xedculo con c\xf3digo: "+t.Codigo+" Precio:"+t.Precio,"_blank")}ngOnInit(){this.store.dispatch(Ey())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bs),l.Y36(T1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:24,vars:6,consts:[["id","blog",1,"blog-area","pt-125"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-6"],[1,"section-title","text-center","pb-25"],[1,"title","mb-15"],["id","product",1,"product-area","pt-30","pb-30"],[1,"row"],[1,"col-lg-3","col-md-4"],[1,"collection-menu","text-center","mt-30"],[1,"collection-tilte"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills"],["data-toggle","pill","role","tab",3,"class","id","href","click",4,"ngFor","ngForOf"],[1,"col-lg-9","col-md-8"],["id","v-pills-tabContent",1,"tab-content"],["role","tabpanel",3,"class","id",4,"ngFor","ngForOf"],["data-toggle","pill","role","tab",3,"id","href","click"],["role","tabpanel",3,"id"],[1,"product-items","mt-30"],[1,"row","product-items-active"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],["class","single-product-items",4,"ngIf"],[1,"single-product-items"],[1,"product-item-image"],[3,"images"],[1,"product-item-content","text-center","mt-30"],[1,"product-title"],["href","#","onclick","return false;"],[1,"rating"],[1,"lni-star-filled"],[1,"regular-price"],["class","product-action",4,"ngIf"],[1,"product-action"],["href","",1,"btn",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"section",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"h3",5),l._uU(6,"Ventitas"),l.qZA(),l.TgZ(7,"p"),l._uU(8,"Aparta las prendas que te gusten, solo env\xedanos un mensaje por whatsapp para acordar el pago y la entrega"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"section",6),l.TgZ(10,"div",1),l.TgZ(11,"div",7),l.TgZ(12,"div",8),l.TgZ(13,"div",9),l.TgZ(14,"h4",10),l._uU(15,"Nuestra colecci\xf3n"),l.qZA(),l.TgZ(16,"div",11),l.YNc(17,bV,2,6,"a",12),l.ALo(18,"async"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"div",13),l.TgZ(20,"div",14),l.YNc(21,CV,5,7,"div",15),l.ALo(22,"async"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(23,"router-outlet")),2&t&&(l.xp6(17),l.Q6J("ngForOf",l.lcZ(18,2,r.categorias$)),l.xp6(4),l.Q6J("ngForOf",l.lcZ(22,4,r.categorias$)))},directives:[Nn,Zn,vV,Yh],pipes:[lh,Zu],styles:[""]}),n})();const Ex_firebase={projectId:"ventitas-c666f",appId:"1:511407967251:web:d90e4b5885c98785edc3e6",storageBucket:"ventitas-c666f.appspot.com",locationId:"us-central",apiKey:"AIzaSyA3u3uN9gO6hIY4PoO1ejOcSGfpJUJJ-Tw",authDomain:"ventitas-c666f.firebaseapp.com",messagingSenderId:"511407967251"};k(5799);class Cx{constructor(){return(0,$n.vb)("auth")}}class WS{constructor(e){return e}}const Ix="firestore",zS=new l.OlP("angularfire2.firestore-instances");function xV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new WS(r)}}const RV={provide:class MV{constructor(){return(0,$n.vb)(Ix)}},deps:[[new l.FiY,zS]]},kV={provide:WS,useFactory:function OV(n,e){const t=(0,$n.JM)(Ix,n,e);return t&&new WS(t)},deps:[[new l.FiY,zS],class Zm{constructor(e){return e}}]};let PV=(()=>{class n{constructor(){(0,cS.KN)("angularfire",$n.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[kV,RV]}),n})();function FV(n,...e){return{ngModule:PV,providers:[{provide:zS,useFactory:xV(n),multi:!0,deps:[l.R0b,l.zs3,$n.HU,PM,[new l.FiY,Cx],[new l.FiY,w1],...e]}]}}const LV=(0,$n.u3)(Tk,!0);let qS=(()=>{class n{constructor(t){this.afs=t,this.dbpath="/articulos",this.firestoreRef=t.collection(this.dbpath)}getAllArticles(){return this.firestoreRef.valueChanges({idField:"id"}).pipe((0,st.U)(t=>t.map(r=>{for(let i=0;i<r.Imagenes.length;i++)r.Imagenes[i]=r.Imagenes[i].trim().replace("https://drive.google.com/file/d/","https://drive.google.com/uc?id=").replace("/view?usp=sharing","");return r})))}create(t){var r=this;return(0,fe.Z)(function*(){return new Promise((i,u)=>{r.firestoreRef.add(t)})})()}update(t,r){return this.firestoreRef.doc(t).update(r)}delete(t){return this.firestoreRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const VV=["myModalLogin"],UV=["myModalNuevoArticulo"];function BV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",6),l.NdJ("click",function(){return l.CHM(t),l.oxw().abrirModalLogin()}),l._uU(1," Entrar\n"),l.qZA()}}function jV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",7),l.TgZ(1,"a",8),l.NdJ("click",function(){return l.CHM(t),l.oxw().abrirModalArticulo()}),l._uU(2," Agregar art\xedculo"),l.qZA(),l.qZA(),l.TgZ(3,"li",7),l.TgZ(4,"a",8),l.NdJ("click",function(){return l.CHM(t),l.oxw().logout()}),l._uU(5," Salir "),l.qZA(),l.qZA()}}function $V(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",9),l.TgZ(1,"div",10),l.TgZ(2,"h5",11),l._uU(3,"Iniciar sesi\xf3n"),l.qZA(),l.TgZ(4,"button",12),l.NdJ("click",function(){return l.CHM(t).$implicit.close()}),l.TgZ(5,"span",13),l._uU(6,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",14),l.TgZ(8,"form",15),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw().onLoginSubmit()}),l.TgZ(9,"div",16),l.TgZ(10,"label"),l._uU(11,"Usuario"),l.qZA(),l._UZ(12,"input",17),l.qZA(),l.TgZ(13,"div",16),l.TgZ(14,"label"),l._uU(15,"Password"),l.qZA(),l._UZ(16,"input",18),l.qZA(),l.TgZ(17,"div",19),l.TgZ(18,"button",20),l.NdJ("click",function(){return l.CHM(t).$implicit.close()}),l._uU(19,"Cancelar"),l.qZA(),l.TgZ(20,"button",21),l._uU(21,"Entrar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=l.oxw();l.xp6(8),l.Q6J("formGroup",t.loginForm)}}function GV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",22),l.TgZ(1,"div",10),l.TgZ(2,"h5",11),l._uU(3,"Agregar art\xedculo"),l.qZA(),l.TgZ(4,"button",12),l.NdJ("click",function(){return l.CHM(t).$implicit.close()}),l.TgZ(5,"span",13),l._uU(6,"\xd7"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",14),l.TgZ(8,"form",15),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw().onNuevoArticuloSubmit()}),l.TgZ(9,"div",16),l.TgZ(10,"label"),l._uU(11,"Descripci\xf3n"),l.qZA(),l._UZ(12,"input",23),l.qZA(),l.TgZ(13,"div",16),l.TgZ(14,"label"),l._uU(15,"Categoria"),l.qZA(),l.TgZ(16,"select",24),l.TgZ(17,"option",25),l._uU(18,"Vestidos"),l.qZA(),l.TgZ(19,"option",26),l._uU(20,"Pantalones"),l.qZA(),l.TgZ(21,"option",27),l._uU(22,"Blusas"),l.qZA(),l.TgZ(23,"option",28),l._uU(24,"Shorts"),l.qZA(),l.TgZ(25,"option",29),l._uU(26,"Camisas"),l.qZA(),l.TgZ(27,"option",30),l._uU(28,"Calzado"),l.qZA(),l.TgZ(29,"option",31),l._uU(30,"Accesorios"),l.qZA(),l.TgZ(31,"option",32),l._uU(32,"Otros"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(33,"div",16),l.TgZ(34,"label"),l._uU(35,"Precio"),l.qZA(),l._UZ(36,"input",33),l.qZA(),l.TgZ(37,"div",16),l.TgZ(38,"label"),l._uU(39,"Imagen 1"),l.qZA(),l._UZ(40,"input",34),l.qZA(),l.TgZ(41,"div",16),l.TgZ(42,"label"),l._uU(43,"Imagen 2"),l.qZA(),l._UZ(44,"input",35),l.qZA(),l.TgZ(45,"div",19),l.TgZ(46,"button",20),l.NdJ("click",function(){return l.CHM(t).$implicit.close()}),l._uU(47,"Cancelar"),l.qZA(),l.TgZ(48,"button",21),l._uU(49,"Guardar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const t=l.oxw();l.xp6(8),l.Q6J("formGroup",t.nuevoArticuloForm)}}let HV=(()=>{class n{constructor(t,r,i,u){this.store=t,this.modalService=r,this.usuarioService=i,this.articuloService=u,this.isLoggued$=!1,this.loguedUser=null,this.loginForm=new bl({username:new _s(""),password:new _s("")}),this.nuevoArticuloForm=new bl({descripcion:new _s(""),categoria:new _s(""),precio:new _s(""),imagen1:new _s(""),imagen2:new _s("")}),this.totalArticulos$=this.store.select(kg),this.totalArticulos$.subscribe(h=>this.totalArticulos=h),this.usuarios$=t.select(vD),i.isLoggedIn().subscribe(h=>{this.isLoggued$=h}),this.loguedUser$=t.select(_T),this.loguedUser$.subscribe(h=>{null!=h&&(this.loguedUser=h)})}ngOnInit(){this.store.dispatch(Oy())}abrirModalLogin(){this.modalService.open(this.myModalLogin)}abrirModalArticulo(){this.modalService.open(this.myModalNuevoArticulo)}onLoginSubmit(){if(this.loginForm){let t=this.loginForm.get("username"),r=this.loginForm.get("password");t&&r&&this.store.dispatch(Ry({username:t.value,password:r.value}))}this.modalService.dismissAll(),this.loginForm.reset()}onNuevoArticuloSubmit(){var t;let r=this.nuevoArticuloForm.get("descripcion"),i=this.nuevoArticuloForm.get("categoria"),u=this.nuevoArticuloForm.get("precio"),h=this.nuevoArticuloForm.get("imagen1"),g=this.nuevoArticuloForm.get("imagen2");if(r&&u&&h&&i&&this.loguedUser){let v={Codigo:null!==(t=this.totalArticulos)&&void 0!==t?t:"1",Categoria:i.value,Descripcion:r.value,Precio:u.value,Imagenes:[h.value],Usuario:this.loguedUser.id,Telefono:this.loguedUser.telefono};(null==g?void 0:g.value)&&v.Imagenes.push(g.value),this.store.dispatch(eT({articulo:v})),this.modalService.dismissAll(),this.nuevoArticuloForm.reset()}}logout(){this.store.dispatch(ky())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bs),l.Y36(tx),l.Y36(T1),l.Y36(qS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(t,r){if(1&t&&(l.Gf(VV,5),l.Gf(UV,5)),2&t){let i;l.iGM(i=l.CRH())&&(r.myModalLogin=i.first),l.iGM(i=l.CRH())&&(r.myModalNuevoArticulo=i.first)}},decls:9,vars:2,consts:[["id","navbarSupportedContent",1,"collapse","navbar-collapse"],["id","nav",1,"navbar-nav","ml-auto"],["class","nav-item active",3,"click",4,"ngIf","ngIfElse"],["loggedIn",""],["myModalLogin",""],["myModalNuevoArticulo",""],[1,"nav-item","active",3,"click"],[1,"nav-item","active"],["href","#",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","name","usuario","placeholder","Usuario","formControlName","username",1,"form-control"],["type","text","name","password","placeholder","Password","formControlName","password",1,"form-control"],["role","group",1,"btn-group","btn-group-lg","d-flex"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"modal-content","modal-lg"],["type","text","name","descripcion","placeholder","Descripci\xf3n del art\xedculo","formControlName","descripcion",1,"form-control"],["name","categoria","formControlName","categoria",1,"form-control"],["value","Vestidos"],["value","Pantalones"],["value","Blusas"],["value","Shorts"],["value","Camisas"],["value","Calzado"],["value","Accesorios"],["value","Otros"],["type","number","name","precio","placeholder","Precio","formControlName","precio",1,"form-control"],["type","text","name","imagen1","placeholder","Imagen 1","formControlName","imagen1",1,"form-control"],["type","text","name","imagen2","placeholder","Imagen 2","formControlName","imagen2",1,"form-control"]],template:function(t,r){if(1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"ul",1),l.YNc(2,BV,2,0,"li",2),l.YNc(3,jV,6,0,"ng-template",null,3,l.W1O),l.qZA(),l.qZA(),l.YNc(5,$V,22,1,"ng-template",null,4,l.W1O),l.YNc(7,GV,50,1,"ng-template",null,5,l.W1O)),2&t){const i=l.MAs(4);l.xp6(2),l.Q6J("ngIf",!r.isLoggued$)("ngIfElse",i)}},directives:[Zn,$c,go,Hc,Rs,gu,Ji,Cl,c_,h_,Nh],styles:[""]}),n})();const WV={articuloState:function dD(n,e){return rT(n,e)},usuarioState:function hT(n,e){return _D(n,e)}};class yc{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){return Sx(this,e)}do(e,t,r){const{kind:i,value:u,error:h}=this;return"N"===i?null==e?void 0:e(u):"E"===i?null==t?void 0:t(h):null==r?void 0:r()}accept(e,t,r){var i;return(0,bo.m)(null===(i=e)||void 0===i?void 0:i.next)?this.observe(e):this.do(e,t,r)}toObservable(){const{kind:e,value:t,error:r}=this,i="N"===e?rt(t):"E"===e?function zV(n,e){const t=(0,bo.m)(n)?n:()=>n,r=i=>i.error(t());return new _n.y(e?i=>e.schedule(r,0,i):r)}(()=>r):"C"===e?La.E:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new yc("N",e)}static createError(e){return new yc("E",void 0,e)}static createComplete(){return yc.completeNotification}}function Sx(n,e){var t,r,i;const{kind:u,value:h,error:g}=n;if("string"!=typeof u)throw new TypeError('Invalid notification, missing "kind"');"N"===u?null===(t=e.next)||void 0===t||t.call(e,h):"E"===u?null===(r=e.error)||void 0===r||r.call(e,g):null===(i=e.complete)||void 0===i||i.call(e)}function Ax(n,e,t,r){return(0,Mr.e)((i,u)=>{let h;e&&"function"!=typeof e?({duration:t,element:h,connector:r}=e):h=e;const g=new Map,v=F=>{g.forEach(F),F(u)},T=F=>v($=>$.error(F)),A=new ZV(u,F=>{try{const $=n(F);let X=g.get($);if(!X){g.set($,X=r?r():new nn.x);const Te=function M(F,$){const X=new _n.y(Te=>{A.activeGroups++;const be=$.subscribe(Te);return()=>{be.unsubscribe(),0==--A.activeGroups&&A.teardownAttempted&&A.unsubscribe()}});return X.key=F,X}($,X);if(u.next(Te),t){const be=new Yt.Q(X,()=>{X.complete(),null==be||be.unsubscribe()},void 0,void 0,()=>g.delete($));A.add((0,Xr.Xf)(t(Te)).subscribe(be))}}X.next(h?h(F):F)}catch($){T($)}},()=>v(F=>F.complete()),T,()=>g.clear());i.subscribe(A)})}yc.completeNotification=new yc("C");class ZV extends Yt.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}function Nx(n,e){return e?t=>t.pipe(Nx((r,i)=>(0,Xr.Xf)(n(r,i)).pipe((0,st.U)((u,h)=>e(r,u,i,h))))):(0,Mr.e)((t,r)=>{let i=0,u=null,h=!1;t.subscribe(new Yt.Q(r,g=>{u||(u=new Yt.Q(r,void 0,()=>{u=null,h&&r.complete()}),(0,Xr.Xf)(n(g,i++)).subscribe(u))},()=>{h=!0,!u&&r.complete()}))})}const Mx={dispatch:!0,useEffectsErrorHandler:!0},P1="__@ngrx/effects_create__";function Qm(n,e){const t=n(),r=Object.assign(Object.assign({},Mx),e);return Object.defineProperty(t,P1,{value:r}),t}function YV(n){return Object.getOwnPropertyNames(n).filter(r=>!(!n[r]||!n[r].hasOwnProperty(P1))&&n[r][P1].hasOwnProperty("dispatch")).map(r=>Object.assign({propertyName:r},n[r][P1]))}function ZS(n){return Object.getPrototypeOf(n)}const F1="__@ngrx/effects__";function QV(n){return Su(XV,ZS)(n)}function XV(n){return function Ox(n){return n.constructor.hasOwnProperty(F1)}(n)?n.constructor[F1]:[]}function eU(n,e,t){const r=ZS(n).constructor.name,i=function xx(n){return[QV,YV].reduce((t,r)=>t.concat(r(n)),[])}(n).map(({propertyName:u,dispatch:h,useEffectsErrorHandler:g})=>{const v="function"==typeof n[u]?n[u]():n[u],T=g?t(v,e):v;return!1===h?T.pipe(function EO(){return(0,Mr.e)((n,e)=>{n.subscribe(new Yt.Q(e,nf.Z))})}()):T.pipe(function qV(){return(0,Mr.e)((n,e)=>{n.subscribe(new Yt.Q(e,t=>{e.next(yc.createNext(t))},()=>{e.next(yc.createComplete()),e.complete()},t=>{e.next(yc.createError(t)),e.complete()}))})}()).pipe((0,st.U)(M=>({effect:n[u],notification:M,propertyName:u,sourceName:r,sourceInstance:n})))});return(0,uS.T)(...i)}function Rx(n,e,t=10){return n.pipe(Va(r=>(e&&e.handleError(r),t<=1?n:Rx(n,e,t-1))))}let KS=(()=>{class n extends _n.y{constructor(t){super(),t&&(this.source=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Br))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Jm(...n){return Or(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function dU(n){return YS(n,"ngrxOnInitEffects")}function YS(n,e){return n&&e in n&&"function"==typeof n[e]}const kx=new l.OlP("@ngrx/effects Internal Root Guard"),L1=new l.OlP("@ngrx/effects User Provided Effects"),QS=new l.OlP("@ngrx/effects Internal Root Effects"),Px=new l.OlP("@ngrx/effects Root Effects"),Fx=new l.OlP("@ngrx/effects Internal Feature Effects"),Lx=new l.OlP("@ngrx/effects Feature Effects"),Vx=new l.OlP("@ngrx/effects Effects Error Handler");let JS=(()=>{class n extends nn.x{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(Ax(ZS),(0,xr.z)(t=>t.pipe(Ax(hU))),(0,xr.z)(t=>{const r=t.pipe(Nx(u=>function fU(n,e){return t=>{const r=eU(t,n,e);return function lU(n){return YS(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(u)),(0,st.U)(u=>(function nU(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function rU(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function iU({propertyName:n,sourceInstance:e,sourceName:t}){const r="function"==typeof e[n];return`"${t}.${String(n)}${r?"()":""}"`}(n)} dispatched an invalid action: ${function sU(n){try{return JSON.stringify(n)}catch(e){return n}}(t)}`))}}(u,this.errorHandler),u.notification)),Or(u=>"N"===u.kind&&null!=u.value),function KV(){return(0,Mr.e)((n,e)=>{n.subscribe(new Yt.Q(e,t=>Sx(t,e)))})}()),i=t.pipe((0,Ci.q)(1),Or(dU),(0,st.U)(u=>u.ngrxOnInitEffects()));return(0,uS.T)(r,i)}))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.qLn),l.LFG(Vx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function hU(n){return function aU(n){return YS(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let XS=(()=>{class n{constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(JS),l.LFG(bs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ux="@ngrx/effects/init";ji(Ux);let Bx=(()=>{class n{constructor(t,r,i,u,h,g,v){this.sources=t,r.start(),u.forEach(T=>t.addEffects(T)),i.dispatch({type:Ux})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(JS),l.LFG(XS),l.LFG(bs),l.LFG(Px),l.LFG(Wl,8),l.LFG(Dy,8),l.LFG(kx,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),pU=(()=>{class n{constructor(t,r,i,u){r.forEach(h=>h.forEach(g=>t.addEffects(g)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bx),l.LFG(Lx),l.LFG(Wl,8),l.LFG(Dy,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),gU=(()=>{class n{static forFeature(t=[]){return{ngModule:pU,providers:[t,{provide:Fx,multi:!0,useValue:t},{provide:L1,multi:!0,useValue:[]},{provide:Lx,multi:!0,useFactory:jx,deps:[l.zs3,Fx,L1]}]}}static forRoot(t=[]){return{ngModule:Bx,providers:[{provide:Vx,useValue:Rx},XS,JS,KS,t,{provide:QS,useValue:[t]},{provide:kx,useFactory:_U,deps:[[XS,new l.FiY,new l.tp0],[QS,new l.PiD]]},{provide:L1,multi:!0,useValue:[]},{provide:Px,useFactory:jx,deps:[l.zs3,QS,L1]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function jx(n,e,t){const r=[];for(const i of e)r.push(...i);for(const i of t)r.push(...i);return function mU(n,e){return e.map(t=>n.get(t))}(n,r)}function _U(n,e){if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let yU=(()=>{class n{constructor(t,r){this.actions$=t,this.articleService=r,this.loadAllArticles$=Qm(()=>this.actions$.pipe(Jm(Ey),hr(()=>this.articleService.getAllArticles().pipe((0,st.U)(i=>Rg({payload:{articulos:i}})))))),this.createArticle$=Qm(()=>this.actions$.pipe(Jm(eT),(0,pi.b)(i=>{console.log(i.articulo)}),hr(i=>this.articleService.create(i.articulo).then(u=>u?xg({articulo:u}):tT()))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KS),l.LFG(qS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),vU=(()=>{class n{constructor(t,r,i){this.actions$=t,this.usuarioService=r,this.store=i,this.loadAllArticles$=Qm(()=>this.actions$.pipe(Jm(Oy),hr(()=>this.usuarioService.getAllUsuarios().pipe((0,st.U)(u=>xy({payload:{usuarios:u}})))))),this.login$=Qm(()=>this.actions$.pipe(Jm(Ry),hr(u=>this.usuarioService.logIn(u.username,u.password).pipe((0,st.U)(h=>aT()))))),this.loginSuccess$=Qm(()=>this.actions$.pipe(Jm(aT),(0,Ci.q)(1),(0,pi.b)(()=>window.location.reload()))),this.logout$=Qm(()=>this.actions$.pipe(Jm(ky),hr(()=>this.usuarioService.logOut().pipe((0,pi.b)(()=>window.location.reload()),(0,st.U)(()=>uT())))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KS),l.LFG(T1),l.LFG(bs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),bU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[IV,HV]}),n.\u0275inj=l.cJS({providers:[qS,T1],imports:[[hh,ny,Ao.hO.initializeApp(Ex_firebase),rD.forRoot(WV),gU.forRoot([yU,vU]),FV(()=>LV()),gV,Qn]]}),n})();(0,l.G48)(),tl().bootstrapModule(bU).catch(n=>console.error(n))},5867:(ct,Ie,k)=>{"use strict";k.d(Ie,{Mq:()=>l.getApp,C6:()=>l.getApps,KN:()=>l.registerVersion});var l=k(9681);(0,l.registerVersion)("firebase","9.6.3","app")},127:(ct,Ie,k)=>{"use strict";k.d(Ie,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.6.3","app-compat")},5881:(ct,Ie,k)=>{"use strict";k.r(Ie);var l=k(5861),V=k(3942),R=k(5799),ne=k(2090),ue=(k(9681),k(1877),k(4859));function re(){return window}function G(){return(G=(0,l.Z)(function*(oe,q,H){var Ce;const{BuildInfo:Ke}=re();(0,R.ap)(q.sessionId,"AuthEvent did not contain a session ID");const Nt=yield ie(q.sessionId),gt={};return(0,R.aq)()?gt.ibi=Ke.packageName:(0,R.ar)()?gt.apn=Ke.packageName:(0,R.as)(oe,"operation-not-supported-in-this-environment"),Ke.displayName&&(gt.appDisplayName=Ke.displayName),gt.sessionId=Nt,(0,R.at)(oe,H,q.type,void 0,null!==(Ce=q.eventId)&&void 0!==Ce?Ce:void 0,gt)})).apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(oe){const{BuildInfo:q}=re(),H={};(0,R.aq)()?H.iosBundleId=q.packageName:(0,R.ar)()?H.androidPackageName=q.packageName:(0,R.as)(oe,"operation-not-supported-in-this-environment"),yield(0,R.au)(oe,H)})).apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(oe,q,H){const{cordova:Ce}=re();let Ke=()=>{};try{yield new Promise((Nt,gt)=>{let Vt=null;function Dn(){var jt;Nt();const lr=null===(jt=Ce.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof lr&&lr(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function tn(){Vt||(Vt=window.setTimeout(()=>{gt((0,R.av)(oe,"redirect-cancelled-by-user"))},2e3))}function zn(){"visible"===(null==document?void 0:document.visibilityState)&&tn()}q.addPassiveListener(Dn),document.addEventListener("resume",tn,!1),(0,R.ar)()&&document.addEventListener("visibilitychange",zn,!1),Ke=()=>{q.removePassiveListener(Dn),document.removeEventListener("resume",tn,!1),document.removeEventListener("visibilitychange",zn,!1),Vt&&window.clearTimeout(Vt)}})}finally{Ke()}})).apply(this,arguments)}function ie(oe){return me.apply(this,arguments)}function me(){return(me=(0,l.Z)(function*(oe){const q=Se(oe),H=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(H)).map(Ke=>Ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Se(oe){if((0,R.ap)(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(oe);const q=new ArrayBuffer(oe.length),H=new Uint8Array(q);for(let Ce=0;Ce<oe.length;Ce++)H[Ce]=oe.charCodeAt(Ce);return H}class Ze extends R.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(q)),super.onEvent(q)}initialized(){var q=this;return(0,l.Z)(function*(){yield q.initPromise})()}}function Qe(oe){return yt.apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(oe){const q=yield ye()._get(Ee(oe));return q&&(yield ye()._remove(Ee(oe))),q})).apply(this,arguments)}function _e(){const oe=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const Ce=Math.floor(Math.random()*q.length);oe.push(q.charAt(Ce))}return oe.join("")}function ye(){return(0,R.ax)(R.b)}function Ee(oe){return(0,R.ay)("authEvent",oe.config.apiKey,oe.name)}function St(oe){if(!(null==oe?void 0:oe.includes("?")))return{};const[q,...H]=oe.split("?");return(0,ne.zd)(H.join("?"))}function ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.av)("no-auth-event")}}function Zr(){var oe;return(null===(oe=null==self?void 0:self.location)||void 0===oe?void 0:oe.protocol)||null}function vn(oe=(0,ne.z$)()){return!("file:"!==Zr()&&"ionic:"!==Zr()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function ui(){try{const oe=self.localStorage,q=R.aG();if(oe)return oe.setItem(q,"1"),oe.removeItem(q),!function ai(oe=(0,ne.z$)()){return function Qt(){return(0,ne.w1)()&&11===(null==document?void 0:document.documentMode)}()||function as(oe=(0,ne.z$)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,ne.hl)()}catch(oe){return Ve()&&(0,ne.hl)()}return!1}function Ve(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function bn(){return(function oi(){return"http:"===Zr()||"https:"===Zr()}()||(0,ne.ru)()||vn())&&!function An(){return(0,ne.b$)()||(0,ne.UG)()}()&&ui()&&!Ve()}function tr(){return vn()&&"undefined"!=typeof document}function Cn(){return(Cn=(0,l.Z)(function*(){return!!tr()&&new Promise(oe=>{const q=setTimeout(()=>{oe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),oe(!0)})})})).apply(this,arguments)}const qt={LOCAL:"local",NONE:"none",SESSION:"session"},In=R.aw,Kr="persistence";function ot(oe){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(oe){yield oe._initializationPromise;const q=Hn(),H=R.ay(Kr,oe.config.apiKey,oe.name);(null==q?void 0:q.sessionStorage)&&q.sessionStorage.setItem(H,oe._getPersistence())})).apply(this,arguments)}function Hn(){return"undefined"!=typeof window?window:null}const Ft=R.aw;class nt{constructor(){this.browserResolver=R.ax(R.k),this.cordovaResolver=R.ax(class er{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aA}_initialize(q){var H=this;return(0,l.Z)(function*(){const Ce=q._key();let Ke=H.eventManagers.get(Ce);return Ke||(Ke=new Ze(q),H.eventManagers.set(Ce,Ke),H.attachCallbackListeners(q,Ke)),Ke})()}_openPopup(q){(0,R.as)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,H,Ce,Ke){var Nt=this;return(0,l.Z)(function*(){!function Y(oe){var q,H,Ce,Ke,Nt,gt,Vt,Dn,tn,zn;const jt=re();(0,R.aw)("function"==typeof(null===(q=null==jt?void 0:jt.universalLinks)||void 0===q?void 0:q.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aw)(void 0!==(null===(H=null==jt?void 0:jt.BuildInfo)||void 0===H?void 0:H.packageName),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aw)("function"==typeof(null===(Nt=null===(Ke=null===(Ce=null==jt?void 0:jt.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===Nt?void 0:Nt.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(Dn=null===(Vt=null===(gt=null==jt?void 0:jt.cordova)||void 0===gt?void 0:gt.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===Dn?void 0:Dn.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aw)("function"==typeof(null===(zn=null===(tn=null==jt?void 0:jt.cordova)||void 0===tn?void 0:tn.InAppBrowser)||void 0===zn?void 0:zn.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const gt=yield Nt._initialize(q);yield gt.initialized(),gt.resetRedirect(),(0,R.aB)(),yield Nt._originValidation(q);const Vt=function Ae(oe,q,H=null){return{type:q,eventId:H,urlResponse:null,sessionId:_e(),postBody:null,tenantId:oe.tenantId,error:(0,R.av)(oe,"no-auth-event")}}(q,Ce,Ke);yield function lt(oe,q){return ye()._set(Ee(oe),q)}(q,Vt);const Dn=yield function j(oe,q,H){return G.apply(this,arguments)}(q,Vt,H),tn=yield function Me(oe){const{cordova:q}=re();return new Promise(H=>{q.plugins.browsertab.isAvailable(Ce=>{let Ke=null;Ce?q.plugins.browsertab.openUrl(oe):Ke=q.InAppBrowser.open(oe,(0,R.ao)()?"_blank":"_system","location=yes"),H(Ke)})})}(Dn);return function Fe(oe,q,H){return $e.apply(this,arguments)}(q,gt,tn)})()}_isIframeWebStorageSupported(q,H){throw new Error("Method not implemented.")}_originValidation(q){const H=q._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ee(oe){return He.apply(this,arguments)}(q)),this.originValidationPromises[H]}attachCallbackListeners(q,H){const{universalLinks:Ce,handleOpenURL:Ke,BuildInfo:Nt}=re(),gt=setTimeout((0,l.Z)(function*(){yield Qe(q),H.onEvent(ft())}),500),Vt=function(){var zn=(0,l.Z)(function*(jt){clearTimeout(gt);const lr=yield Qe(q);let Is=null;lr&&(null==jt?void 0:jt.url)&&(Is=function J(oe,q){var H,Ce;const Ke=function he(oe){const q=St(oe),H=q.link?decodeURIComponent(q.link):void 0,Ce=St(H).link,Ke=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return St(Ke).link||Ke||Ce||H||oe}(q);if(Ke.includes("/__/auth/callback")){const Nt=St(Ke),gt=Nt.firebaseError?function Be(oe){try{return JSON.parse(oe)}catch(q){return null}}(decodeURIComponent(Nt.firebaseError)):null,Vt=null===(Ce=null===(H=null==gt?void 0:gt.code)||void 0===H?void 0:H.split("auth/"))||void 0===Ce?void 0:Ce[1],Dn=Vt?(0,R.av)(Vt):null;return Dn?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:Dn,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:Ke,postBody:null}}return null}(lr,jt.url)),H.onEvent(Is||ft())});return function(lr){return zn.apply(this,arguments)}}();void 0!==Ce&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,Vt);const Dn=Ke,tn=`${Nt.packageName.toLowerCase()}://`;re().handleOpenURL=function(){var zn=(0,l.Z)(function*(jt){if(jt.toLowerCase().startsWith(tn)&&Vt({url:jt}),"function"==typeof Dn)try{Dn(jt)}catch(lr){console.error(lr)}});return function(jt){return zn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aA}_initialize(q){var H=this;return(0,l.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,H,Ce,Ke){var Nt=this;return(0,l.Z)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openPopup(q,H,Ce,Ke)})()}_openRedirect(q,H,Ce,Ke){var Nt=this;return(0,l.Z)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openRedirect(q,H,Ce,Ke)})()}_isIframeWebStorageSupported(q,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,H)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return tr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,l.Z)(function*(){if(q.underlyingResolver)return;const H=yield function vt(){return Cn.apply(this,arguments)}();q.underlyingResolver=H?q.cordovaResolver:q.browserResolver})()}}function pt(oe){return oe.unwrap()}function ln(oe){return qi(oe)}function qi(oe){const{_tokenResponse:q}=oe instanceof ne.ZR?oe.customData:oe;if(!q)return null;if(!(oe instanceof ne.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return R.P.credentialFromResult(oe);const H=q.providerId;if(!H||H===R.o.PASSWORD)return null;let Ce;switch(H){case R.o.GOOGLE:Ce=R.N;break;case R.o.FACEBOOK:Ce=R.M;break;case R.o.GITHUB:Ce=R.Q;break;case R.o.TWITTER:Ce=R.V;break;default:const{oauthIdToken:Ke,oauthAccessToken:Nt,oauthTokenSecret:gt,pendingToken:Vt,nonce:Dn}=q;return Nt||gt||Ke||Vt?Vt?H.startsWith("saml.")?R.aJ._create(H,Vt):R.I._fromParams({providerId:H,signInMethod:H,pendingToken:Vt,idToken:Ke,accessToken:Nt}):new R.T(H).credential({idToken:Ke,accessToken:Nt,rawNonce:Dn}):null}return oe instanceof ne.ZR?Ce.credentialFromError(oe):Ce.credentialFromResult(oe)}function sn(oe,q){return q.catch(H=>{throw H instanceof ne.ZR&&function bt(oe,q){var H;const Ce=null===(H=q.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===q.code)q.resolver=new W(oe,R.am(oe,q));else if(Ce){const Ke=qi(q),Nt=q;Ke&&(Nt.credential=Ke,Nt.tenantId=Ce.tenantId||void 0,Nt.email=Ce.email||void 0,Nt.phoneNumber=Ce.phoneNumber||void 0)}}(oe,H),H}).then(H=>{const Ke=H.user;return{operationType:H.operationType,credential:ln(H),additionalUserInfo:R.ak(H),user:z.getOrCreate(Ke)}})}function Yr(oe,q){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(oe,q){const H=yield q;return{verificationId:H.verificationId,confirm:Ce=>sn(oe,H.confirm(Ce))}})).apply(this,arguments)}class W{constructor(q,H){this.resolver=H,this.auth=function ia(oe){return oe.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return sn(pt(this.auth),this.resolver.resolveSignIn(q))}}class z{constructor(q){this._delegate=q,this.multiFactor=R.an(q)}static getOrCreate(q){return z.USER_MAP.has(q)||z.USER_MAP.set(q,new z(q)),z.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var H=this;return(0,l.Z)(function*(){return sn(H.auth,R.Y(H._delegate,q))})()}linkWithPhoneNumber(q,H){var Ce=this;return(0,l.Z)(function*(){return Yr(Ce.auth,R.l(Ce._delegate,q,H))})()}linkWithPopup(q){var H=this;return(0,l.Z)(function*(){return sn(H.auth,R.d(H._delegate,q,nt))})()}linkWithRedirect(q){var H=this;return(0,l.Z)(function*(){return yield ot(R.aC(H.auth)),R.g(H._delegate,q,nt)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var H=this;return(0,l.Z)(function*(){return sn(H.auth,R.Z(H._delegate,q))})()}reauthenticateWithPhoneNumber(q,H){return Yr(this.auth,R.r(this._delegate,q,H))}reauthenticateWithPopup(q){return sn(this.auth,R.e(this._delegate,q,nt))}reauthenticateWithRedirect(q){var H=this;return(0,l.Z)(function*(){return yield ot(R.aC(H.auth)),R.h(H._delegate,q,nt)})()}sendEmailVerification(q){return R.aa(this._delegate,q)}unlink(q){var H=this;return(0,l.Z)(function*(){return yield R.aj(H._delegate,q),H})()}updateEmail(q){return R.af(this._delegate,q)}updatePassword(q){return R.ag(this._delegate,q)}updatePhoneNumber(q){return R.u(this._delegate,q)}updateProfile(q){return R.ae(this._delegate,q)}verifyBeforeUpdateEmail(q,H){return R.ab(this._delegate,q,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}z.USER_MAP=new WeakMap;const we=R.aw;let te=(()=>{class oe{constructor(H,Ce){if(this.app=H,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ke}=H.options;we(Ke,"invalid-api-key",{appName:H.name}),we(Ke,"invalid-api-key",{appName:H.name});const Nt="undefined"!=typeof window?nt:void 0;this._delegate=Ce.initialize({options:{persistence:Dt(Ke,H.name),popupRedirectResolver:Nt}}),this._delegate._updateErrorMap(R.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,Ce){R.E(this._delegate,H,Ce)}applyActionCode(H){return R.a1(this._delegate,H)}checkActionCode(H){return R.a2(this._delegate,H)}confirmPasswordReset(H,Ce){return R.a0(this._delegate,H,Ce)}createUserWithEmailAndPassword(H,Ce){var Ke=this;return(0,l.Z)(function*(){return sn(Ke._delegate,R.a4(Ke._delegate,H,Ce))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return R.a9(this._delegate,H)}isSignInWithEmailLink(H){return R.a7(this._delegate,H)}getRedirectResult(){var H=this;return(0,l.Z)(function*(){we(bn(),H._delegate,"operation-not-supported-in-this-environment");const Ce=yield R.j(H._delegate,nt);return Ce?sn(H._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function mr(oe,q){(0,R.aC)(oe)._logFramework(q)}(this._delegate,H)}onAuthStateChanged(H,Ce,Ke){const{next:Nt,error:gt,complete:Vt}=Je(H,Ce,Ke);return this._delegate.onAuthStateChanged(Nt,gt,Vt)}onIdTokenChanged(H,Ce,Ke){const{next:Nt,error:gt,complete:Vt}=Je(H,Ce,Ke);return this._delegate.onIdTokenChanged(Nt,gt,Vt)}sendSignInLinkToEmail(H,Ce){return R.a6(this._delegate,H,Ce)}sendPasswordResetEmail(H,Ce){return R.$(this._delegate,H,Ce||void 0)}setPersistence(H){var Ce=this;return(0,l.Z)(function*(){let Ke;switch(function Et(oe,q){In(Object.values(qt).includes(q),oe,"invalid-persistence-type"),(0,ne.b$)()?In(q!==qt.SESSION,oe,"unsupported-persistence-type"):(0,ne.UG)()?In(q===qt.NONE,oe,"unsupported-persistence-type"):Ve()?In(q===qt.NONE||q===qt.LOCAL&&(0,ne.hl)(),oe,"unsupported-persistence-type"):In(q===qt.NONE||ui(),oe,"unsupported-persistence-type")}(Ce._delegate,H),H){case qt.SESSION:Ke=R.a;break;case qt.LOCAL:Ke=(yield R.ax(R.i)._isAvailable())?R.i:R.b;break;case qt.NONE:Ke=R.K;break;default:return R.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(Ke)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return sn(this._delegate,R.W(this._delegate))}signInWithCredential(H){return sn(this._delegate,R.X(this._delegate,H))}signInWithCustomToken(H){return sn(this._delegate,R._(this._delegate,H))}signInWithEmailAndPassword(H,Ce){return sn(this._delegate,R.a5(this._delegate,H,Ce))}signInWithEmailLink(H,Ce){return sn(this._delegate,R.a8(this._delegate,H,Ce))}signInWithPhoneNumber(H,Ce){return Yr(this._delegate,R.s(this._delegate,H,Ce))}signInWithPopup(H){var Ce=this;return(0,l.Z)(function*(){return we(bn(),Ce._delegate,"operation-not-supported-in-this-environment"),sn(Ce._delegate,R.c(Ce._delegate,H,nt))})()}signInWithRedirect(H){var Ce=this;return(0,l.Z)(function*(){return we(bn(),Ce._delegate,"operation-not-supported-in-this-environment"),yield ot(Ce._delegate),R.f(Ce._delegate,H,nt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return R.a3(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=qt,oe})();function Je(oe,q,H){let Ce=oe;"function"!=typeof oe&&({next:Ce,error:q,complete:H}=oe);const Ke=Ce;return{next:gt=>Ke(gt&&z.getOrCreate(gt)),error:q,complete:H}}function Dt(oe,q){const H=function gn(oe,q){const H=Hn();if(!(null==H?void 0:H.sessionStorage))return[];const Ce=R.ay(Kr,oe,q);switch(H.sessionStorage.getItem(Ce)){case qt.NONE:return[R.K];case qt.LOCAL:return[R.i,R.a];case qt.SESSION:return[R.a];default:return[]}}(oe,q);if("undefined"!=typeof self&&!H.includes(R.i)&&H.push(R.i),"undefined"!=typeof window)for(const Ce of[R.b,R.a])H.includes(Ce)||H.push(Ce);return H.includes(R.K)||H.push(R.K),H}class cn{constructor(){this.providerId="phone",this._delegate=new R.P(pt(V.Z.auth()))}static credential(q,H){return R.P.credential(q,H)}verifyPhoneNumber(q,H){return this._delegate.verifyPhoneNumber(q,H)}unwrap(){return this._delegate}}cn.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,cn.PROVIDER_ID=R.P.PROVIDER_ID;const Rn=R.aw;class Wn{constructor(q,H,Ce=V.Z.app()){var Ke;Rn(null===(Ke=Ce.options)||void 0===Ke?void 0:Ke.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new R.R(q,H,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lt(oe){oe.INTERNAL.registerComponent(new ue.wA("auth-compat",q=>{const H=q.getProvider("app-compat").getImmediate(),Ce=q.getProvider("auth");return new te(H,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.L,FacebookAuthProvider:R.M,GithubAuthProvider:R.Q,GoogleAuthProvider:R.N,OAuthProvider:R.T,SAMLAuthProvider:R.U,PhoneAuthProvider:cn,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:Wn,TwitterAuthProvider:R.V,Auth:te,AuthCredential:R.G,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.2.5")}(V.Z)},2940:function(ct,Ie){!function(k){"use strict";function l(Y){return Array.prototype.slice.call(Y)}function V(Y){return new Promise(function(ie,me){Y.onsuccess=function(){ie(Y.result)},Y.onerror=function(){me(Y.error)}})}function R(Y,ie,me){var Se,De=new Promise(function(Ze,Ae){V(Se=Y[ie].apply(Y,me)).then(Ze,Ae)});return De.request=Se,De}function ne(Y,ie,me){var Se=R(Y,ie,me);return Se.then(function(De){if(De)return new j(De,Se.request)})}function ae(Y,ie,me){me.forEach(function(Se){Object.defineProperty(Y.prototype,Se,{get:function(){return this[ie][Se]},set:function(De){this[ie][Se]=De}})})}function ge(Y,ie,me,Se){Se.forEach(function(De){De in me.prototype&&(Y.prototype[De]=function(){return R(this[ie],De,arguments)})})}function ue(Y,ie,me,Se){Se.forEach(function(De){De in me.prototype&&(Y.prototype[De]=function(){return this[ie][De].apply(this[ie],arguments)})})}function re(Y,ie,me,Se){Se.forEach(function(De){De in me.prototype&&(Y.prototype[De]=function(){return ne(this[ie],De,arguments)})})}function se(Y){this._index=Y}function j(Y,ie){this._cursor=Y,this._request=ie}function G(Y){this._store=Y}function ee(Y){this._tx=Y,this.complete=new Promise(function(ie,me){Y.oncomplete=function(){ie()},Y.onerror=function(){me(Y.error)},Y.onabort=function(){me(Y.error)}})}function He(Y,ie,me){this._db=Y,this.oldVersion=ie,this.transaction=new ee(me)}function Me(Y){this._db=Y}ae(se,"_index",["name","keyPath","multiEntry","unique"]),ge(se,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),re(se,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(j,"_cursor",["direction","key","primaryKey","value"]),ge(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Y){Y in IDBCursor.prototype&&(j.prototype[Y]=function(){var ie=this,me=arguments;return Promise.resolve().then(function(){return ie._cursor[Y].apply(ie._cursor,me),V(ie._request).then(function(Se){if(Se)return new j(Se,ie._request)})})})}),G.prototype.createIndex=function(){return new se(this._store.createIndex.apply(this._store,arguments))},G.prototype.index=function(){return new se(this._store.index.apply(this._store,arguments))},ae(G,"_store",["name","keyPath","indexNames","autoIncrement"]),ge(G,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),re(G,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ue(G,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new G(this._tx.objectStore.apply(this._tx,arguments))},ae(ee,"_tx",["objectStoreNames","mode"]),ue(ee,"_tx",IDBTransaction,["abort"]),He.prototype.createObjectStore=function(){return new G(this._db.createObjectStore.apply(this._db,arguments))},ae(He,"_db",["name","version","objectStoreNames"]),ue(He,"_db",IDBDatabase,["deleteObjectStore","close"]),Me.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},ae(Me,"_db",["name","version","objectStoreNames"]),ue(Me,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Y){[G,se].forEach(function(ie){Y in ie.prototype&&(ie.prototype[Y.replace("open","iterate")]=function(){var me=l(arguments),Se=me[me.length-1],De=this._store||this._index,Ze=De[Y].apply(De,me.slice(0,-1));Ze.onsuccess=function(){Se(Ze.result)}})})}),[se,G].forEach(function(Y){Y.prototype.getAll||(Y.prototype.getAll=function(ie,me){var Se=this,De=[];return new Promise(function(Ze){Se.iterateCursor(ie,function(Ae){Ae?(De.push(Ae.value),void 0===me||De.length!=me?Ae.continue():Ze(De)):Ze(De)})})})}),k.openDb=function Fe(Y,ie,me){var Se=R(indexedDB,"open",[Y,ie]),De=Se.request;return De&&(De.onupgradeneeded=function(Ze){me&&me(new He(De.result,Ze.oldVersion,De.transaction))}),Se.then(function(Ze){return new Me(Ze)})},k.deleteDb=function $e(Y){return R(indexedDB,"deleteDatabase",[Y])},Object.defineProperty(k,"__esModule",{value:!0})}(Ie)},8306:(ct,Ie,k)=>{"use strict";k.d(Ie,{y:()=>j});var l=k(930),V=k(727),R=k(8822),ne=k(4671);var ue=k(2416),re=k(576),se=k(2806);let j=(()=>{class Me{constructor($e){$e&&(this._subscribe=$e)}lift($e){const Y=new Me;return Y.source=this,Y.operator=$e,Y}subscribe($e,Y,ie){const me=function He(Me){return Me&&Me instanceof l.Lv||function ee(Me){return Me&&(0,re.m)(Me.next)&&(0,re.m)(Me.error)&&(0,re.m)(Me.complete)}(Me)&&(0,V.Nn)(Me)}($e)?$e:new l.Hp($e,Y,ie);return(0,se.x)(()=>{const{operator:Se,source:De}=this;me.add(Se?Se.call(me,De):De?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe($e){try{return this._subscribe($e)}catch(Y){$e.error(Y)}}forEach($e,Y){return new(Y=G(Y))((ie,me)=>{let Se;Se=this.subscribe(De=>{try{$e(De)}catch(Ze){me(Ze),null==Se||Se.unsubscribe()}},me,ie)})}_subscribe($e){var Y;return null===(Y=this.source)||void 0===Y?void 0:Y.subscribe($e)}[R.L](){return this}pipe(...$e){return function ge(Me){return 0===Me.length?ne.y:1===Me.length?Me[0]:function($e){return Me.reduce((Y,ie)=>ie(Y),$e)}}($e)(this)}toPromise($e){return new($e=G($e))((Y,ie)=>{let me;this.subscribe(Se=>me=Se,Se=>ie(Se),()=>Y(me))})}}return Me.create=Fe=>new Me(Fe),Me})();function G(Me){var Fe;return null!==(Fe=null!=Me?Me:ue.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(ct,Ie,k)=>{"use strict";k.d(Ie,{x:()=>ue});var l=k(8306),V=k(727);const ne=(0,k(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),ge=k(2806);let ue=(()=>{class se extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ee=new re(this,this);return ee.operator=G,ee}_throwIfClosed(){if(this.closed)throw new ne}next(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ee=this.observers.slice();for(const He of ee)He.next(G)}})}error(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ee}=this;for(;ee.length;)ee.shift().error(G)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ee,isStopped:He,observers:Me}=this;return ee||He?V.Lc:(Me.push(G),new V.w0(()=>(0,ae.P)(Me,G)))}_checkFinalizedStatuses(G){const{hasError:ee,thrownError:He,isStopped:Me}=this;ee?G.error(He):Me&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return se.create=(j,G)=>new re(j,G),se})();class re extends ue{constructor(j,G){super(),this.destination=j,this.source=G}next(j){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ee||ee.call(G,j)}error(j){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ee||ee.call(G,j)}complete(){var j,G;null===(G=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===G||G.call(j)}_subscribe(j){var G,ee;return null!==(ee=null===(G=this.source)||void 0===G?void 0:G.subscribe(j))&&void 0!==ee?ee:V.Lc}}},930:(ct,Ie,k)=>{"use strict";k.d(Ie,{Hp:()=>He,Lv:()=>ee});var l=k(576),V=k(727),R=k(2416),ne=k(7849),ae=k(5032);const ge=se("C",void 0,void 0);function se(ie,me,Se){return{kind:ie,value:me,error:Se}}var j=k(3410),G=k(2806);class ee extends V.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,V.Nn)(me)&&me.add(this)):this.destination=Y}static create(me,Se,De){return new He(me,Se,De)}next(me){this.isStopped?$e(function re(ie){return se("N",ie,void 0)}(me),this):this._next(me)}error(me){this.isStopped?$e(function ue(ie){return se("E",void 0,ie)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?$e(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class He extends ee{constructor(me,Se,De){let Ze;if(super(),(0,l.m)(me))Ze=me;else if(me){let Ae;({next:Ze,error:Se,complete:De}=me),this&&R.v.useDeprecatedNextContext?(Ae=Object.create(me),Ae.unsubscribe=()=>this.unsubscribe()):Ae=me,Ze=null==Ze?void 0:Ze.bind(Ae),Se=null==Se?void 0:Se.bind(Ae),De=null==De?void 0:De.bind(Ae)}this.destination={next:Ze?Me(Ze):ae.Z,error:Me(null!=Se?Se:Fe),complete:De?Me(De):ae.Z}}}function Me(ie,me){return(...Se)=>{try{ie(...Se)}catch(De){R.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(De):(0,ne.h)(De)}}}function Fe(ie){throw ie}function $e(ie,me){const{onStoppedNotification:Se}=R.v;Se&&j.z.setTimeout(()=>Se(ie,me))}const Y={closed:!0,next:ae.Z,error:Fe,complete:ae.Z}},727:(ct,Ie,k)=>{"use strict";k.d(Ie,{Lc:()=>ge,w0:()=>ae,Nn:()=>ue});var l=k(576);const R=(0,k(3888).d)(se=>function(G){se(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ee,He)=>`${He+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ne=k(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Me of G)Me.remove(this);else G.remove(this);const{initialTeardown:ee}=this;if((0,l.m)(ee))try{ee()}catch(Me){j=Me instanceof R?Me.errors:[Me]}const{_teardowns:He}=this;if(He){this._teardowns=null;for(const Me of He)try{re(Me)}catch(Fe){j=null!=j?j:[],Fe instanceof R?j=[...j,...Fe.errors]:j.push(Fe)}}if(j)throw new R(j)}}add(j){var G;if(j&&j!==this)if(this.closed)re(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(G=this._teardowns)&&void 0!==G?G:[]).push(j)}}_hasParent(j){const{_parentage:G}=this;return G===j||Array.isArray(G)&&G.includes(j)}_addParent(j){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(j),G):G?[G,j]:j}_removeParent(j){const{_parentage:G}=this;G===j?this._parentage=null:Array.isArray(G)&&(0,ne.P)(G,j)}remove(j){const{_teardowns:G}=this;G&&(0,ne.P)(G,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const se=new ae;return se.closed=!0,se})();const ge=ae.EMPTY;function ue(se){return se instanceof ae||se&&"closed"in se&&(0,l.m)(se.remove)&&(0,l.m)(se.add)&&(0,l.m)(se.unsubscribe)}function re(se){(0,l.m)(se)?se():se.unsubscribe()}},2416:(ct,Ie,k)=>{"use strict";k.d(Ie,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ie,k)=>{"use strict";k.d(Ie,{E:()=>V});const V=new(k(8306).y)(ae=>ae.complete())},8996:(ct,Ie,k)=>{"use strict";k.d(Ie,{D:()=>Ze});var l=k(8421),V=k(5363),R=k(9468),ge=k(8306),re=k(2202),se=k(576),j=k(9672);function ee(Ae,lt){if(!Ae)throw new Error("Iterable cannot be null");return new ge.y(Qe=>{(0,j.f)(Qe,lt,()=>{const yt=Ae[Symbol.asyncIterator]();(0,j.f)(Qe,lt,()=>{yt.next().then(J=>{J.done?Qe.complete():Qe.next(J.value)})},0,!0)})})}var He=k(3670),Me=k(8239),Fe=k(1144),$e=k(6495),Y=k(2206),ie=k(4532),me=k(3260);function Ze(Ae,lt){return lt?function De(Ae,lt){if(null!=Ae){if((0,He.c)(Ae))return function ne(Ae,lt){return(0,l.Xf)(Ae).pipe((0,R.R)(lt),(0,V.Q)(lt))}(Ae,lt);if((0,Fe.z)(Ae))return function ue(Ae,lt){return new ge.y(Qe=>{let yt=0;return lt.schedule(function(){yt===Ae.length?Qe.complete():(Qe.next(Ae[yt++]),Qe.closed||this.schedule())})})}(Ae,lt);if((0,Me.t)(Ae))return function ae(Ae,lt){return(0,l.Xf)(Ae).pipe((0,R.R)(lt),(0,V.Q)(lt))}(Ae,lt);if((0,Y.D)(Ae))return ee(Ae,lt);if((0,$e.T)(Ae))return function G(Ae,lt){return new ge.y(Qe=>{let yt;return(0,j.f)(Qe,lt,()=>{yt=Ae[re.h](),(0,j.f)(Qe,lt,()=>{let J,_e;try{({value:J,done:_e}=yt.next())}catch(ye){return void Qe.error(ye)}_e?Qe.complete():Qe.next(J)},0,!0)}),()=>(0,se.m)(null==yt?void 0:yt.return)&&yt.return()})}(Ae,lt);if((0,me.L)(Ae))return function Se(Ae,lt){return ee((0,me.Q)(Ae),lt)}(Ae,lt)}throw(0,ie.z)(Ae)}(Ae,lt):(0,l.Xf)(Ae)}},8421:(ct,Ie,k)=>{"use strict";k.d(Ie,{Xf:()=>He});var l=k(5987),V=k(1144),R=k(8239),ne=k(8306),ae=k(3670),ge=k(2206),ue=k(4532),re=k(6495),se=k(3260),j=k(576),G=k(7849),ee=k(8822);function He(De){if(De instanceof ne.y)return De;if(null!=De){if((0,ae.c)(De))return function Me(De){return new ne.y(Ze=>{const Ae=De[ee.L]();if((0,j.m)(Ae.subscribe))return Ae.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,V.z)(De))return function Fe(De){return new ne.y(Ze=>{for(let Ae=0;Ae<De.length&&!Ze.closed;Ae++)Ze.next(De[Ae]);Ze.complete()})}(De);if((0,R.t)(De))return function $e(De){return new ne.y(Ze=>{De.then(Ae=>{Ze.closed||(Ze.next(Ae),Ze.complete())},Ae=>Ze.error(Ae)).then(null,G.h)})}(De);if((0,ge.D)(De))return ie(De);if((0,re.T)(De))return function Y(De){return new ne.y(Ze=>{for(const Ae of De)if(Ze.next(Ae),Ze.closed)return;Ze.complete()})}(De);if((0,se.L)(De))return function me(De){return ie((0,se.Q)(De))}(De)}throw(0,ue.z)(De)}function ie(De){return new ne.y(Ze=>{(function Se(De,Ze){var Ae,lt,Qe,yt;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,l.KL)(De);!(lt=yield Ae.next()).done;)if(Ze.next(lt.value),Ze.closed)return}catch(J){Qe={error:J}}finally{try{lt&&!lt.done&&(yt=Ae.return)&&(yield yt.call(Ae))}finally{if(Qe)throw Qe.error}}Ze.complete()})})(De,Ze).catch(Ae=>Ze.error(Ae))})}},6451:(ct,Ie,k)=>{"use strict";k.d(Ie,{T:()=>ge});var l=k(8189),V=k(8421),R=k(515),ne=k(3269),ae=k(8996);function ge(...ue){const re=(0,ne.yG)(ue),se=(0,ne._6)(ue,1/0),j=ue;return j.length?1===j.length?(0,V.Xf)(j[0]):(0,l.J)(se)((0,ae.D)(j,re)):R.E}},5403:(ct,Ie,k)=>{"use strict";k.d(Ie,{Q:()=>V});var l=k(930);class V extends l.Lv{constructor(ne,ae,ge,ue,re){super(ne),this.onFinalize=re,this._next=ae?function(se){try{ae(se)}catch(j){ne.error(j)}}:super._next,this._error=ue?function(se){try{ue(se)}catch(j){ne.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(se){ne.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}},4004:(ct,Ie,k)=>{"use strict";k.d(Ie,{U:()=>R});var l=k(4482),V=k(5403);function R(ne,ae){return(0,l.e)((ge,ue)=>{let re=0;ge.subscribe(new V.Q(ue,se=>{ue.next(ne.call(ae,se,re++))}))})}},8189:(ct,Ie,k)=>{"use strict";k.d(Ie,{J:()=>R});var l=k(5577),V=k(4671);function R(ne=1/0){return(0,l.z)(V.y,ne)}},5577:(ct,Ie,k)=>{"use strict";k.d(Ie,{z:()=>re});var l=k(4004),V=k(8421),R=k(4482),ne=k(9672),ae=k(5403),ue=k(576);function re(se,j,G=1/0){return(0,ue.m)(j)?re((ee,He)=>(0,l.U)((Me,Fe)=>j(ee,Me,He,Fe))((0,V.Xf)(se(ee,He))),G):("number"==typeof j&&(G=j),(0,R.e)((ee,He)=>function ge(se,j,G,ee,He,Me,Fe,$e){const Y=[];let ie=0,me=0,Se=!1;const De=()=>{Se&&!Y.length&&!ie&&j.complete()},Ze=lt=>ie<ee?Ae(lt):Y.push(lt),Ae=lt=>{Me&&j.next(lt),ie++;let Qe=!1;(0,V.Xf)(G(lt,me++)).subscribe(new ae.Q(j,yt=>{null==He||He(yt),Me?Ze(yt):j.next(yt)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(ie--;Y.length&&ie<ee;){const yt=Y.shift();Fe?(0,ne.f)(j,Fe,()=>Ae(yt)):Ae(yt)}De()}catch(yt){j.error(yt)}}))};return se.subscribe(new ae.Q(j,Ze,()=>{Se=!0,De()})),()=>{null==$e||$e()}}(ee,He,se,G)))}},5363:(ct,Ie,k)=>{"use strict";k.d(Ie,{Q:()=>ne});var l=k(9672),V=k(4482),R=k(5403);function ne(ae,ge=0){return(0,V.e)((ue,re)=>{ue.subscribe(new R.Q(re,se=>(0,l.f)(re,ae,()=>re.next(se),ge),()=>(0,l.f)(re,ae,()=>re.complete(),ge),se=>(0,l.f)(re,ae,()=>re.error(se),ge)))})}},3099:(ct,Ie,k)=>{"use strict";k.d(Ie,{B:()=>ge});var l=k(8996),V=k(5698),R=k(7579),ne=k(930),ae=k(4482);function ge(re={}){const{connector:se=(()=>new R.x),resetOnError:j=!0,resetOnComplete:G=!0,resetOnRefCountZero:ee=!0}=re;return He=>{let Me=null,Fe=null,$e=null,Y=0,ie=!1,me=!1;const Se=()=>{null==Fe||Fe.unsubscribe(),Fe=null},De=()=>{Se(),Me=$e=null,ie=me=!1},Ze=()=>{const Ae=Me;De(),null==Ae||Ae.unsubscribe()};return(0,ae.e)((Ae,lt)=>{Y++,!me&&!ie&&Se();const Qe=$e=null!=$e?$e:se();lt.add(()=>{Y--,0===Y&&!me&&!ie&&(Fe=ue(Ze,ee))}),Qe.subscribe(lt),Me||(Me=new ne.Hp({next:yt=>Qe.next(yt),error:yt=>{me=!0,Se(),Fe=ue(De,j,yt),Qe.error(yt)},complete:()=>{ie=!0,Se(),Fe=ue(De,G),Qe.complete()}}),(0,l.D)(Ae).subscribe(Me))})(He)}}function ue(re,se,...j){return!0===se?(re(),null):!1===se?null:se(...j).pipe((0,V.q)(1)).subscribe(()=>re())}},9468:(ct,Ie,k)=>{"use strict";k.d(Ie,{R:()=>V});var l=k(4482);function V(R,ne=0){return(0,l.e)((ae,ge)=>{ge.add(R.schedule(()=>ae.subscribe(ge),ne))})}},5698:(ct,Ie,k)=>{"use strict";k.d(Ie,{q:()=>ne});var l=k(515),V=k(4482),R=k(5403);function ne(ae){return ae<=0?()=>l.E:(0,V.e)((ge,ue)=>{let re=0;ge.subscribe(new R.Q(ue,se=>{++re<=ae&&(ue.next(se),ae<=re&&ue.complete())}))})}},8505:(ct,Ie,k)=>{"use strict";k.d(Ie,{b:()=>ae});var l=k(576),V=k(4482),R=k(5403),ne=k(4671);function ae(ge,ue,re){const se=(0,l.m)(ge)||ue||re?{next:ge,error:ue,complete:re}:ge;return se?(0,V.e)((j,G)=>{var ee;null===(ee=se.subscribe)||void 0===ee||ee.call(se);let He=!0;j.subscribe(new R.Q(G,Me=>{var Fe;null===(Fe=se.next)||void 0===Fe||Fe.call(se,Me),G.next(Me)},()=>{var Me;He=!1,null===(Me=se.complete)||void 0===Me||Me.call(se),G.complete()},Me=>{var Fe;He=!1,null===(Fe=se.error)||void 0===Fe||Fe.call(se,Me),G.error(Me)},()=>{var Me,Fe;He&&(null===(Me=se.unsubscribe)||void 0===Me||Me.call(se)),null===(Fe=se.finalize)||void 0===Fe||Fe.call(se)}))}):ne.y}},4408:(ct,Ie,k)=>{"use strict";k.d(Ie,{o:()=>ae});var l=k(727);class V extends l.w0{constructor(ue,re){super()}schedule(ue,re=0){return this}}const R={setInterval(...ge){const{delegate:ue}=R;return((null==ue?void 0:ue.setInterval)||setInterval)(...ge)},clearInterval(ge){const{delegate:ue}=R;return((null==ue?void 0:ue.clearInterval)||clearInterval)(ge)},delegate:void 0};var ne=k(8737);class ae extends V{constructor(ue,re){super(ue,re),this.scheduler=ue,this.work=re,this.pending=!1}schedule(ue,re=0){if(this.closed)return this;this.state=ue;const se=this.id,j=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(j,se,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(j,this.id,re),this}requestAsyncId(ue,re,se=0){return R.setInterval(ue.flush.bind(ue,this),se)}recycleAsyncId(ue,re,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return re;R.clearInterval(re)}execute(ue,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(ue,re);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,re){let j,se=!1;try{this.work(ue)}catch(G){se=!0,j=G||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ue,scheduler:re}=this,{actions:se}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(se,this),null!=ue&&(this.id=this.recycleAsyncId(re,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ie,k)=>{"use strict";k.d(Ie,{v:()=>R});var l=k(6063);class V{constructor(ae,ge=V.now){this.schedulerActionCtor=ae,this.now=ge}schedule(ae,ge=0,ue){return new this.schedulerActionCtor(this,ae).schedule(ue,ge)}}V.now=l.l.now;class R extends V{constructor(ae,ge=V.now){super(ae,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:ge}=this;if(this._active)return void ge.push(ae);let ue;this._active=!0;do{if(ue=ae.execute(ae.state,ae.delay))break}while(ae=ge.shift());if(this._active=!1,ue){for(;ae=ge.shift();)ae.unsubscribe();throw ue}}}},4986:(ct,Ie,k)=>{"use strict";k.d(Ie,{z:()=>R,P:()=>ne});var l=k(4408);const R=new(k(7565).v)(l.o),ne=R},6063:(ct,Ie,k)=>{"use strict";k.d(Ie,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},233:(ct,Ie,k)=>{"use strict";k.d(Ie,{N:()=>ae});var l=k(4408),R=k(7565);const ae=new class ne extends R.v{}(class V extends l.o{constructor(re,se){super(re,se),this.scheduler=re,this.work=se}schedule(re,se=0){return se>0?super.schedule(re,se):(this.delay=se,this.state=re,this.scheduler.flush(this),this)}execute(re,se){return se>0||this.closed?super.execute(re,se):this._execute(re,se)}requestAsyncId(re,se,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(re,se,j):re.flush(this)}})},3410:(ct,Ie,k)=>{"use strict";k.d(Ie,{z:()=>l});const l={setTimeout(...V){const{delegate:R}=l;return((null==R?void 0:R.setTimeout)||setTimeout)(...V)},clearTimeout(V){const{delegate:R}=l;return((null==R?void 0:R.clearTimeout)||clearTimeout)(V)},delegate:void 0}},2202:(ct,Ie,k)=>{"use strict";k.d(Ie,{h:()=>V});const V=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ie,k)=>{"use strict";k.d(Ie,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ct,Ie,k)=>{"use strict";k.d(Ie,{jO:()=>ne,yG:()=>ae,_6:()=>ge});var l=k(576),V=k(3532);function R(ue){return ue[ue.length-1]}function ne(ue){return(0,l.m)(R(ue))?ue.pop():void 0}function ae(ue){return(0,V.K)(R(ue))?ue.pop():void 0}function ge(ue,re){return"number"==typeof R(ue)?ue.pop():re}},8737:(ct,Ie,k)=>{"use strict";function l(V,R){if(V){const ne=V.indexOf(R);0<=ne&&V.splice(ne,1)}}k.d(Ie,{P:()=>l})},3888:(ct,Ie,k)=>{"use strict";function l(V){const ne=V(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}k.d(Ie,{d:()=>l})},2806:(ct,Ie,k)=>{"use strict";k.d(Ie,{x:()=>R,O:()=>ne});var l=k(2416);let V=null;function R(ae){if(l.v.useDeprecatedSynchronousErrorHandling){const ge=!V;if(ge&&(V={errorThrown:!1,error:null}),ae(),ge){const{errorThrown:ue,error:re}=V;if(V=null,ue)throw re}}else ae()}function ne(ae){l.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ae)}},9672:(ct,Ie,k)=>{"use strict";function l(V,R,ne,ae=0,ge=!1){const ue=R.schedule(function(){ne(),ge?V.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(V.add(ue),!ge)return ue}k.d(Ie,{f:()=>l})},4671:(ct,Ie,k)=>{"use strict";function l(V){return V}k.d(Ie,{y:()=>l})},1144:(ct,Ie,k)=>{"use strict";k.d(Ie,{z:()=>l});const l=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(ct,Ie,k)=>{"use strict";k.d(Ie,{D:()=>V});var l=k(576);function V(R){return Symbol.asyncIterator&&(0,l.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(ct,Ie,k)=>{"use strict";function l(V){return"function"==typeof V}k.d(Ie,{m:()=>l})},3670:(ct,Ie,k)=>{"use strict";k.d(Ie,{c:()=>R});var l=k(8822),V=k(576);function R(ne){return(0,V.m)(ne[l.L])}},6495:(ct,Ie,k)=>{"use strict";k.d(Ie,{T:()=>R});var l=k(2202),V=k(576);function R(ne){return(0,V.m)(null==ne?void 0:ne[l.h])}},8239:(ct,Ie,k)=>{"use strict";k.d(Ie,{t:()=>V});var l=k(576);function V(R){return(0,l.m)(null==R?void 0:R.then)}},3260:(ct,Ie,k)=>{"use strict";k.d(Ie,{Q:()=>R,L:()=>ne});var l=k(5987),V=k(576);function R(ae){return(0,l.FC)(this,arguments,function*(){const ue=ae.getReader();try{for(;;){const{value:re,done:se}=yield(0,l.qq)(ue.read());if(se)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(re)}}finally{ue.releaseLock()}})}function ne(ae){return(0,V.m)(null==ae?void 0:ae.getReader)}},3532:(ct,Ie,k)=>{"use strict";k.d(Ie,{K:()=>V});var l=k(576);function V(R){return R&&(0,l.m)(R.schedule)}},4482:(ct,Ie,k)=>{"use strict";k.d(Ie,{A:()=>V,e:()=>R});var l=k(576);function V(ne){return(0,l.m)(null==ne?void 0:ne.lift)}function R(ne){return ae=>{if(V(ae))return ae.lift(function(ge){try{return ne(ge,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ct,Ie,k)=>{"use strict";function l(){}k.d(Ie,{Z:()=>l})},7849:(ct,Ie,k)=>{"use strict";k.d(Ie,{h:()=>R});var l=k(2416),V=k(3410);function R(ne){V.z.setTimeout(()=>{const{onUnhandledError:ae}=l.v;if(!ae)throw ne;ae(ne)})}},4532:(ct,Ie,k)=>{"use strict";function l(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ie,{z:()=>l})},5987:(ct,Ie,k)=>{"use strict";function re(J,_e,ye,Ee){return new(ye||(ye=Promise))(function(he,St){function en(ft){try{ht(Ee.next(ft))}catch(mr){St(mr)}}function er(ft){try{ht(Ee.throw(ft))}catch(mr){St(mr)}}function ht(ft){ft.done?he(ft.value):function Be(he){return he instanceof ye?he:new ye(function(St){St(he)})}(ft.value).then(en,er)}ht((Ee=Ee.apply(J,_e||[])).next())})}function Y(J){return this instanceof Y?(this.v=J,this):new Y(J)}function ie(J,_e,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Ee=ye.apply(J,_e||[]),he=[];return Be={},St("next"),St("throw"),St("return"),Be[Symbol.asyncIterator]=function(){return this},Be;function St(un){Ee[un]&&(Be[un]=function(Ir){return new Promise(function(Kt,Zr){he.push([un,Ir,Kt,Zr])>1||en(un,Ir)})})}function en(un,Ir){try{!function er(un){un.value instanceof Y?Promise.resolve(un.value.v).then(ht,ft):mr(he[0][2],un)}(Ee[un](Ir))}catch(Kt){mr(he[0][3],Kt)}}function ht(un){en("next",un)}function ft(un){en("throw",un)}function mr(un,Ir){un(Ir),he.shift(),he.length&&en(he[0][0],he[0][1])}}function Se(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,_e=J[Symbol.asyncIterator];return _e?_e.call(J):(J=function ee(J){var _e="function"==typeof Symbol&&Symbol.iterator,ye=_e&&J[_e],Ee=0;if(ye)return ye.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&Ee>=J.length&&(J=void 0),{value:J&&J[Ee++],done:!J}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ye={},Ee("next"),Ee("throw"),Ee("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Ee(he){ye[he]=J[he]&&function(St){return new Promise(function(en,er){!function Be(he,St,en,er){Promise.resolve(er).then(function(ht){he({value:ht,done:en})},St)}(en,er,(St=J[he](St)).done,St.value)})}}}k.d(Ie,{mG:()=>re,qq:()=>Y,FC:()=>ie,KL:()=>Se})},5e3:(ct,Ie,k)=>{"use strict";k.d(Ie,{deG:()=>bh,tb:()=>Cw,AFp:()=>Tw,ip1:()=>vm,CZH:()=>Hd,hGG:()=>yC,z2F:()=>qd,sBO:()=>Xt,Sil:()=>Jf,_Vd:()=>Nd,EJc:()=>qv,SBq:()=>Uf,qLn:()=>Bh,vpe:()=>No,tBr:()=>Bi,XFs:()=>vt,OlP:()=>yn,zs3:()=>Gs,ZZ4:()=>Bu,aQg:()=>ap,soG:()=>qs,YKP:()=>uw,h0i:()=>Rd,PXZ:()=>Mw,R0b:()=>ss,FiY:()=>ir,Lbi:()=>ac,g9A:()=>Yf,Qsj:()=>iw,FYo:()=>fv,JOm:()=>Xi,PiD:()=>fi,tp0:()=>Ti,Rgc:()=>Hf,dDg:()=>Sw,q4F:()=>tm,GfV:()=>mv,s_b:()=>Wf,ifc:()=>Ft,eFA:()=>Ow,G48:()=>ip,Gpc:()=>G,X6Q:()=>Rw,_c5:()=>$w,VLi:()=>Wd,c2e:()=>zv,zSh:()=>Tg,wAp:()=>Tt,vHH:()=>Fe,cg1:()=>Gy,kL8:()=>Tf,dqk:()=>bt,sIi:()=>cf,CqO:()=>lD,QGY:()=>Sy,F4k:()=>uD,RDi:()=>Sc,AaK:()=>re,qOj:()=>Sg,TTD:()=>to,_Bn:()=>ew,xp6:()=>ib,uIk:()=>fy,Tol:()=>yT,Gre:()=>Df,ekj:()=>$n,Suo:()=>vw,Xpm:()=>Rn,lG2:()=>Ke,Yz7:()=>Kt,cJS:()=>oi,oAB:()=>q,Yjl:()=>Nt,Y36:()=>pf,_UZ:()=>jn,qZA:()=>Ct,TgZ:()=>Cy,EpF:()=>Mu,n5z:()=>pl,Ikx:()=>Hg,SDv:()=>ea,QtT:()=>Ff,pQV:()=>Sd,LFG:()=>ze,$8M:()=>du,$Z:()=>Ey,NdJ:()=>Ay,CRH:()=>bw,oxw:()=>iT,ALo:()=>Gf,lcZ:()=>Mv,Hsn:()=>fD,F$t:()=>Ny,Q6J:()=>Rg,s9C:()=>My,MGl:()=>kg,VKq:()=>Pd,WLB:()=>Cv,kEZ:()=>im,iGM:()=>kv,MAs:()=>Mg,CHM:()=>au,LSH:()=>S,Udp:()=>_f,YNc:()=>jE,W1O:()=>rs,_uU:()=>ei,Oqu:()=>md,hij:()=>Rr,Gf:()=>yw});var l=k(7579),V=k(727),R=k(8306),ne=k(6451),ae=k(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function re(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(re).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function se(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=ge({__forward_ref__:ge});function G(s){return s.__forward_ref__=G,s.toString=function(){return re(this())},s}function ee(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===G}class Fe extends Error{constructor(o,a){super(function $e(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function Y(s){return"string"==typeof s?s:null==s?"":String(s)}function ie(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Y(s)}function Ze(s,o){const a=o?` in ${o}`:"";throw new Fe(-201,`No provider for ${ie(s)} found${a}`)}function ft(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}function Kt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function oi(s){return{providers:s.providers||[],imports:s.imports||[]}}function vn(s){return An(s,ui)||An(s,bn)}function An(s,o){return s.hasOwnProperty(o)?s[o]:null}function ai(s){return s&&(s.hasOwnProperty(Ve)||s.hasOwnProperty(tr))?s[Ve]:null}const ui=ge({\u0275prov:ge}),Ve=ge({\u0275inj:ge}),bn=ge({ngInjectableDef:ge}),tr=ge({ngInjectorDef:ge});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Cn;function In(s){const o=Cn;return Cn=s,o}function Kr(s,o,a){const c=vn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&vt.Optional?null:void 0!==o?o:void Ze(re(s),"Injector")}function ot(s){return{toString:s}.toString()}var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),Ft=(()=>{return(s=Ft||(Ft={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ft;var s})();const nt="undefined"!=typeof globalThis&&globalThis,pt="undefined"!=typeof window&&window,ia="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bt=nt||"undefined"!=typeof global&&global||pt||ia,Yr={},U=[],W=ge({\u0275cmp:ge}),z=ge({\u0275dir:ge}),we=ge({\u0275pipe:ge}),te=ge({\u0275mod:ge}),Je=ge({\u0275fac:ge}),Dt=ge({__NG_ELEMENT_ID__:ge});let cn=0;function Rn(s){return ot(()=>{const a={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||U,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ft.Emulated,id:"c",styles:s.styles||U,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,p=s.features,_=s.pipes;return c.id+=cn++,c.inputs=Ce(s.inputs,a),c.outputs=Ce(s.outputs),p&&p.forEach(D=>D(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(ur):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(Lt):null,c})}function ur(s){return gt(s)||function Vt(s){return s[z]||null}(s)}function Lt(s){return function Dn(s){return s[we]||null}(s)}const oe={};function q(s){return ot(()=>{const o={type:s.type,bootstrap:s.bootstrap||U,declarations:s.declarations||U,imports:s.imports||U,exports:s.exports||U,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(oe[s.id]=s.type),o})}function Ce(s,o){if(null==s)return Yr;const a={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}const Ke=Rn;function Nt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function gt(s){return s[W]||null}function tn(s,o){const a=s[te]||null;if(!a&&!0===o)throw new Error(`Type ${re(s)} does not have '\u0275mod' property.`);return a}function vi(s){return Array.isArray(s)&&"object"==typeof s[1]}function Zi(s){return Array.isArray(s)&&!0===s[1]}function _r(s){return 0!=(8&s.flags)}function Wu(s){return 2==(2&s.flags)}function As(s){return 1==(1&s.flags)}function ki(s){return null!==s.template}function oh(s){return 0!=(512&s[2])}function cs(s,o){return s.hasOwnProperty(Je)?s[Je]:null}class Zu{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function to(){return ds}function ds(s){return s.type.prototype.ngOnChanges&&(s.setInput=Cc),hs}function hs(){const s=Pi(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===Yr)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Cc(s,o,a,c){const d=Pi(s)||function xo(s,o){return s[Qr]=o}(s,{previous:Yr,current:null}),p=d.current||(d.current={}),_=d.previous,D=this.declaredInputs[a],w=_[D];p[D]=new Zu(w&&w.currentValue,o,_===Yr),s[c]=o}to.ngInherit=!0;const Qr="__ngSimpleChanges__";function Pi(s){return s[Qr]||null}let Ic;function Sc(s){Ic=s}function da(){return void 0!==Ic?Ic:"undefined"!=typeof document?document:void 0}function Mn(s){return!!s.listen}const Ms={createRenderer:(s,o)=>da()};function Vn(s){for(;Array.isArray(s);)s=s[0];return s}function Fr(s,o){return Vn(o[s])}function cr(s,o){return Vn(o[s.index])}function ha(s,o){return s.data[o]}function fs(s,o){return s[o]}function hi(s,o){const a=o[s];return vi(a)?a:a[0]}function On(s){return 4==(4&s[2])}function fa(s){return 128==(128&s[2])}function Fi(s,o){return null==o?null:s[o]}function Os(s){s[18]=0}function no(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const dt={lFrame:rl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ou(){return dt.bindingsEnabled}function xe(){return dt.lFrame.lView}function Bt(){return dt.lFrame.tView}function au(s){return dt.lFrame.contextLView=s,s[8]}function dn(){let s=Fo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Fo(){return dt.lFrame.currentTNode}function oo(){const s=dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Jr(s,o){const a=dt.lFrame;a.currentTNode=s,a.isParent=o}function xs(){return dt.lFrame.isParent}function pa(){dt.lFrame.isParent=!1}function ma(){return dt.isInCheckNoChangesMode}function Lo(s){dt.isInCheckNoChangesMode=s}function yr(){const s=dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Li(){return dt.lFrame.bindingIndex++}function ps(s){const o=dt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function ao(s){dt.lFrame.inI18n=s}function Xu(s,o){const a=dt.lFrame;a.bindingIndex=a.bindingRootIndex=s,el(o)}function el(s){dt.lFrame.currentDirectiveIndex=s}function tl(){return dt.lFrame.currentQueryIndex}function lo(s){dt.lFrame.currentQueryIndex=s}function hh(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function _a(s,o,a){if(a&vt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&vt.Host||(d=hh(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,s=p}const c=dt.lFrame=nl();return c.currentTNode=o,c.lView=s,!0}function ya(s){const o=nl(),a=s[1];dt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function nl(){const s=dt.lFrame,o=null===s?null:s.child;return null===o?rl(s):o}function rl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function va(){const s=dt.lFrame;return dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const il=va;function Uo(){const s=va();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function rr(){return dt.lFrame.selectedIndex}function vr(s){dt.lFrame.selectedIndex=s}function kn(){const s=dt.lFrame;return ha(s.tView,s.selectedIndex)}function Da(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:D,ngAfterViewInit:w,ngAfterViewChecked:I,ngOnDestroy:N}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),D&&((s.contentHooks||(s.contentHooks=[])).push(a,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,D)),w&&(s.viewHooks||(s.viewHooks=[])).push(-a,w),I&&((s.viewHooks||(s.viewHooks=[])).push(a,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,I)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function Bo(s,o,a){al(s,o,3,a)}function jo(s,o,a,c){(3&s[2])===a&&al(s,o,a,c)}function Nc(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function al(s,o,a,c){const p=null!=c?c:-1,_=o.length-1;let D=0;for(let w=void 0!==c?65535&s[18]:0;w<_;w++)if("number"==typeof o[w+1]){if(D=o[w],null!=c&&D>=c)break}else o[w]<0&&(s[18]+=65536),(D<p||-1==p)&&(Pp(s,a,o,w),s[18]=(4294901760&s[18])+w+2),w++}function Pp(s,o,a,c){const d=a[c]<0,p=a[c+1],D=s[d?-a[c]:a[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class Kn{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ul(s,o,a){const c=Mn(s);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const _=a[d++],D=a[d++],w=a[d++];c?s.setAttribute(o,D,w,_):o.setAttributeNS(_,D,w)}else{const _=p,D=a[++d];_n(_)?c&&s.setProperty(o,_,D):c?s.setAttribute(o,_,D):o.setAttribute(_,D),d++}}return d}function xn(s){return 3===s||4===s||6===s}function _n(s){return 64===s.charCodeAt(0)}function Lr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||_h(s,a,d,null,-1===a||2===a?o[++c]:null)}}return s}function _h(s,o,a,c,d){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){_=-1;break}if(D>o){_=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===a){if(null===c)return void(null!==d&&(s[p+1]=d));if(c===s[p+1])return void(s[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==d&&s.splice(p++,0,d)}function yh(s){return-1!==s}function wa(s){return 32767&s}function Ea(s,o){let a=function Oc(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let Xr=!0;function Vr(s){const o=Xr;return Xr=s,o}let cl=0;function Go(s,o){const a=Ho(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Ta(c.data,s),Ta(o,null),Ta(c.blueprint,null));const d=wi(s,o),p=s.injectorIndex;if(yh(d)){const _=wa(d),D=Ea(d,o),w=D[1].data;for(let I=0;I<8;I++)o[p+I]=D[_+I]|w[_+I]}return o[p+8]=d,p}function Ta(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ho(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function wi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){const p=d[1],_=p.type;if(c=2===_?p.declTNode:1===_?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function dr(s,o,a){!function dl(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Dt)&&(c=a[Dt]),null==c&&(c=a[Dt]=cl++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function hl(s,o,a){if(a&vt.Optional)return s;Ze(o,"NodeInjector")}function Ki(s,o,a,c){if(a&vt.Optional&&void 0===c&&(c=null),0==(a&(vt.Self|vt.Host))){const d=s[9],p=In(void 0);try{return d?d.get(o,c,a&vt.Optional):Kr(o,c,a&vt.Optional)}finally{In(p)}}return hl(c,o,a)}function fl(s,o,a,c=vt.Default,d){if(null!==s){const p=function Yi(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Dt)?s[Dt]:void 0;return"number"==typeof o?o>=0?255&o:Rs:o}(a);if("function"==typeof p){if(!_a(o,s,c))return c&vt.Host?hl(d,a,c):Ki(o,a,c,d);try{const _=p(c);if(null!=_||c&vt.Optional)return _;Ze(a)}finally{il()}}else if("number"==typeof p){let _=null,D=Ho(s,o),w=-1,I=c&vt.Host?o[16][6]:null;for((-1===D||c&vt.SkipSelf)&&(w=-1===D?wi(s,o):o[D+8],-1!==w&&vh(c,!1)?(_=o[1],D=wa(w),o=Ea(w,o)):D=-1);-1!==D;){const N=o[1];if(Ca(p,D,N.data)){const P=ks(D,o,a,_,c,I);if(P!==xc)return P}w=o[D+8],-1!==w&&vh(c,o[1].data[D+8]===I)&&Ca(p,D,o)?(_=N,D=wa(w),o=Ea(w,o)):D=-1}}}return Ki(o,a,c,d)}const xc={};function Rs(){return new wn(dn(),xe())}function ks(s,o,a,c,d,p){const _=o[1],D=_.data[s+8],N=Ps(D,_,a,null==c?Wu(D)&&Xr:c!=_&&0!=(3&D.type),d&vt.Host&&p===D);return null!==N?Sn(o,_,N,D):xc}function Ps(s,o,a,c,d){const p=s.providerIndexes,_=o.data,D=1048575&p,w=s.directiveStart,N=p>>20,B=d?D+N:s.directiveEnd;for(let Q=c?D:D+N;Q<B;Q++){const pe=_[Q];if(Q<w&&a===pe||Q>=w&&pe.type===a)return Q}if(d){const Q=_[w];if(Q&&ki(Q)&&Q.type===a)return w}return null}function Sn(s,o,a,c){let d=s[a];const p=o.data;if(function fh(s){return s instanceof Kn}(d)){const _=d;_.resolving&&function me(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${s}${a}`)}(ie(p[a]));const D=Vr(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?In(_.injectImpl):null;_a(s,c,vt.Default);try{d=s[a]=_.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function e_(s,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const _=ds(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==w&&In(w),Vr(D),_.resolving=!1,il()}}return d}function Ca(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function vh(s,o){return!(s&vt.Self||s&vt.Host&&o)}class wn{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return fl(this._tNode,this._lView,o,c,a)}}function pl(s){return ot(()=>{const o=s.prototype.constructor,a=o[Je]||Fs(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const p=d[Je]||Fs(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Fs(s){return He(s)?()=>{const o=Fs(ee(s));return o&&o()}:cs(s)}function du(s){return function cu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(xn(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(dn(),s)}const ho="__parameters__";function Qi(s,o,a){return ot(()=>{const c=function ms(s){return function(...a){if(s){const c=s(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const _=new d(...p);return D.annotation=_,D;function D(w,I,N){const P=w.hasOwnProperty(ho)?w[ho]:Object.defineProperty(w,ho,{value:[]})[ho];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(_),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class yn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bh=new yn("AnalyzeForEntryComponents");function Pn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),Pn(c,o)):o!==s&&o.push(c)}return o}function En(s,o){s.forEach(a=>Array.isArray(a)?En(a,o):o(a))}function pu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Aa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function zo(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function Ei(s,o,a){let c=Oa(s,o);return c>=0?s[1|c]=a:(c=~c,function mu(s,o,a,c){let d=s.length;if(d==o)s.push(a,c);else if(1===d)s.push(c,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function wh(s,o){const a=Oa(s,o);if(a>=0)return s[1|a]}function Oa(s,o){return function qo(s,o,a){let c=0,d=s.length>>a;for(;d!==c;){const p=c+(d-c>>1),_=s[p<<a];if(o===_)return p<<a;_>o?d=p:c=p+1}return~(d<<a)}(s,o,1)}const Us={},Bs="__NG_DI_FLAG__",_o="ngTempTokenPath",C=/\n/gm,L="__source",K=ge({provide:String,useValue:ge});let le;function ke(s){const o=le;return le=s,o}function it(s,o=vt.Default){if(void 0===le)throw new Fe(203,"");return null===le?Kr(s,void 0,o):le.get(s,o&vt.Optional?null:void 0,o)}function ze(s,o=vt.Default){return(function qt(){return Cn}()||it)(ee(s),o)}function Ur(s){const o=[];for(let a=0;a<s.length;a++){const c=ee(s[a]);if(Array.isArray(c)){if(0===c.length)throw new Fe(900,"");let d,p=vt.Default;for(let _=0;_<c.length;_++){const D=c[_],w=Un(D);"number"==typeof w?-1===w?d=D.token:p|=w:d=D}o.push(ze(d,p))}else o.push(ze(c))}return o}function br(s,o){return s[Bs]=o,s.prototype[Bs]=o,s}function Un(s){return s[Bs]}const Bi=br(Qi("Inject",s=>({token:s})),-1),ir=br(Qi("Optional"),8),fi=br(Qi("Self"),2),Ti=br(Qi("SkipSelf"),4);let bu;function js(s){var o;return(null===(o=function Ra(){if(void 0===bu&&(bu=null,bt.trustedTypes))try{bu=bt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return bu}())||void 0===o?void 0:o.createHTML(s))||s}class Sh{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function vo(s){return s instanceof Sh?s.changingThisBreaksApplicationSecurity:s}class u_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(js(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Hc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=js(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=js(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let d=a.length-1;0<d;d--){const _=a.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Oh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function El(s){return(s=String(s)).match(Oh)||s.match(wl)?s:"unsafe:"+s}function zp(s){return(s=String(s)).split(",").map(o=>El(o.trim())).join(", ")}function Ji(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Tl(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const xh=Ji("area,br,col,hr,img,wbr"),Rh=Ji("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cl=Ji("rp,rt"),Il=Tl(xh,Tl(Rh,Ji("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tl(Cl,Ji("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tl(Cl,Rh)),qp=Ji("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ka=Ji("srcset"),kh=Tl(qp,ka,Ji("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ji("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var f=(()=>((f=f||{})[f.NONE=0]="NONE",f[f.HTML=1]="HTML",f[f.STYLE=2]="STYLE",f[f.SCRIPT=3]="SCRIPT",f[f.URL=4]="URL",f[f.RESOURCE_URL=5]="RESOURCE_URL",f))();function S(s){const o=function Dr(){const s=xe();return s&&s[12]}();return o?o.sanitize(f.URL,s)||"":function Du(s,o){const a=function a_(s){return s instanceof Sh&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?vo(s):El(Y(s))}const Yp="__ngContext__";function rt(s,o){s[Yp]=o}function Fn(s){const o=function nn(s){return s[Yp]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Jp(s){return s.ngOriginalError}function $0(s,...o){s.error(...o)}class Bh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),c=function Mr(s){return s&&s.ngErrorLogger||$0}(o);c(this._console,"ERROR",o),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Jp(o);for(;a&&Jp(a);)a=Jp(a);return a||null}}const Ol=/^>|^->|<!--|-->|--!>|<!-$/g,U1=/(<|>)/;const Xp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bt))();function Ii(s){return s instanceof Function?s():s}var Xi=(()=>((Xi=Xi||{})[Xi.Important=1]="Important",Xi[Xi.DashCase=2]="DashCase",Xi))();let eg;function __(s,o){return eg(s,o)}function $h(s){const o=s[3];return Zi(o)?o[3]:o}function tg(s){return K0(s[13])}function ng(s){return K0(s[4])}function K0(s){for(;null!==s&&!Zi(s);)s=s[4];return s}function Kc(s,o,a,c,d){if(null!=c){let p,_=!1;Zi(c)?p=c:vi(c)&&(_=!0,c=c[0]);const D=Vn(c);0===s&&null!==a?null==d?E_(o,a,D):xl(o,a,D,d||null,!0):1===s&&null!==a?xl(o,a,D,d||null,!0):2===s?A_(o,D,_):3===s&&o.destroyNode(D),null!=p&&function J0(s,o,a,c,d){const p=a[7];p!==Vn(a)&&Kc(o,s,c,p,d);for(let D=10;D<a.length;D++){const w=a[D];Wh(w[1],w,s,o,c,p)}}(o,s,p,a,d)}}function y_(s,o){return Mn(s)?s.createText(o):s.createTextNode(o)}function v_(s,o,a){Mn(s)?s.setValue(o,a):o.textContent=a}function Gt(s,o){return s.createComment(function Or(s){return s.replace(Ol,o=>o.replace(U1,"\u200b$1\u200b"))}(o))}function b_(s,o,a){return Mn(s)?s.createElement(o,a):null===a?s.createElement(o):s.createElementNS(a,o)}function Do(s,o){const a=s[9],c=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,no(d,-1)),a.splice(c,1)}function rg(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const d=c[17];null!==d&&d!==s&&Do(d,c),o>0&&(s[a-1][4]=c[4]);const p=Aa(s,10+o);!function Yc(s,o){Wh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function w_(s,o){if(!(256&o[2])){const a=o[11];Mn(a)&&a.destroyNode&&Wh(s,o,a,3,null,null),function $1(s){let o=s[13];if(!o)return ig(s[1],s);for(;o;){let a=null;if(vi(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)vi(o)&&ig(o[1],o),o=o[3];null===o&&(o=s),vi(o)&&ig(o[1],o),a=o&&o[4]}o=a}}(o)}}function ig(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function gi(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof Kn)){const p=a[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const D=d[p[_]],w=p[_+1];try{w.call(D)}finally{}}else try{p.call(d)}finally{}}}}(s,o),function nA(s,o){const a=s.cleanup,c=o[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],D="function"==typeof _?_(o):Vn(o[_]),w=c[d=a[p+2]],I=a[p+3];"boolean"==typeof I?D.removeEventListener(a[p],w,I):I>=0?c[d=I]():c[d=-I].unsubscribe(),p+=2}else{const _=c[d=a[p+1]];a[p].call(_)}if(null!==c){for(let p=d+1;p<c.length;p++)c[p]();o[7]=null}}(s,o),1===o[1].type&&Mn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Zi(o[3])){a!==o[3]&&Do(a,o);const c=o[19];null!==c&&c.detachView(s)}}}function wo(s,o,a){return Q0(s,o.parent,a)}function Q0(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===Ft.None||d===Ft.Emulated)return null}return cr(c,a)}function xl(s,o,a,c,d){Mn(s)?s.insertBefore(o,a,c,d):o.insertBefore(a,c,d)}function E_(s,o,a){Mn(s)?s.appendChild(o,a):o.appendChild(a)}function T_(s,o,a,c,d){null!==c?xl(s,o,a,c,d):E_(s,o,a)}function Gh(s,o){return Mn(s)?s.parentNode(o):o.parentNode}function C_(s,o,a){return Hh(s,o,a)}function I_(s,o,a){return 40&s.type?cr(s,a):null}let Ua,Hh=I_;function zt(s,o){Hh=s,Ua=o}function wu(s,o,a,c){const d=wo(s,c,o),p=o[11],D=C_(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)T_(p,d,a[w],D,!1);else T_(p,d,a,D,!1);void 0!==Ua&&Ua(p,c,o,a,d)}function sg(s,o){if(null!==o){const a=o.type;if(3&a)return cr(o,s);if(4&a)return S_(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return sg(s,c);{const d=s[o.index];return Zi(d)?S_(-1,d):Vn(d)}}if(32&a)return __(o,s)()||Vn(s[o.index]);{const c=Eu(s,o);return null!==c?Array.isArray(c)?c[0]:sg($h(s[16]),c):sg(s,o.next)}}return null}function Eu(s,o){return null!==o?s[16][6].projection[o.projection]:null}function S_(s,o){const a=10+s+1;if(a<o.length){const c=o[a],d=c[1].firstChild;if(null!==d)return sg(c,d)}return o[7]}function A_(s,o,a){const c=Gh(s,o);c&&function W1(s,o,a,c){Mn(s)?s.removeChild(o,a,c):o.removeChild(a)}(s,c,o,a)}function og(s,o,a,c,d,p,_){for(;null!=a;){const D=c[a.index],w=a.type;if(_&&0===o&&(D&&rt(Vn(D),c),a.flags|=4),64!=(64&a.flags))if(8&w)og(s,o,a.child,c,d,p,!1),Kc(o,s,d,D,p);else if(32&w){const I=__(a,c);let N;for(;N=I();)Kc(o,s,d,N,p);Kc(o,s,d,D,p)}else 16&w?Qc(s,o,c,a,d,p):Kc(o,s,d,D,p);a=_?a.projectionNext:a.next}}function Wh(s,o,a,c,d,p){og(a,c,s.firstChild,o,d,p,!1)}function Qc(s,o,a,c,d,p){const _=a[16],w=_[6].projection[c.projection];if(Array.isArray(w))for(let I=0;I<w.length;I++)Kc(o,s,d,w[I],p);else og(s,o,w,_[3],d,p,!0)}function X0(s,o,a){Mn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function zh(s,o,a){Mn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function qh(s,o,a){let c=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||s.charCodeAt(d+p)<=32)return d}a=d+1}}const N_="ng-template";function Z1(s,o,a){let c=0;for(;c<s.length;){let d=s[c++];if(a&&"class"===d){if(d=s[c],-1!==qh(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function eb(s){return 4===s.type&&s.value!==N_}function K1(s,o,a){return o===(4!==s.type||a?s.value:N_)}function lg(s,o,a){let c=4;const d=s.attrs||[],p=function J1(s){for(let o=0;o<s.length;o++)if(xn(s[o]))return o;return s.length}(d);let _=!1;for(let D=0;D<o.length;D++){const w=o[D];if("number"!=typeof w){if(!_)if(4&c){if(c=2|1&c,""!==w&&!K1(s,w,a)||""===w&&1===o.length){if(Eo(c))return!1;_=!0}}else{const I=8&c?w:o[++D];if(8&c&&null!==s.attrs){if(!Z1(s.attrs,I,a)){if(Eo(c))return!1;_=!0}continue}const P=Y1(8&c?"class":w,d,eb(s),a);if(-1===P){if(Eo(c))return!1;_=!0;continue}if(""!==I){let B;B=P>p?"":d[P+1].toLowerCase();const Q=8&c?B:null;if(Q&&-1!==qh(Q,I,0)||2&c&&I!==B){if(Eo(c))return!1;_=!0}}}}else{if(!_&&!Eo(c)&&!Eo(w))return!1;if(_&&Eo(w))continue;_=!1,c=w|1&c}}return Eo(c)||_}function Eo(s){return 0==(1&s)}function Y1(s,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let D=o[++d];for(;"string"==typeof D;)D=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function nb(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function tb(s,o,a=!1){for(let c=0;c<o.length;c++)if(lg(s,o[c],a))return!0;return!1}function M_(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let d=0;d<s.length;d++)if(s[d]!==c[d])continue e;return!0}}return!1}function cg(s,o){return s?":not("+o.trim()+")":o}function Ba(s){let o=s[0],a=1,c=2,d="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&c){const D=s[++a];d+="["+_+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Eo(_)&&(o+=cg(p,d),d=""),c=_,p=p||!Eo(c);a++}return""!==d&&(o+=cg(p,d)),o}const kt={};function ib(s){Rl(Bt(),xe(),rr()+s,ma())}function Rl(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Bo(o,p,a)}else{const p=s.preOrderHooks;null!==p&&jo(o,p,0,a)}vr(a)}function dg(s,o){return s<<17|o<<2}function es(s){return s>>17&32767}function hg(s){return 2|s}function To(s){return(131068&s)>>2}function Zh(s,o){return-131069&s|o<<2}function kl(s){return 1|s}function B_(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],p=a[c+1];if(-1!==p){const _=s.data[p];lo(d),_.contentQueries(2,o[p],p)}}}function Qh(s,o,a,c,d,p,_,D,w,I){const N=o.blueprint.slice();return N[0]=d,N[2]=140|c,Os(N),N[3]=N[15]=s,N[8]=a,N[10]=_||s&&s[10],N[11]=D||s&&s[11],N[12]=w||s&&s[12]||null,N[9]=I||s&&s[9]||null,N[6]=p,N[16]=2==o.type?s[16]:N,N}function td(s,o,a,c,d){let p=s.data[o];if(null===p)p=j_(s,o,a,c,d),function uu(){return dt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const _=oo();p.injectorIndex=null===_?-1:_.injectorIndex}return Jr(p,!0),p}function j_(s,o,a,c,d){const p=Fo(),_=xs(),w=s.data[o]=function vb(s,o,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,c,d);return null===s.firstChild&&(s.firstChild=w),null!==p&&(_?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}function nd(s,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function Iu(s,o,a){ya(o);try{const c=s.viewQuery;null!==c&&K_(1,c,a);const d=s.template;null!==d&&rd(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&B_(s,o),s.staticViewQueries&&K_(2,s.viewQuery,a);const p=s.components;null!==p&&function _g(s,o){for(let a=0;a<o.length;a++)bE(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Uo()}}function Vl(s,o,a,c){const d=o[2];if(256==(256&d))return;ya(o);const p=ma();try{Os(o),function Ac(s){return dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&rd(s,o,a,2,c);const _=3==(3&d);if(!p)if(_){const I=s.preOrderCheckHooks;null!==I&&Bo(o,I,null)}else{const I=s.preOrderHooks;null!==I&&jo(o,I,0,null),Nc(o,0)}if(function yE(s){for(let o=tg(s);null!==o;o=ng(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const d=a[c],p=d[3];0==(1024&d[2])&&no(p,1),d[2]|=1024}}}(o),function _E(s){for(let o=tg(s);null!==o;o=ng(o))for(let a=10;a<o.length;a++){const c=o[a],d=c[1];fa(c)&&Vl(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&B_(s,o),!p)if(_){const I=s.contentCheckHooks;null!==I&&Bo(o,I)}else{const I=s.contentHooks;null!==I&&jo(o,I,1),Nc(o,1)}!function pb(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)vr(~d);else{const p=d,_=a[++c],D=a[++c];Xu(_,p),D(2,o[p])}}}finally{vr(-1)}}(s,o);const D=s.components;null!==D&&function mg(s,o){for(let a=0;a<o.length;a++)vE(s,o[a])}(o,D);const w=s.viewQuery;if(null!==w&&K_(2,w,c),!p)if(_){const I=s.viewCheckHooks;null!==I&&Bo(o,I)}else{const I=s.viewHooks;null!==I&&jo(o,I,2),Nc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,no(o[3],-1))}finally{Uo()}}function gb(s,o,a,c){const d=o[10],p=!ma(),_=On(o);try{p&&!_&&d.begin&&d.begin(),_&&Iu(s,o,c),Vl(s,o,a,c)}finally{p&&!_&&d.end&&d.end()}}function rd(s,o,a,c,d){const p=rr(),_=2&c;try{vr(-1),_&&o.length>20&&Rl(s,o,20,ma()),a(c,d)}finally{vr(p)}}function id(s,o,a){!ou()||(function cE(s,o,a,c){const d=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Go(a,o),rt(c,o);const _=a.initialInputs;for(let D=d;D<p;D++){const w=s.data[D],I=ki(w);I&&gE(o,a,w);const N=Sn(o,s,D,a);rt(N,o),null!==_&&Cb(0,D-d,N,w,0,_),I&&(hi(a.index,o)[8]=N)}}(s,o,a,cr(a,o)),128==(128&a.flags)&&function dE(s,o,a){const c=a.directiveStart,d=a.directiveEnd,_=a.index,D=function Vo(){return dt.lFrame.currentDirectiveIndex}();try{vr(_);for(let w=c;w<d;w++){const I=s.data[w],N=o[w];el(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Db(I,N)}}finally{vr(-1),el(D)}}(s,o,a))}function yg(s,o,a=cr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],D=-1===_?a(o,s):s[_];s[d++]=D}}}function mb(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=vg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function vg(s,o,a,c,d,p,_,D,w,I){const N=20+c,P=N+d,B=function iE(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:kt);return a}(N,P),Q="function"==typeof I?I():I;return B[1]={type:s,blueprint:B,template:a,queries:null,viewQuery:D,declTNode:o,data:B.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:Q,incompleteFirstPass:!1}}function yb(s,o,a,c){const d=Ab(o);null===a?d.push(c):(d.push(a),s.firstCreatePass&&ns(s).push(c,d.length-1))}function Jh(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,d):a[c]=[o,d]}return a}function Si(s,o,a,c,d,p,_,D){const w=cr(o,a);let N,I=o.inputs;!D&&null!=I&&(N=I[c])?(Eg(s,a,N,c,d),Wu(o)&&function aE(s,o){const a=hi(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(c=function oE(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=_?_(d,o.value||"",c):d,Mn(p)?p.setProperty(w,c,d):_n(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function G_(s,o,a,c){let d=!1;if(ou()){const p=function hE(s,o,a){const c=s.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];tb(a,_.selectors,!1)&&(d||(d=[]),dr(Go(a,o),s,_.type),ki(_)?(H_(s,a),d.unshift(_)):d.push(_))}return d}(s,o,a),_=null===c?null:{"":-1};if(null!==p){d=!0,wb(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const P=p[N];P.providersResolver&&P.providersResolver(P)}let D=!1,w=!1,I=nd(s,o,p.length,null);for(let N=0;N<p.length;N++){const P=p[N];a.mergedAttrs=Lr(a.mergedAttrs,P.hostAttrs),Eb(s,a,o,I,P),pE(I,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const B=P.type.prototype;!D&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),D=!0),!w&&(B.ngOnChanges||B.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),w=!0),I++}!function sE(s,o){const c=o.directiveEnd,d=s.data,p=o.attrs,_=[];let D=null,w=null;for(let I=o.directiveStart;I<c;I++){const N=d[I],P=N.inputs,B=null===p||eb(o)?null:Ib(P,p);_.push(B),D=Jh(P,I,D),w=Jh(N.outputs,I,w)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=D,o.outputs=w}(s,a)}_&&function fE(s,o,a){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new Fe(-301,`Export of name '${o[d+1]}' not found!`);c.push(o[d],p)}}}(a,c,_)}return a.mergedAttrs=Lr(a.mergedAttrs,a.attrs),d}function bb(s,o,a,c,d,p){const _=p.hostBindings;if(_){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const w=~o.index;(function lE(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(D)!=w&&D.push(w),D.push(c,d,_)}}function Db(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function H_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function pE(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;ki(o)&&(a[""]=s)}}function wb(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Eb(s,o,a,c,d){s.data[c]=d;const p=d.factory||(d.factory=cs(d.type)),_=new Kn(p,ki(d),null);s.blueprint[c]=_,a[c]=_,bb(s,o,0,c,nd(s,a,d.hostVars,kt),d)}function gE(s,o,a){const c=cr(o,s),d=mb(a),p=s[10],_=Dg(s,Qh(s,d,null,a.onPush?64:16,c,o,p,p.createRenderer(c,a),null,null));s[o.index]=_}function Tb(s,o,a,c,d,p,_){if(null==p)Mn(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const D=null==_?Y(p):_(p,c||"",d);Mn(s)?s.setAttribute(o,d,D,a):a?o.setAttributeNS(a,d,D):o.setAttribute(d,D)}}function Cb(s,o,a,c,d,p){const _=p[o];if(null!==_){const D=c.setInput;for(let w=0;w<_.length;){const I=_[w++],N=_[w++],P=_[w++];null!==D?c.setInput(a,P,I,N):a[N]=P}}}function Ib(s,o){let a=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return a}function W_(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function vE(s,o){const a=hi(o,s);if(fa(a)){const c=a[1];80&a[2]?Vl(c,a,c.template,a[8]):a[5]>0&&z_(a)}}function z_(s){for(let c=tg(s);null!==c;c=ng(c))for(let d=10;d<c.length;d++){const p=c[d];if(1024&p[2]){const _=p[1];Vl(_,p,_.template,p[8])}else p[5]>0&&z_(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=hi(a[c],s);fa(d)&&d[5]>0&&z_(d)}}function bE(s,o){const a=hi(o,s),c=a[1];(function q_(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),Iu(c,a,a[8])}function Dg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Z_(s){for(;s;){s[2]|=64;const o=$h(s);if(oh(s)&&!o)return s;s=o}return null}function wg(s,o,a){const c=o[10];c.begin&&c.begin();try{Vl(s,o,s.template,a)}catch(d){throw tf(o,d),d}finally{c.end&&c.end()}}function Sb(s){!function ef(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],c=Fn(a),d=c[1];gb(d,c,d.template,a)}}(s[8])}function K_(s,o,a){lo(0),o(s,a)}const CE=(()=>Promise.resolve(null))();function Ab(s){return s[7]||(s[7]=[])}function ns(s){return s.cleanup||(s.cleanup=[])}function tf(s,o){const a=s[9],c=a?a.get(Bh,null):null;c&&c.handleError(o)}function Eg(s,o,a,c,d){for(let p=0;p<a.length;){const _=a[p++],D=a[p++],w=o[_],I=s.data[_];null!==I.setInput?I.setInput(w,d,c,D):w[D]=d}}function ja(s,o,a){let c=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const D=o[_];"number"==typeof D?p=D:1==p?d=se(d,D):2==p&&(c=se(c,D+": "+o[++_]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=d:s.classesWithoutHost=d}const Y_=new yn("INJECTOR",-1);class Q_{get(o,a=Us){if(a===Us){const c=new Error(`NullInjectorError: No provider for ${re(o)}!`);throw c.name="NullInjectorError",c}return a}}const Tg=new yn("Set Injector scope."),Ul={},_A={};let $a;function J_(){return void 0===$a&&($a=new Q_),$a}function Mb(s,o=null,a=null,c){const d=Ob(s,o,a,c);return d._resolveInjectorDefTypes(),d}function Ob(s,o=null,a=null,c){return new xb(s,a,o||J_(),c)}class xb{constructor(o,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&En(a,D=>this.processProvider(D,o,a)),En([o],D=>this.processInjectorType(D,[],p)),this.records.set(Y_,od(void 0,this));const _=this.records.get(Tg);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:re(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Us,c=vt.Default){this.assertNotDestroyed();const d=ke(this),p=In(void 0);try{if(!(c&vt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const w=function yA(s){return"function"==typeof s||"object"==typeof s&&s instanceof yn}(o)&&vn(o);D=w&&this.injectableDefInScope(w)?od(X_(o),Ul):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&vt.Self?J_():this.parent).get(o,a=c&vt.Optional&&a===Us?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[_o]=_[_o]||[]).unshift(re(o)),d)throw _;return function yo(s,o,a,c){const d=s[_o];throw o[L]&&d.unshift(o[L]),s.message=function yu(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=re(o);if(Array.isArray(o))d=o.map(re).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let D=o[_];p.push(_+":"+("string"==typeof D?JSON.stringify(D):re(D)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${s.replace(C,"\n  ")}`}("\n"+s.message,d,a,c),s.ngTokenPath=d,s[_o]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{In(p),ke(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(re(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,"")}processInjectorType(o,a,c){if(!(o=ee(o)))return!1;let d=ai(o);const p=null==d&&o.ngModule||void 0,_=void 0===p?o:p,D=-1!==c.indexOf(_);if(void 0!==p&&(d=ai(p)),null==d)return!1;if(null!=d.imports&&!D){let N;c.push(_);try{En(d.imports,P=>{this.processInjectorType(P,a,c)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:B,providers:Q}=N[P];En(Q,pe=>this.processProvider(pe,B,Q||U))}}this.injectorDefTypes.add(_);const w=cs(_)||(()=>new _);this.records.set(_,od(w,Ul));const I=d.providers;if(null!=I&&!D){const N=o;En(I,P=>this.processProvider(P,N,I))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,c){let d=ad(o=ee(o))?o:ee(o&&o.provide);const p=function ME(s,o,a){return Rb(s)?od(void 0,s.useValue):od(ey(s),Ul)}(o);if(ad(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=od(void 0,Ul,!0),_.factory=()=>Ur(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,p)}hydrate(o,a){return a.value===Ul&&(a.value=_A,a.value=a.factory()),"object"==typeof a.value&&a.value&&function RE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ee(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function X_(s){const o=vn(s),a=null!==o?o.factory:cs(s);if(null!==a)return a;if(s instanceof yn)throw new Fe(204,"");if(s instanceof Function)return function NE(s){const o=s.length;if(o>0)throw zo(o,"?"),new Fe(204,"");const a=function Qt(s){const o=s&&(s[ui]||s[bn]);if(o){const a=function as(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Fe(204,"")}function ey(s,o,a){let c;if(ad(s)){const d=ee(s);return cs(d)||X_(d)}if(Rb(s))c=()=>ee(s.useValue);else if(function ty(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Ur(s.deps||[]));else if(function OE(s){return!(!s||!s.useExisting)}(s))c=()=>ze(ee(s.useExisting));else{const d=ee(s&&(s.useClass||s.provide));if(!function kb(s){return!!s.deps}(s))return cs(d)||X_(d);c=()=>new d(...Ur(s.deps))}return c}function od(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Rb(s){return null!==s&&"object"==typeof s&&K in s}function ad(s){return"function"==typeof s}let Gs=(()=>{class s{static create(a,c){var d;if(Array.isArray(a))return Mb({name:""},c,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return Mb({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=Us,s.NULL=new Q_,s.\u0275prov=Kt({token:s,providedIn:"any",factory:()=>ze(Y_)}),s.__NG_ELEMENT_ID__=-1,s})();function Vb(s,o){Da(Fn(s)[1],dn())}function Sg(s){let o=function uy(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let d;if(ki(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Fe(903,"");d=o.\u0275dir}if(d){if(a){c.push(d);const _=s;_.inputs=ld(s.inputs),_.declaredInputs=ld(s.declaredInputs),_.outputs=ld(s.outputs);const D=d.hostBindings;D&&$b(s,D);const w=d.viewQuery,I=d.contentQueries;if(w&&Bb(s,w),I&&jb(s,I),ue(s.inputs,d.inputs),ue(s.declaredInputs,d.declaredInputs),ue(s.outputs,d.outputs),ki(d)&&d.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const D=p[_];D&&D.ngInherit&&D(s),D===Sg&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Ub(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Lr(d.hostAttrs,a=Lr(a,d.hostAttrs))}}(c)}function ld(s){return s===Yr?{}:s===U?[]:s}function Bb(s,o){const a=s.viewQuery;s.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function jb(s,o){const a=s.contentQueries;s.contentQueries=a?(c,d,p)=>{o(c,d,p),a(c,d,p)}:o}function $b(s,o){const a=s.hostBindings;s.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}let Ag=null;function Su(){if(!Ag){const s=bt.Symbol;if(s&&s.iterator)Ag=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Ag=c)}}}return Ag}function cf(s){return!!hy(s)&&(Array.isArray(s)||!(s instanceof Map)&&Su()in s)}function hy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ys(s,o,a){return s[o]=a}function Br(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Bl(s,o,a,c){const d=Br(s,o,a);return Br(s,o+1,c)||d}function fy(s,o,a,c){const d=xe();return Br(d,Li(),o)&&(Bt(),function Co(s,o,a,c,d,p){const _=cr(s,o);Tb(o[11],_,p,s.value,a,c,d)}(kn(),d,s,o,a,c)),fy}function bs(s,o,a,c){return Br(s,Li(),a)?o+Y(a)+c:kt}function jE(s,o,a,c,d,p,_,D){const w=xe(),I=Bt(),N=s+20,P=I.firstCreatePass?function Qb(s,o,a,c,d,p,_,D,w){const I=o.consts,N=td(o,s,4,_||null,Fi(I,D));G_(o,a,N,Fi(I,w)),Da(o,N);const P=N.tViews=vg(2,N,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,I,w,o,a,c,d,p,_):I.data[N];Jr(P,!1);const B=w[11].createComment("");wu(I,w,B,P),rt(B,w),Dg(w,w[N]=W_(B,w,B,P)),As(P)&&id(I,w,P),null!=_&&yg(w,P,D)}function Mg(s){return fs(function Ju(){return dt.lFrame.contextLView}(),20+s)}function pf(s,o=vt.Default){const a=xe();return null===a?ze(s,o):fl(dn(),a,ee(s),o)}function Ey(){throw new Error("invalid")}function Rg(s,o,a){const c=xe();return Br(c,Li(),o)&&Si(Bt(),kn(),c,s,o,c[11],a,!1),Rg}function Ty(s,o,a,c,d){const _=d?"class":"style";Eg(s,a,o.inputs[_],_,c)}function Cy(s,o,a,c){const d=xe(),p=Bt(),_=20+s,D=d[11],w=d[_]=b_(D,o,function lu(){return dt.lFrame.currentNamespace}()),I=p.firstCreatePass?function nT(s,o,a,c,d,p,_){const D=o.consts,I=td(o,s,2,d,Fi(D,p));return G_(o,a,I,Fi(D,_)),null!==I.attrs&&ja(I,I.attrs,!1),null!==I.mergedAttrs&&ja(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(_,p,d,0,o,a,c):p.data[_];Jr(I,!0);const N=I.mergedAttrs;null!==N&&ul(D,w,N);const P=I.classes;null!==P&&zh(D,w,P);const B=I.styles;null!==B&&X0(D,w,B),64!=(64&I.flags)&&wu(p,d,w,I),0===function su(){return dt.lFrame.elementDepthCount}()&&rt(w,d),function io(){dt.lFrame.elementDepthCount++}(),As(I)&&(id(p,d,I),function $_(s,o,a){if(_r(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}(p,I,d)),null!==c&&yg(d,I)}function Ct(){let s=dn();xs()?pa():(s=s.parent,Jr(s,!1));const o=s;!function so(){dt.lFrame.elementDepthCount--}();const a=Bt();a.firstCreatePass&&(Da(a,s),_r(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function co(s){return 0!=(16&s.flags)}(o)&&Ty(a,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function gh(s){return 0!=(32&s.flags)}(o)&&Ty(a,o,xe(),o.stylesWithoutHost,!1)}function jn(s,o,a,c){Cy(s,o,a,c),Ct()}function Mu(){return xe()}function Sy(s){return!!s&&"function"==typeof s.then}function uD(s){return!!s&&"function"==typeof s.subscribe}const lD=uD;function Ay(s,o,a,c){const d=xe(),p=Bt(),_=dn();return function dD(s,o,a,c,d,p,_,D){const w=As(c),N=s.firstCreatePass&&ns(s),P=o[8],B=Ab(o);let Q=!0;if(3&c.type||D){const qe=cr(c,o),ut=D?D(qe):qe,Ne=B.length,wt=D?ce=>D(Vn(ce[c.index])):c.index;if(Mn(a)){let ce=null;if(!D&&w&&(ce=function rT(s,o,a,c){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===c){const D=o[7],w=d[p+2];return D.length>w?D[w]:null}"string"==typeof _&&(p+=2)}return null}(s,o,d,c.index)),null!==ce)(ce.__ngLastListenerFn__||ce).__ngNextListenerFn__=p,ce.__ngLastListenerFn__=p,Q=!1;else{p=Ou(c,o,P,p,!1);const rn=a.listen(ut,d,p);B.push(p,rn),N&&N.push(d,wt,Ne,Ne+1)}}else p=Ou(c,o,P,p,!0),ut.addEventListener(d,p,_),B.push(p),N&&N.push(d,wt,Ne,_)}else p=Ou(c,o,P,p,!1);const pe=c.outputs;let Ue;if(Q&&null!==pe&&(Ue=pe[d])){const qe=Ue.length;if(qe)for(let ut=0;ut<qe;ut+=2){const or=o[Ue[ut]][Ue[ut+1]].subscribe(p),hc=B.length;B.push(p,or),N&&N.push(d,c.index,hc,-(hc+1))}}}(p,d,d[11],_,s,o,!!a,c),Ay}function hD(s,o,a,c){try{return!1!==a(c)}catch(d){return tf(s,d),!1}}function Ou(s,o,a,c,d){return function p(_){if(_===Function)return c;const D=2&s.flags?hi(s.index,o):o;0==(32&o[2])&&Z_(D);let w=hD(o,0,c,_),I=p.__ngNextListenerFn__;for(;I;)w=hD(o,0,I,_)&&w,I=I.__ngNextListenerFn__;return d&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function iT(s=1){return function Rp(s){return(dt.lFrame.contextLView=function kp(s,o){for(;s>0;)o=o[15],s--;return o}(s,dt.lFrame.contextLView))[8]}(s)}function sT(s,o){let a=null;const c=function Q1(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===c?tb(s,p,!0):M_(c,p))return d}else a=d}return a}function Ny(s){const o=xe()[16][6];if(!o.projection){const c=o.projection=zo(s?s.length:1,null),d=c.slice();let p=o.child;for(;null!==p;){const _=s?sT(p,s):0;null!==_&&(d[_]?d[_].projectionNext=p:c[_]=p,d[_]=p),p=p.next}}}function fD(s,o=0,a){const c=xe(),d=Bt(),p=td(d,20+s,16,null,a||null);null===p.projection&&(p.projection=o),pa(),64!=(64&p.flags)&&function ag(s,o,a){Qc(o[11],0,o,a,wo(s,a,o),C_(a.parent||o[6],a,o))}(d,c,p)}function My(s,o,a){return kg(s,"",o,"",a),My}function kg(s,o,a,c,d){const p=xe(),_=bs(p,o,a,c);return _!==kt&&Si(Bt(),kn(),p,s,_,p[11],d,!1),kg}function gf(s,o,a,c,d){const p=s[a+1],_=null===o;let D=c?es(p):To(p),w=!1;for(;0!==D&&(!1===w||_);){const N=s[D+1];lT(s[D],o)&&(w=!0,s[D+1]=c?kl(N):hg(N)),D=c?es(N):To(N)}w&&(s[a+1]=c?hg(p):kl(p))}function lT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Oa(s,o)>=0}const jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mD(s){return s.substring(jr.key,jr.keyEnd)}function _D(s,o){const a=jr.textEnd;return a===o?-1:(o=jr.keyEnd=function fT(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,jr.key=o,a),mf(s,o,a))}function mf(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function _f(s,o,a){return fe(s,o,a,!1),_f}function $n(s,o){return fe(s,o,null,!0),$n}function yT(s){$r(Ei,Xo,s,!0)}function Xo(s,o){for(let a=function dT(s){return function gd(s){jr.key=0,jr.keyEnd=0,jr.value=0,jr.valueEnd=0,jr.textEnd=s.length}(s),_D(s,mf(s,0,jr.textEnd))}(o);a>=0;a=_D(o,a))Ei(s,mD(o),!0)}function fe(s,o,a,c){const d=xe(),p=Bt(),_=ps(2);p.firstUpdatePass&&Ha(p,s,_,c),o!==kt&&Br(d,_,o)&&bD(p,p.data[rr()],d,d[11],s,d[_+1]=function bT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=re(vo(s)))),s}(o,a),c,_)}function $r(s,o,a,c){const d=Bt(),p=ps(2);d.firstUpdatePass&&Ha(d,null,p,c);const _=xe();if(a!==kt&&Br(_,p,a)){const D=d.data[rr()];if(DD(D,c)&&!yf(d,p)){let w=c?D.classesWithoutHost:D.stylesWithoutHost;null!==w&&(a=se(w,a||"")),Ty(d,D,_,a,c)}else!function bf(s,o,a,c,d,p,_,D){d===kt&&(d=U);let w=0,I=0,N=0<d.length?d[0]:null,P=0<p.length?p[0]:null;for(;null!==N||null!==P;){const B=w<d.length?d[w+1]:void 0,Q=I<p.length?p[I+1]:void 0;let Ue,pe=null;N===P?(w+=2,I+=2,B!==Q&&(pe=P,Ue=Q)):null===P||null!==N&&N<P?(w+=2,pe=N):(I+=2,pe=P,Ue=Q),null!==pe&&bD(s,o,a,c,pe,Ue,_,D),N=w<d.length?d[w]:null,P=I<p.length?p[I]:null}}(d,D,_,_[11],_[p+1],_[p+1]=function Pg(s,o,a){if(null==a||""===a)return U;const c=[],d=vo(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)s(c,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&s(c,p,d[p]);else"string"==typeof d&&o(c,d);return c}(s,o,a),c,p)}}function yf(s,o){return o>=s.expandoStartIndex}function Ha(s,o,a,c){const d=s.data;if(null===d[a+1]){const p=d[rr()],_=yf(s,a);DD(p,c)&&null===o&&!_&&(o=!1),o=function Ht(s,o,a,c){const d=function uo(s){const o=dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=At(a=vf(null,s,o,a,c),o.attrs,c),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(a=vf(d,s,o,a,c),null===p){let w=function vT(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==To(c))return s[es(c)]}(s,o,c);void 0!==w&&Array.isArray(w)&&(w=vf(null,s,o,w[1],c),w=At(w,o.attrs,c),function Wa(s,o,a,c){s[es(a?o.classBindings:o.styleBindings)]=c}(s,o,c,w))}else p=function at(s,o,a){let c;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)c=At(c,s[p].hostAttrs,a);return At(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,c),function SA(s,o,a,c,d,p){let _=p?o.classBindings:o.styleBindings,D=es(_),w=To(_);s[c]=a;let N,I=!1;if(Array.isArray(a)){const P=a;N=P[1],(null===N||Oa(P,N)>0)&&(I=!0)}else N=a;if(d)if(0!==w){const B=es(s[D+1]);s[c+1]=dg(B,D),0!==B&&(s[B+1]=Zh(s[B+1],c)),s[D+1]=function R_(s,o){return 131071&s|o<<17}(s[D+1],c)}else s[c+1]=dg(D,0),0!==D&&(s[D+1]=Zh(s[D+1],c)),D=c;else s[c+1]=dg(w,0),0===D?D=c:s[w+1]=Zh(s[w+1],c),w=c;I&&(s[c+1]=hg(s[c+1])),gf(s,N,c,!0),gf(s,N,c,!1),function uT(s,o,a,c,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Oa(p,o)>=0&&(a[c+1]=kl(a[c+1]))}(o,N,s,c,p),_=dg(D,w),p?o.classBindings=_:o.styleBindings=_}(d,p,o,a,_,c)}}function vf(s,o,a,c,d){let p=null;const _=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<_&&(p=o[D],c=At(c,p.hostAttrs,d),p!==s);)D++;return null!==s&&(a.directiveStylingLast=D),c}function At(s,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ei(s,_,!!a||o[++p]))}return void 0===s?null:s}function bD(s,o,a,c,d,p,_,D){if(!(3&o.type))return;const w=s.data,I=w[D+1];Vg(function sb(s){return 1==(1&s)}(I)?Lg(w,o,a,d,To(I),_):void 0)||(Vg(p)||function x_(s){return 2==(2&s)}(I)&&(p=Lg(w,null,a,d,D,_)),function ug(s,o,a,c,d){const p=Mn(s);if(o)d?p?s.addClass(a,c):a.classList.add(c):p?s.removeClass(a,c):a.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:Xi.DashCase;if(null==d)p?s.removeStyle(a,c,_):a.style.removeProperty(c);else{const D="string"==typeof d&&d.endsWith("!important");D&&(d=d.slice(0,-10),_|=Xi.Important),p?s.setStyle(a,c,d,_):a.style.setProperty(c,d,D?"important":"")}}}(c,_,Fr(rr(),a),d,p))}function Lg(s,o,a,c,d,p){const _=null===o;let D;for(;d>0;){const w=s[d],I=Array.isArray(w),N=I?w[1]:w,P=null===N;let B=a[d+1];B===kt&&(B=P?U:void 0);let Q=P?wh(B,c):N===c?B:void 0;if(I&&!Vg(Q)&&(Q=wh(w,c)),Vg(Q)&&(D=Q,_))return D;const pe=s[d+1];d=_?es(pe):To(pe)}if(null!==o){let w=p?o.residualClasses:o.residualStyles;null!=w&&(D=wh(w,c))}return D}function Vg(s){return void 0!==s}function DD(s,o){return 0!=(s.flags&(o?16:32))}function ei(s,o=""){const a=xe(),c=Bt(),d=s+20,p=c.firstCreatePass?td(c,d,1,o,null):c.data[d],_=a[d]=y_(a[11],o);wu(c,a,_,p),Jr(p,!1)}function md(s){return Rr("",s,""),md}function Rr(s,o,a){const c=xe(),d=bs(c,s,o,a);return d!==kt&&function Io(s,o,a){const c=Fr(o,s);v_(s[11],c,a)}(c,rr(),d),Rr}function Df(s,o,a){$r(Ei,Xo,bs(xe(),s,o,a),!0)}function Hg(s,o,a){const c=xe();return Br(c,Li(),o)&&Si(Bt(),kn(),c,s,o,c[11],a,!0),Hg}const zl=void 0;var Ef=["en",[["a","p"],["AM","PM"],zl],[["AM","PM"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ai(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let yd={};function Gy(s){const o=function Hy(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Cf(o);if(a)return a;const c=o.split("-")[0];if(a=Cf(c),a)return a;if("en"===c)return Ef;throw new Error(`Missing locale data for the locale "${s}".`)}function Tf(s){return Gy(s)[Tt.PluralCase]}function Cf(s){return s in yd||(yd[s]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[s]),yd[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const Wy=["zero","one","two","few","many"],If="en-US",Sf={marker:"element"},Af={marker:"ICU"};var Jn=(()=>((Jn=Jn||{})[Jn.SHIFT=2]="SHIFT",Jn[Jn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Jn[Jn.COMMENT=2]="COMMENT",Jn))();let UD=If;function zg(s,o,a){const c=o.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?I_(s,0,a):Vn(a[d])}function Gr(s,o,a,c,d){const p=o.insertBeforeIndex;if(Array.isArray(p)){let _=c,D=null;if(3&o.type||(D=_,_=d),null!==_&&0==(2&o.flags))for(let w=1;w<p.length;w++)xl(s,_,a[p[w]],D,!1)}}function ti(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const c=s[a];Nf(c)||Zy(c,o)&&null===CT(c)&&IT(c,o.index)}}function Nf(s){return!(64&s.type)}function Zy(s,o){return Nf(o)||s.index>o.index}function CT(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function IT(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(zt(zg,Gr),s.insertBeforeIndex=o)}function vd(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Ky(s,o,a){const c=j_(s,a,64,null,null);return ti(o,c),c}function bd(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function BD(s){return s>>>17}function qg(s){return(131070&s)>>>1}let xu=0,ql=0;function Dd(s,o,a,c){const d=a[11];let _,p=null;for(let D=0;D<o.length;D++){const w=o[D];if("string"==typeof w){const I=o[++D];null===a[I]&&(a[I]=y_(d,w))}else if("number"==typeof w)switch(1&w){case 0:const I=BD(w);let N,P;if(null===p&&(p=I,_=Gh(d,c)),I===p?(N=c,P=_):(N=null,P=Vn(a[I])),null!==P){const Ue=qg(w);xl(d,P,a[Ue],N,!1);const ut=vd(s,Ue);if(null!==ut&&"object"==typeof ut){const Ne=bd(ut,a);null!==Ne&&Dd(s,ut.create[Ne],a,a[ut.anchorIdx])}}break;case 1:const Q=o[++D],pe=o[++D];Tb(d,Fr(w>>>1,a),null,null,Q,pe,null)}else switch(w){case Af:const I=o[++D],N=o[++D];null===a[N]&&rt(a[N]=Gt(d,I),a);break;case Sf:const P=o[++D],B=o[++D];null===a[B]&&rt(a[B]=b_(d,P,null),a)}}}function Jy(s,o,a,c,d){for(let p=0;p<a.length;p++){const _=a[p],D=a[++p];if(_&d){let w="";for(let I=p+1;I<=p+D;I++){const N=a[I];if("string"==typeof N)w+=N;else if("number"==typeof N)if(N<0)w+=Y(o[c-N]);else{const P=N>>>2;switch(3&N){case 1:const B=a[++I],Q=a[++I],pe=s.data[P];"string"==typeof pe?Tb(o[11],o[P],null,pe,B,w,Q):Si(s,pe,o,B,w,o[11],Q,!1);break;case 0:const Ue=o[P];null!==Ue&&v_(o[11],Ue,w);break;case 2:$D(s,vd(s,P),o,w);break;case 3:Xy(s,vd(s,P),c,o)}}}}else{const w=a[p+1];if(w>0&&3==(3&w)){const N=vd(s,w>>>2);o[N.currentCaseLViewIndex]<0&&Xy(s,N,c,o)}}p+=D}}function Xy(s,o,a,c){let d=c[o.currentCaseLViewIndex];if(null!==d){let p=xu;d<0&&(d=c[o.currentCaseLViewIndex]=~d,p=-1),Jy(s,c,o.update[d],a,p)}}function $D(s,o,a,c){const d=function OT(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const c=function VD(s,o){const a=Tf(o)(parseInt(s,10)),c=Wy[a];return void 0!==c?c:"other"}(o,function qy(){return UD}());a=s.cases.indexOf(c),-1===a&&"other"!==c&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,c);if(bd(o,a)!==d&&(Mf(s,o,a),a[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const _=a[o.anchorIdx];_&&Dd(s,o.create[d],a,_)}}function Mf(s,o,a){let c=bd(o,a);if(null!==c){const d=o.remove[c];for(let p=0;p<d.length;p++){const _=d[p];if(_>0){const D=Fr(_,a);null!==D&&A_(a[11],D)}else Mf(s,vd(s,~_),a)}}}function xT(){const s=[];let a,c,o=-1;function p(D,w){o=0;const I=bd(D,w);c=null!==I?D.remove[I]:U}function _(){if(o<c.length){const D=c[o++];return D>0?a[D]:(s.push(o,c),p(a[1].data[~D],a),_())}return 0===s.length?null:(c=s.pop(),o=s.pop(),_())}return function d(D,w){for(a=w;s.length;)s.pop();return p(D.value,w),_}}const Zl=/\ufffd(\d+):?\d*\ufffd/gi,xf=/\ufffd(\d+)\ufffd/,tv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,HD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Rf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Zg=/\uE500/g;function rv(s,o,a,c,d,p,_){const D=nd(s,c,1,null);let w=D<<Jn.SHIFT,I=oo();o===I&&(I=null),null===I&&(w|=Jn.APPEND_EAGERLY),_&&(w|=Jn.COMMENT,function j1(s){void 0===eg&&(eg=s())}(xT)),d.push(w,null===p?"":p);const N=j_(s,D,_?32:1,null===p?"":p,null);ti(a,N);const P=N.index;return Jr(N,!1),null!==I&&o!==I&&function AT(s,o){let a=s.insertBeforeIndex;null===a?(zt(zg,Gr),a=s.insertBeforeIndex=[null,o]):(function J(s,o,a){s!=o&&ft(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(I,P),N}function zD(s,o,a,c,d,p,_){const D=_.match(Zl),w=rv(s,o,a,p,c,D?null:_,!1);D&&Ru(d,_,w.index,null,0,null)}function Ru(s,o,a,c,d,p){const _=s.length,D=_+1;s.push(null,null);const w=_+2,I=o.split(Zl);let N=0;for(let P=0;P<I.length;P++){const B=I[P];if(1&P){const Q=d+parseInt(B,10);s.push(-1-Q),N|=Kg(Q)}else""!==B&&s.push(B)}return s.push(a<<2|(c?1:0)),c&&s.push(c,p),s[_]=N,s[D]=s.length-w,N}function Kg(s){return 1<<Math.min(s,31)}function Ed(s){let o,p,a="",c=0,d=!1;for(;null!==(o=HD.exec(s));)d?o[0]===`\ufffd/*${p}\ufffd`&&(c=o.index,d=!1):(a+=s.substring(c,o.index+o[0].length),p=o[1],d=!0);return a+=s.substr(c),a}function ZD(s,o,a,c,d,p){let _=0;const D={type:d.type,currentCaseLViewIndex:nd(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function RT(s,o,a){s.push(Kg(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,d,p),function ST(s,o,a){const c=s.data[o];null===c?s.data[o]=a:c.value=a}(s,p,D);const w=d.values;for(let I=0;I<w.length;I++){const N=w[I],P=[];for(let B=0;B<N.length;B++){const Q=N[B];if("string"!=typeof Q){const pe=P.push(Q)-1;N[B]=`\x3c!--\ufffd${pe}\ufffd--\x3e`}}_=ov(s,D,o,a,c,d.cases[I],N.join(""),P)|_}_&&function Pf(s,o,a){s.push(o,1,a<<2|3)}(a,_,p)}function sv(s){const o=[],a=[];let c=1,d=0;const p=Td(s=s.replace(tv,function(_,D,w){return c="select"===w?0:1,d=parseInt(D.substr(1),10),""}));for(let _=0;_<p.length;){let D=p[_++].trim();1===c&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const w=Td(p[_++]);o.length>a.length&&a.push(w)}return{type:c,mainBinding:d,cases:o,values:a}}function Td(s){if(!s)return[];let o=0;const a=[],c=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(s);){const D=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const w=s.substring(o,D);tv.test(w)?c.push(sv(w)):c.push(w),o=D+1}}else{if(0==a.length){const w=s.substring(o,D);c.push(w),o=D+1}a.push("{")}}const _=s.substring(o);return c.push(_),c}function ov(s,o,a,c,d,p,_,D){const w=[],I=[],N=[];o.cases.push(p),o.create.push(w),o.remove.push(I),o.update.push(N);const B=function Mh(s){const o=new Hc(s);return function l_(){try{return!!(new window.DOMParser).parseFromString(js(""),"text/html")}catch(s){return!1}}()?new u_(o):o}(da()).getInertBodyElement(_),Q=function zc(s){return"content"in s&&function y(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(B)||B;return Q?av(s,o,a,c,w,I,N,Q,d,D,0):0}function av(s,o,a,c,d,p,_,D,w,I,N){let P=0,B=D.firstChild;for(;B;){const Q=nd(s,a,1,null);switch(B.nodeType){case Node.ELEMENT_NODE:const pe=B,Ue=pe.tagName.toLowerCase();if(Il.hasOwnProperty(Ue)){Qg(d,Sf,Ue,w,Q),s.data[Q]=Ue;const wt=pe.attributes;for(let ce=0;ce<wt.length;ce++){const rn=wt.item(ce),or=rn.name.toLowerCase();rn.value.match(Zl)?kh.hasOwnProperty(or)&&Ru(_,rn.value,Q,rn.name,0,qp[or]?El:ka[or]?zp:null):Jg(d,Q,rn)}P=av(s,o,a,c,d,p,_,B,Q,I,N+1)|P,uv(p,Q,N)}break;case Node.TEXT_NODE:const qe=B.textContent||"",ut=qe.match(Zl);Qg(d,null,ut?"":qe,w,Q),uv(p,Q,N),ut&&(P=Ru(_,qe,Q,null,0,null)|P);break;case Node.COMMENT_NODE:const Ne=xf.exec(B.textContent||"");if(Ne){const ce=I[parseInt(Ne[1],10)];Qg(d,Af,"",w,Q),ZD(s,a,c,w,ce,Q),KD(p,Q,N)}}B=B.nextSibling}return P}function uv(s,o,a){0===a&&s.push(o)}function KD(s,o,a){0===a&&(s.push(~o),s.push(o))}function Qg(s,o,a,c,d){null!==o&&s.push(o),s.push(a,d,function NT(s,o,a){return s|o<<17|a<<1}(0,c,d))}function Jg(s,o,a){s.push(o<<1|1,a.name,a.value)}function QD(s,o,a=-1){const c=Bt(),d=xe(),p=20+s,_=Fi(c.consts,o),D=oo();c.firstCreatePass&&function nv(s,o,a,c,d,p){const _=oo(),D=[],w=[],I=[[]];d=function qD(s,o){if(function Yg(s){return-1===s}(o))return Ed(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Ed(s.substring(a,c))}}(d,p);const N=function WD(s){return s.replace(Zg," ")}(d).split(Rf);for(let P=0;P<N.length;P++){let B=N[P];if(0==(1&P)){const Q=Td(B);for(let pe=0;pe<Q.length;pe++){let Ue=Q[pe];if(0==(1&pe)){const qe=Ue;""!==qe&&zD(s,_,I[0],D,w,a,qe)}else{const qe=Ue;if("object"!=typeof qe)throw new Error(`Unable to parse ICU expression in "${d}" message.`);ZD(s,a,w,o,qe,rv(s,_,I[0],a,D,"",!0).index)}}}else{const Q=47===B.charCodeAt(0),Ue=(B.charCodeAt(Q?1:0),20+Number.parseInt(B.substring(Q?2:1)));if(Q)I.shift(),Jr(oo(),!1);else{const qe=Ky(s,I[0],Ue);I.unshift([]),Jr(qe,!0)}}}s.data[c]={create:D,update:w}}(c,null===D?0:D.index,d,p,_,a);const w=c.data[p],N=Q0(c,D===d[6]?null:D,d);(function MT(s,o,a,c){const d=s[11];for(let p=0;p<o.length;p++){const _=o[p++],D=o[p],w=(_&Jn.COMMENT)===Jn.COMMENT,I=(_&Jn.APPEND_EAGERLY)===Jn.APPEND_EAGERLY,N=_>>>Jn.SHIFT;let P=s[N];null===P&&(P=s[N]=w?d.createComment(D):y_(d,D)),I&&null!==a&&xl(d,a,P,c,!1)}})(d,w.create,N,D&&8&D.type?d[D.index]:null),ao(!0)}function ea(s,o,a){QD(s,o,a),function ku(){ao(!1)}()}function Sd(s){return function Qy(s){s&&(xu|=1<<Math.min(ql,31)),ql++}(Br(xe(),Li(),s)),Sd}function Ff(s){!function jD(s,o,a){if(ql>0){const c=s.data[a];Jy(s,o,Array.isArray(c)?c:c.update,function Di(){return dt.lFrame.bindingIndex}()-ql-1,xu)}xu=0,ql=0}(Bt(),xe(),s+20)}function Ad(s,o,a,c,d){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)Ad(s[p],o,a,c,d);else{const p=Bt(),_=xe();let D=ad(s)?s:ee(s.provide),w=ey(s);const I=dn(),N=1048575&I.providerIndexes,P=I.directiveStart,B=I.providerIndexes>>20;if(ad(s)||!s.multi){const Q=new Kn(w,d,pf),pe=Ql(D,o,d?N:N+B,P);-1===pe?(dr(Go(I,_),p,D),hv(p,s,o.length),o.push(D),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(Q),_.push(Q)):(a[pe]=Q,_[pe]=Q)}else{const Q=Ql(D,o,N+B,P),pe=Ql(D,o,N,N+B),Ue=Q>=0&&a[Q],qe=pe>=0&&a[pe];if(d&&!qe||!d&&!Ue){dr(Go(I,_),p,D);const ut=function FT(s,o,a,c,d){const p=new Kn(s,a,pf);return p.multi=[],p.index=o,p.componentProviders=0,XD(p,d,c&&!a),p}(d?PT:Lf,a.length,d,c,w);!d&&qe&&(a[pe].providerFactory=ut),hv(p,s,o.length,0),o.push(D),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(ut),_.push(ut)}else hv(p,s,Q>-1?Q:pe,XD(a[d?pe:Q],w,!d&&c));!d&&c&&qe&&a[pe].componentProviders++}}}function hv(s,o,a,c){const d=ad(o),p=function xE(s){return!!s.useClass}(o);if(d||p){const w=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(w){const I=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const N=I.indexOf(a);-1===N?I.push(a,[c,w]):I[N+1].push(c,w)}else I.push(a,w)}}}function XD(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Ql(s,o,a,c){for(let d=a;d<c;d++)if(o[d]===s)return d;return-1}function Lf(s,o,a,c){return em(this.multi,[])}function PT(s,o,a,c){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,D=Sn(a,a[1],this.providerFactory.index,c);p=D.slice(0,_),em(d,p);for(let w=_;w<D.length;w++)p.push(D[w])}else p=[],em(d,p);return p}function em(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function ew(s,o=[]){return a=>{a.providersResolver=(c,d)=>function Xn(s,o,a){const c=Bt();if(c.firstCreatePass){const d=ki(s);Ad(a,c.data,c.blueprint,d,!0),Ad(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class tw{}class nw{resolveComponentFactory(o){throw function Vf(s){const o=Error(`No component factory found for ${re(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Nd=(()=>{class s{}return s.NULL=new nw,s})();function Md(){return Od(dn(),xe())}function Od(s,o){return new Uf(cr(s,o))}let Uf=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Md,s})();function rw(s){return s instanceof Uf?s.nativeElement:s}class fv{}let iw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function gv(){const s=xe(),a=hi(dn().index,s);return function pv(s){return s[11]}(vi(a)?a:s)}(),s})(),sw=(()=>{class s{}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:()=>null}),s})();class mv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const tm=new mv("13.1.3"),_v={};function nm(s,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(Vn(p)),Zi(p))for(let D=10;D<p.length;D++){const w=p[D],I=w[1].firstChild;null!==I&&nm(w[1],w,I,c)}const _=a.type;if(8&_)nm(s,o,a.child,c);else if(32&_){const D=__(a,o);let w;for(;w=D();)c.push(w)}else if(16&_){const D=Eu(o,a);if(Array.isArray(D))c.push(...D);else{const w=$h(o[16]);nm(w[1],w,D,c,!0)}}a=d?a.projectionNext:a.next}return c}class Bf{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return nm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Zi(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(rg(o,c),Aa(a,c))}this._attachedToViewContainer=!1}w_(this._lView[1],this._lView)}onDestroy(o){yb(this._lView[1],this._lView,null,o)}markForCheck(){Z_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function wE(s,o,a){Lo(!0);try{wg(s,o,a)}finally{Lo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D_(s,o){Wh(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=o}}class rm extends Bf{constructor(o){super(o),this._view=o}detectChanges(){Sb(this._view)}checkNoChanges(){!function EE(s){Lo(!0);try{Sb(s)}finally{Lo(!1)}}(this._view)}get context(){return null}}class xd extends Nd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=gt(o);return new Jl(a,this.ngModule)}}function jf(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}const ow=new yn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xp});class Jl extends tw{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Jc(s){return s.map(Ba).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return jf(this.componentDef.inputs)}get outputs(){return jf(this.componentDef.outputs)}create(o,a,c,d){const p=(d=d||this.ngModule)?function $f(s,o){return{get:(a,c,d)=>{const p=s.get(a,_v,d);return p!==_v||c===_v?p:o.get(a,c,d)}}}(o,d.injector):o,_=p.get(fv,Ms),D=p.get(sw,null),w=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",N=c?function bg(s,o,a){if(Mn(s))return s.selectRootElement(o,a===Ft.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(w,c,this.componentDef.encapsulation):b_(_.createRenderer(null,this.componentDef),I,function yv(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(I)),P=this.componentDef.onPush?576:528,B=function Ig(s,o){return{components:[],scheduler:s||Xp,clean:CE,playerHandler:o||null,flags:0}}(),Q=vg(0,null,null,1,0,null,null,null,null,null),pe=Qh(null,Q,B,P,null,null,_,w,D,p);let Ue,qe;ya(pe);try{const ut=function oy(s,o,a,c,d,p){const _=a[1];a[20]=s;const w=td(_,20,2,"#host",null),I=w.mergedAttrs=o.hostAttrs;null!==I&&(ja(w,I,!0),null!==s&&(ul(d,s,I),null!==w.classes&&zh(d,s,w.classes),null!==w.styles&&X0(d,s,w.styles)));const N=c.createRenderer(s,o),P=Qh(a,mb(o),null,o.onPush?64:16,a[20],w,c,N,p||null,null);return _.firstCreatePass&&(dr(Go(w,a),_,o.type),H_(_,w),wb(w,a.length,1)),Dg(a,P),a[20]=P}(N,this.componentDef,pe,_,w);if(N)if(c)ul(w,N,["ng-version",tm.full]);else{const{attrs:Ne,classes:wt}=function rb(s){const o=[],a=[];let c=1,d=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++c]):8===d&&a.push(p);else{if(!Eo(d))break;d=p}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ne&&ul(w,N,Ne),wt&&wt.length>0&&zh(w,N,wt.join(" "))}if(qe=ha(Q,20),void 0!==a){const Ne=qe.projection=[];for(let wt=0;wt<this.ngContentSelectors.length;wt++){const ce=a[wt];Ne.push(null!=ce?Array.from(ce):null)}}Ue=function ay(s,o,a,c,d){const p=a[1],_=function uE(s,o,a){const c=dn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Eb(s,c,o,nd(s,o,1,null),a));const d=Sn(o,s,c.directiveStart,c);rt(d,o);const p=cr(c,o);return p&&rt(p,o),d}(p,a,o);if(c.components.push(_),s[8]=_,d&&d.forEach(w=>w(_,o)),o.contentQueries){const w=dn();o.contentQueries(1,_,w.directiveStart)}const D=dn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(vr(D.index),bb(a[1],D,0,D.directiveStart,D.directiveEnd,o),Db(o,_)),_}(ut,this.componentDef,pe,B,[Vb]),Iu(Q,pe,null)}finally{Uo()}return new aw(this.componentType,Ue,Od(qe,pe),pe,qe)}}class aw extends class LT{}{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new rm(d),this.componentType=o}get injector(){return new wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Rd{}class uw{}const kd=new Map;class wv extends Rd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xd(this);const c=tn(o);this._bootstrapComponents=Ii(c.bootstrap),this._r3Injector=Ob(o,a,[{provide:Rd,useValue:this},{provide:Nd,useValue:this.componentFactoryResolver}],re(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Gs.THROW_IF_NOT_FOUND,c=vt.Default){return o===Gs||o===Rd||o===Y_?this:this._r3Injector.get(o,a,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ev extends uw{constructor(o){super(),this.moduleType=o,null!==tn(o)&&function lw(s){const o=new Set;!function a(c){const d=tn(c,!0),p=d.id;null!==p&&(function vv(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${re(o)} vs ${re(o.name)}`)}(p,kd.get(p),c),kd.set(p,c));const _=Ii(d.imports);for(const D of _)o.has(D)||(o.add(D),a(D))}(s)}(o)}create(o){return new wv(this.moduleType,o)}}function Pd(s,o,a,c){return Sv(xe(),yr(),s,o,a,c)}function Cv(s,o,a,c,d){return function Av(s,o,a,c,d,p,_){const D=o+a;return Bl(s,D,d,p)?ys(s,D+2,_?c.call(_,d,p):c(d,p)):Za(s,D+2)}(xe(),yr(),s,o,a,c,d)}function im(s,o,a,c,d,p){return function am(s,o,a,c,d,p,_,D){const w=o+a;return function hf(s,o,a,c,d){const p=Bl(s,o,a,c);return Br(s,o+2,d)||p}(s,w,d,p,_)?ys(s,w+3,D?c.call(D,d,p,_):c(d,p,_)):Za(s,w+3)}(xe(),yr(),s,o,a,c,d,p)}function Za(s,o){const a=s[o];return a===kt?void 0:a}function Sv(s,o,a,c,d,p){const _=o+a;return Br(s,_,d)?ys(s,_+1,p?c.call(p,d):c(d)):Za(s,_+1)}function Gf(s,o){const a=Bt();let c;const d=s+20;a.firstCreatePass?(c=function hw(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const p=c.factory||(c.factory=cs(c.type)),_=In(pf);try{const D=Vr(!1),w=p();return Vr(D),function $E(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,xe(),d,w),w}finally{In(_)}}function Mv(s,o,a){const c=s+20,d=xe(),p=fs(d,c);return function Fd(s,o){return s[1].data[o].pure}(d,c)?Sv(d,yr(),o,p.transform,a,p):p.transform(a)}function Hi(s){return o=>{setTimeout(s,void 0,o)}}const No=class lm extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){var d,p,_;let D=o,w=a||(()=>null),I=c;if(o&&"object"==typeof o){const P=o;D=null===(d=P.next)||void 0===d?void 0:d.bind(P),w=null===(p=P.error)||void 0===p?void 0:p.bind(P),I=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(w=Hi(w),D&&(D=Hi(D)),I&&(I=Hi(I)));const N=super.subscribe({next:D,error:w,complete:I});return o instanceof V.w0&&o.add(N),N}};function mw(){return this._results[Su()]()}class Fu{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Su(),c=Fu.prototype;c[a]||(c[a]=mw)}get changes(){return this._changes||(this._changes=new No)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=Pn(o);(this._changesDetected=!function Fc(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hf=(()=>{class s{}return s.__NG_ELEMENT_ID__=HT,s})();const GT=Hf,Ov=class extends GT{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o){const a=this._declarationTContainer.tViews,c=Qh(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),Iu(a,c,o),new Bf(c)}};function HT(){return cm(dn(),xe())}function cm(s,o){return 4&s.type?new Ov(o,s,Od(s,o)):null}let Wf=(()=>{class s{}return s.__NG_ELEMENT_ID__=WT,s})();function WT(){return ec(dn(),xe())}const dm=Wf,_w=class extends dm{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Od(this._hostTNode,this._hostLView)}get injector(){return new wn(this._hostTNode,this._hostLView)}get parentInjector(){const o=wi(this._hostTNode,this._hostLView);if(yh(o)){const a=Ea(o,this._hostLView),c=wa(o);return new wn(a[1].data[c+8],a)}return new wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=xv(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){const d=o.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(o,a,c,d,p){const _=o&&!function Wo(s){return"function"==typeof s}(o);let D;if(_)D=a;else{const P=a||{};D=P.index,c=P.injector,d=P.projectableNodes,p=P.ngModuleRef}const w=_?o:new Jl(gt(o)),I=c||this.parentInjector;if(!p&&null==w.ngModule&&I){const P=I.get(Rd,null);P&&(p=P)}const N=w.create(I,d,void 0,p);return this.insert(N.hostView,D),N}insert(o,a){const c=o._lView,d=c[1];if(function Po(s){return Zi(s[3])}(c)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=c[3],B=new _w(P,P[6],P[3]);B.detach(B.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function G1(s,o,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=o),c<p-10?(o[4]=a[d],pu(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function H1(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=128}(d,c,_,p);const D=S_(p,_),w=c[11],I=Gh(w,_[7]);return null!==I&&function Y0(s,o,a,c,d,p){c[0]=d,c[6]=o,Wh(s,c,a,1,d,p)}(d,_[6],w,c,I,D),o.attachToViewContainerRef(),pu(zr(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=xv(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=rg(this._lContainer,a);c&&(Aa(zr(this._lContainer),a),w_(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=rg(this._lContainer,a);return c&&null!=Aa(zr(this._lContainer),a)?new Bf(c):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function xv(s){return s[8]}function zr(s){return s[8]||(s[8]=[])}function ec(s,o){let a;const c=o[s.index];if(Zi(c))a=c;else{let d;if(8&s.type)d=Vn(c);else{const p=o[11];d=p.createComment("");const _=cr(s,o);xl(p,Gh(p,_),d,function z1(s,o){return Mn(s)?s.nextSibling(o):o.nextSibling}(p,_),!1)}o[s.index]=a=W_(c,o,d,s),Dg(o,a)}return new _w(a,s,o)}class Ge{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ge(this.queryList)}setDirty(){this.queryList.setDirty()}}class fr{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new fr(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==KT(o,a).matches&&this.queries[a].setDirty()}}class Ld{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class zf{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new zf(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class mt{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new mt(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,Mt(a,p)),this.matchTNodeWithReadOption(o,a,Ps(a,o,p,!1,!1))}else c===Hf?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ps(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Uf||d===Wf||d===Hf&&4&a.type)this.addMatch(a.index,-2);else{const p=Ps(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Mt(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Xe(s,o,a,c){return-1===a?function zT(s,o){return 11&s.type?Od(s,o):4&s.type?cm(s,o):null}(o,s):-2===a?function de(s,o,a){return a===Uf?Od(o,s):a===Hf?cm(o,s):a===Wf?ec(o,s):void 0}(s,o,c):Sn(s,s[1],a,o)}function Le(s,o,a,c){const d=o[19].queries[c];if(null===d.matches){const p=s.data,_=a.matches,D=[];for(let w=0;w<_.length;w+=2){const I=_[w];D.push(I<0?null:Xe(o,p[I],_[w+1],a.metadata.read))}d.matches=D}return d.matches}function kr(s,o,a,c){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const _=Le(s,o,d,a);for(let D=0;D<p.length;D+=2){const w=p[D];if(w>0)c.push(_[D/2]);else{const I=p[D+1],N=o[-w];for(let P=10;P<N.length;P++){const B=N[P];B[17]===B[3]&&kr(B[1],B,I,c)}if(null!==N[9]){const P=N[9];for(let B=0;B<P.length;B++){const Q=P[B];kr(Q[1],Q,I,c)}}}}}return c}function kv(s){const o=xe(),a=Bt(),c=tl();lo(c+1);const d=KT(a,c);if(s.dirty&&On(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?kr(a,o,c,[]):Le(a,o,d,c);s.reset(p,rw),s.notifyOnChanges()}return!0}return!1}function yw(s,o,a){const c=Bt();c.firstCreatePass&&(Pv(c,new Ld(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),Dw(c,xe(),o)}function vw(s,o,a,c){const d=Bt();if(d.firstCreatePass){const p=dn();Pv(d,new Ld(o,a,c),p.index),function ZT(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}Dw(d,xe(),a)}function bw(){return function qT(s,o){return s[19].queries[o].queryList}(xe(),tl())}function Dw(s,o,a){const c=new Fu(4==(4&a));yb(s,o,c,c.destroy),null===o[19]&&(o[19]=new fr),o[19].queries.push(new Ge(c))}function Pv(s,o,a){null===s.queries&&(s.queries=new zf),s.queries.track(new mt(o,a))}function KT(s,o){return s.queries.getByIndex(o)}function rs(s,o){return cm(s,o)}function ym(...s){}const vm=new yn("Application Initializer");let Hd=(()=>{class s{constructor(a){this.appInits=a,this.resolve=ym,this.reject=ym,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Sy(p))a.push(p);else if(lD(p)){const _=new Promise((D,w)=>{p.subscribe({complete:D,error:w})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(ze(vm,8))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();const Tw=new yn("AppId"),eC={provide:Tw,useFactory:function XT(){return`${oc()}${oc()}${oc()}`},deps:[]};function oc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yf=new yn("Platform Initializer"),ac=new yn("Platform ID"),Cw=new yn("appBootstrapListener");let zv=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();const qs=new yn("LocaleId"),qv=new yn("DefaultCurrencyCode");class Yv{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Jf=(()=>{class s{compileModuleSync(a){return new Ev(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Ii(tn(a).declarations).reduce((_,D)=>{const w=gt(D);return w&&_.push(new Jl(w)),_},[]);return new Yv(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();const Zs=(()=>Promise.resolve(0))();function bm(s){"undefined"==typeof Zone?Zs.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ss{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new No(!1),this.onMicrotaskEmpty=new No(!1),this.onStable=new No(!1),this.onError=new No(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ep(){let s=bt.requestAnimationFrame,o=bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function nC(s){const o=()=>{!function Iw(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(bt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Dm(s),s.isCheckStableRunning=!0,uc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Dm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,_,D)=>{try{return Xv(s),a.invokeTask(d,p,_,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),e0(s)}},onInvoke:(a,c,d,p,_,D,w)=>{try{return Xv(s),a.invoke(d,p,_,D,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),e0(s)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Dm(s),uc(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ss.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ss.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,Jv,ym,ym);try{return p.runTask(_,a,c)}finally{p.cancelTask(_)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Jv={};function uc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Dm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Xv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function e0(s){s._nesting--,uc(s)}class wm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new No,this.onMicrotaskEmpty=new No,this.onStable=new No,this.onError=new No}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}let Sw=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ss.assertNotInAngularZone(),bm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(ze(ss))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})(),Aw=(()=>{class s{constructor(){this._applications=new Map,Qa.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Qa.findTestabilityInTree(this,a,c)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();class Nw{addToWindow(o){}findTestabilityInTree(o,a,c){return null}}function Wd(s){Qa=s}let Ks,Qa=new Nw;const t0=new yn("AllowMultipleToken");class Mw{constructor(o,a){this.name=o,this.token=a}}function Ow(s,o,a=[]){const c=`Platform: ${o}`,d=new yn(c);return(p=[])=>{let _=np();if(!_||_.injector.get(t0,!1))if(s)s(a.concat(p).concat({provide:d,useValue:!0}));else{const D=a.concat(p).concat({provide:d,useValue:!0},{provide:Tg,useValue:"platform"});!function tp(s){if(Ks&&!Ks.destroyed&&!Ks.injector.get(t0,!1))throw new Fe(400,"");Ks=s.get(rp);const o=s.get(Yf,null);o&&o.forEach(a=>a())}(Gs.create({providers:D,name:c}))}return function iC(s){const o=np();if(!o)throw new Fe(401,"");return o}()}}function np(){return Ks&&!Ks.destroyed?Ks:null}let rp=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const D=function sC(s,o){let a;return a="noop"===s?new wm:("zone.js"===s?void 0:s)||new ss({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:ss,useValue:D}];return D.run(()=>{const I=Gs.create({providers:w,parent:this.injector,name:a.moduleType.name}),N=a.create(I),P=N.injector.get(Bh,null);if(!P)throw new Fe(402,"");return D.runOutsideAngular(()=>{const B=D.onError.subscribe({next:Q=>{P.handleError(Q)}});N.onDestroy(()=>{Em(this._modules,N),B.unsubscribe()})}),function n0(s,o,a){try{const c=a();return Sy(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(P,D,()=>{const B=N.injector.get(Hd);return B.runInitializers(),B.donePromise.then(()=>(function zy(s){(function ht(s,o){null==s&&ft(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(UD=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(qs,If)||If),this._moduleDoBootstrap(N),N))})})}bootstrapModule(a,c=[]){const d=xw({},c);return function lc(s,o,a){const c=new Ev(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(qd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Fe(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(ze(Gs))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();function xw(s,o){return Array.isArray(o)?o.reduce(xw,s):Object.assign(Object.assign({},s),o)}let qd=(()=>{class s{constructor(a,c,d,p,_){this._zone=a,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new R.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),w=new R.y(I=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{ss.assertNotInAngularZone(),bm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{ss.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ne.T)(D,w.pipe((0,ae.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Fe(405,"");let d;d=a instanceof tw?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function zd(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Rd),D=d.create(Gs.NULL,[],c||d.selector,p),w=D.location.nativeElement,I=D.injector.get(Sw,null),N=I&&D.injector.get(Aw);return I&&N&&N.registerApplication(w,I),D.onDestroy(()=>{this.detachView(D.hostView),Em(this.components,D),N&&N.unregisterApplication(w)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Em(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Cw,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(ze(ss),ze(Gs),ze(Bh),ze(Nd),ze(Hd))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();function Em(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let r0=!0,s0=!1;function Rw(){return s0=!0,r0}function ip(){if(s0)throw new Error("Cannot enable prod mode after platform setup.");r0=!1}let Xt=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pw,s})();function Pw(s){return function Fw(s,o,a){if(Wu(s)&&!a){const c=hi(s.index,o);return new Bf(c,c)}return 47&s.type?new Bf(o[16],o):null}(dn(),xe(),16==(16&s))}class Uw{constructor(){}supports(o){return cf(o)}create(o){return new Bw(o)}}const op=(s,o)=>o;class Bw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||op}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const _=!c||a&&a.currentIndex<c0(c,d,p)?a:c,D=c0(_,d,p),w=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const I=D-d,N=w-d;if(I!=N){for(let B=0;B<I;B++){const Q=B<p.length?p[B]:p[B]=0,pe=Q+B;N<=pe&&pe<I&&(p[B]=Q+1)}p[_.previousIndex]=N-I}}D!==w&&o(_,D,w)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!cf(o))throw new Fe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],_=this._trackByFn(D,p),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,p,_,D)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,D),c=!0),a=a._next}else d=0,function Hb(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Su()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,D=>{_=this._trackByFn(d,D),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,D,_,d)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,_,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new fC(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Cm),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cm),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class fC{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ii{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Cm{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new ii,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function c0(s,o,a){const c=s.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class Kd{constructor(){}supports(o){return o instanceof Map||hy(o)}create(){return new ta}}class ta{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||hy(o)))throw new Fe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const c=new d0(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class d0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function h0(){return new Bu([new Uw])}let Bu=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||h0()),deps:[[s,new Ti,new ir]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Fe(901,"")}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:h0}),s})();function f0(){return new ap([new Kd])}let ap=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||f0()),deps:[[s,new Ti,new ir]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new Fe(901,"")}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:f0}),s})();const gC=[new Kd],Im=new Bu([new Uw]),jw=new ap(gC),$w=Ow(null,"core",[{provide:ac,useValue:"unknown"},{provide:rp,deps:[Gs]},{provide:Aw,deps:[]},{provide:zv,deps:[]}]),zw=[{provide:qd,useClass:qd,deps:[ss,Gs,Bh,Nd,Hd]},{provide:ow,deps:[ss],useFactory:function qw(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(a){o.push(a)}}},{provide:Hd,useClass:Hd,deps:[[new ir,vm]]},{provide:Jf,useClass:Jf,deps:[]},eC,{provide:Bu,useFactory:function Gw(){return Im},deps:[]},{provide:ap,useFactory:function Hw(){return jw},deps:[]},{provide:qs,useFactory:function _C(s){return s||function Ww(){return"undefined"!=typeof $localize&&$localize.locale||If}()},deps:[[new Bi(qs),new ir,new Ti]]},{provide:qv,useValue:"USD"}];let yC=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(ze(qd))},s.\u0275mod=q({type:s}),s.\u0275inj=oi({providers:zw}),s})()},3942:(ct,Ie,k)=>{"use strict";k.d(Ie,{Z:()=>Fe});var l=k(2090),V=k(4859),R=k(9681),ne=k(1877);class ae{constructor(Y,ie){this._delegate=Y,this.firebase=ie,(0,R._addComponent)(Y,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=Y.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this._delegate.automaticDataCollectionEnabled=Y}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Y=>{this._delegate.checkDestroyed(),Y()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(Y,ie=R._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(Y);return!Se.isInitialized()&&"EXPLICIT"===(null===(me=Se.getComponent())||void 0===me?void 0:me.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:ie})}_removeServiceInstance(Y,ie=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Y).clearInstance(ie)}_addComponent(Y){(0,R._addComponent)(this._delegate,Y)}_addOrOverwriteComponent(Y){(0,R._addOrOverwriteComponent)(this._delegate,Y)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function se(){const $e=function re($e){const Y={},ie={__esModule:!0,initializeApp:function De(Qe,yt={}){const J=R.initializeApp(Qe,yt);if((0,l.r3)(Y,J.name))return Y[J.name];const _e=new $e(J,ie);return Y[J.name]=_e,_e},app:Se,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Qe){const yt=Qe.name,J=yt.replace("-compat","");if(R._registerComponent(Qe)&&"PUBLIC"===Qe.type){const _e=(ye=Se())=>{if("function"!=typeof ye[J])throw ue.create("invalid-app-argument",{appName:yt});return ye[J]()};void 0!==Qe.serviceProps&&(0,l.ZB)(_e,Qe.serviceProps),ie[J]=_e,$e.prototype[J]=function(...ye){return this._getService.bind(this,yt).apply(this,Qe.multipleInstances?ye:[])}}return"PUBLIC"===Qe.type?ie[J]:null},removeApp:function me(Qe){delete Y[Qe]},useAsService:function lt(Qe,yt){return"serverAuth"===yt?null:yt},modularAPIs:R}};function Se(Qe){if(!(0,l.r3)(Y,Qe=Qe||R._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:Qe});return Y[Qe]}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function Ze(){return Object.keys(Y).map(Qe=>Y[Qe])}}),Se.App=$e,ie}(ae);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function Y(ie){(0,l.ZB)($e,ie)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),$e}(),G=new ne.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=j;!function Me($e){(0,R.registerVersion)("@firebase/app-compat","0.1.14",$e)}()},9681:(ct,Ie,k)=>{"use strict";k.r(Ie),k.d(Ie,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>ai,_DEFAULT_ENTRY_NAME:()=>er,_addComponent:()=>un,_addOrOverwriteComponent:()=>Ir,_apps:()=>ft,_clearComponents:()=>vn,_components:()=>mr,_getProvider:()=>Zr,_registerComponent:()=>Kt,_removeServiceInstance:()=>oi,deleteApp:()=>tr,getApp:()=>Ve,getApps:()=>bn,initializeApp:()=>ui,onLog:()=>qt,registerVersion:()=>Cn,setLogLevel:()=>In});var l=k(5861),V=k(4859),R=k(1877),ne=k(2090);class ae{constructor(ot){this.container=ot}getPlatformInfoString(){return this.container.getProviders().map(Ot=>{if(function ge(Et){const ot=Et.getComponent();return"VERSION"===(null==ot?void 0:ot.type)}(Ot)){const gn=Ot.getImmediate();return`${gn.library}/${gn.version}`}return null}).filter(Ot=>Ot).join(" ")}}const ue="@firebase/app",se=new R.Yd("@firebase/app"),er="[DEFAULT]",ht={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ft=new Map,mr=new Map;function un(Et,ot){try{Et.container.addComponent(ot)}catch(Ot){se.debug(`Component ${ot.name} failed to register with FirebaseApp ${Et.name}`,Ot)}}function Ir(Et,ot){Et.container.addOrOverwriteComponent(ot)}function Kt(Et){const ot=Et.name;if(mr.has(ot))return se.debug(`There were multiple attempts to register component ${ot}.`),!1;mr.set(ot,Et);for(const Ot of ft.values())un(Ot,Et);return!0}function Zr(Et,ot){return Et.container.getProvider(ot)}function oi(Et,ot,Ot=er){Zr(Et,ot).clearInstance(Ot)}function vn(){mr.clear()}const Qt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class as{constructor(ot,Ot,gn){this._isDeleted=!1,this._options=Object.assign({},ot),this._config=Object.assign({},Ot),this._name=Ot.name,this._automaticDataCollectionEnabled=Ot.automaticDataCollectionEnabled,this._container=gn,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this.checkDestroyed(),this._automaticDataCollectionEnabled=ot}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ot){this._isDeleted=ot}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const ai="9.6.3";function ui(Et,ot={}){"object"!=typeof ot&&(ot={name:ot});const Ot=Object.assign({name:er,automaticDataCollectionEnabled:!1},ot),gn=Ot.name;if("string"!=typeof gn||!gn)throw Qt.create("bad-app-name",{appName:String(gn)});const Hn=ft.get(gn);if(Hn){if((0,ne.vZ)(Et,Hn.options)&&(0,ne.vZ)(Ot,Hn.config))return Hn;throw Qt.create("duplicate-app",{appName:gn})}const Ft=new V.H0(gn);for(const pt of mr.values())Ft.addComponent(pt);const nt=new as(Et,Ot,Ft);return ft.set(gn,nt),nt}function Ve(Et=er){const ot=ft.get(Et);if(!ot)throw Qt.create("no-app",{appName:Et});return ot}function bn(){return Array.from(ft.values())}function tr(Et){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(Et){const ot=Et.name;ft.has(ot)&&(ft.delete(ot),yield Promise.all(Et.container.getProviders().map(Ot=>Ot.delete())),Et.isDeleted=!0)})).apply(this,arguments)}function Cn(Et,ot,Ot){var gn;let Hn=null!==(gn=ht[Et])&&void 0!==gn?gn:Et;Ot&&(Hn+=`-${Ot}`);const Ft=Hn.match(/\s|\//),nt=ot.match(/\s|\//);if(Ft||nt){const pt=[`Unable to register library "${Hn}" with version "${ot}":`];return Ft&&pt.push(`library name "${Hn}" contains illegal characters (whitespace or "/")`),Ft&&nt&&pt.push("and"),nt&&pt.push(`version name "${ot}" contains illegal characters (whitespace or "/")`),void se.warn(pt.join(" "))}Kt(new V.wA(`${Hn}-version`,()=>({library:Hn,version:ot}),"VERSION"))}function qt(Et,ot){if(null!==Et&&"function"!=typeof Et)throw Qt.create("invalid-log-argument");(0,R.Am)(Et,ot)}function In(Et){(0,R.Ub)(Et)}!function Kr(Et){Kt(new V.wA("platform-logger",ot=>new ae(ot),"PRIVATE")),Cn(ue,"0.7.13",Et),Cn(ue,"0.7.13","esm2017"),Cn("fire-js","")}("")},4859:(ct,Ie,k)=>{"use strict";k.d(Ie,{wA:()=>R,H0:()=>re});var l=k(5861),V=k(2090);class R{constructor(j,G,ee){this.name=j,this.instanceFactory=G,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ne="[DEFAULT]";class ae{constructor(j,G){this.name=j,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const G=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(G)){const ee=new V.BH;if(this.instancesDeferred.set(G,ee),this.isInitialized(G)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:G});He&&ee.resolve(He)}catch(He){}}return this.instancesDeferred.get(G).promise}getImmediate(j){var G;const ee=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),He=null!==(G=null==j?void 0:j.optional)&&void 0!==G&&G;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Me){if(He)return null;throw Me}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ue(se){return"EAGER"===se.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ne})}catch(G){}for(const[G,ee]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(G);try{const Me=this.getOrInitializeService({instanceIdentifier:He});ee.resolve(Me)}catch(Me){}}}}clearInstance(j=ne){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,l.Z)(function*(){const G=Array.from(j.instances.values());yield Promise.all([...G.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...G.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ne){return this.instances.has(j)}getOptions(j=ne){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:G={}}=j,ee=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:ee,options:G});for(const[Me,Fe]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Me)&&Fe.resolve(He);return He}onInit(j,G){var ee;const He=this.normalizeInstanceIdentifier(G),Me=null!==(ee=this.onInitCallbacks.get(He))&&void 0!==ee?ee:new Set;Me.add(j),this.onInitCallbacks.set(He,Me);const Fe=this.instances.get(He);return Fe&&j(Fe,He),()=>{Me.delete(j)}}invokeOnInitCallbacks(j,G){const ee=this.onInitCallbacks.get(G);if(ee)for(const He of ee)try{He(j,G)}catch(Me){}}getOrInitializeService({instanceIdentifier:j,options:G={}}){let ee=this.instances.get(j);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(se=j,se===ne?void 0:se),options:G}),this.instances.set(j,ee),this.instancesOptions.set(j,G),this.invokeOnInitCallbacks(ee,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,ee)}catch(He){}var se;return ee||null}normalizeInstanceIdentifier(j=ne){return this.component?this.component.multipleInstances?j:ne:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const G=this.getProvider(j.name);if(G.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);G.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const G=new ae(j,this);return this.providers.set(j,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ie,k)=>{"use strict";k.d(Ie,{in:()=>V,Yd:()=>ue,Ub:()=>re,Am:()=>se});const l=[];var V=(()=>{return(j=V||(V={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",V;var j})();const R={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ne=V.INFO,ae={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ge=(j,G,...ee)=>{if(G<j.logLevel)return;const He=(new Date).toISOString(),Me=ae[G];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Me](`[${He}]  ${j.name}:`,...ee)};class ue{constructor(G){this.name=G,this._logLevel=ne,this._logHandler=ge,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in V))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?R[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...G),this._logHandler(this,V.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...G),this._logHandler(this,V.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,V.INFO,...G),this._logHandler(this,V.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,V.WARN,...G),this._logHandler(this,V.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...G),this._logHandler(this,V.ERROR,...G)}}function re(j){l.forEach(G=>{G.setLogLevel(j)})}function se(j,G){for(const ee of l){let He=null;G&&G.level&&(He=R[G.level]),ee.userLogHandler=null===j?null:(Me,Fe,...$e)=>{const Y=$e.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch(me){return null}}).filter(ie=>ie).join(" ");Fe>=(null!=He?He:Me.logLevel)&&j({level:V[Fe].toLowerCase(),message:Y,args:$e,type:Me.name})}}}},5861:(ct,Ie,k)=>{"use strict";function l(R,ne,ae,ge,ue,re,se){try{var j=R[re](se),G=j.value}catch(ee){return void ae(ee)}j.done?ne(G):Promise.resolve(G).then(ge,ue)}function V(R){return function(){var ne=this,ae=arguments;return new Promise(function(ge,ue){var re=R.apply(ne,ae);function se(G){l(re,ge,ue,se,j,"next",G)}function j(G){l(re,ge,ue,se,j,"throw",G)}se(void 0)})}}k.d(Ie,{Z:()=>V})}},ct=>{ct(ct.s=4398)}]);