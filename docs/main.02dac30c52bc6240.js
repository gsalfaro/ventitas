(self.webpackChunkapp_ventitas=self.webpackChunkapp_ventitas||[]).push([[179],{2011:(lt,Te,k)=>{"use strict";k.d(Te,{hO:()=>Ge,xv:()=>se,Dh:()=>re,GT:()=>he,cc:()=>Se,on:()=>B,pX:()=>ae});var c=k(5e3),V=k(127),x=k(6351);lt=k.hmd(lt);const ne=["ngOnDestroy"],ae=(ie,fe,Ce,ve={})=>new Proxy(ie,{get:(ze,Ie)=>Ce.runOutsideAngular(()=>{var ut;if(ie[Ie])return(null===(ut=null==ve?void 0:ve.spy)||void 0===ut?void 0:ut.get)&&ve.spy.get(Ie,ie[Ie]),ie[Ie];if(ne.indexOf(Ie)>-1)return()=>{};const Ke=fe.toPromise().then(mt=>{const J=mt&&mt[Ie];return"function"==typeof J?J.bind(mt):J&&J.then?J.then(pe=>Ce.run(()=>pe)):Ce.run(()=>J)});return new Proxy(()=>{},{get:(mt,J)=>Ke[J],apply:(mt,J,pe)=>Ke.then(ge=>{var we;const Ve=ge&&ge(...pe);return(null===(we=null==ve?void 0:ve.spy)||void 0===we?void 0:we.apply)&&ve.spy.apply(Ie,pe,Ve),Ve})})})}),he=(ie,fe)=>{fe.forEach(Ce=>{Object.getOwnPropertyNames(Ce.prototype||Ce).forEach(ve=>{Object.defineProperty(ie.prototype,ve,Object.getOwnPropertyDescriptor(Ce.prototype||Ce,ve))})})};class ue{constructor(fe){return fe}}const re=new c.OlP("angularfire2.app.options"),se=new c.OlP("angularfire2.app.name");function B(ie,fe,Ce){const ze="object"==typeof Ce&&Ce||{};ze.name=ze.name||"string"==typeof Ce&&Ce||"[DEFAULT]";const ut=V.Z.apps.filter(Ke=>Ke&&Ke.name===ze.name)[0]||fe.runOutsideAngular(()=>V.Z.initializeApp(ie,ze));try{JSON.stringify(ie)!==JSON.stringify(ut.options)&&G("error",`${ut.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new ue(ut)}const G=(ie,...fe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ie](...fe)},ee={provide:ue,useFactory:B,deps:[re,c.R0b,[new c.FiY,se]]};let Ge=(()=>{class ie{constructor(Ce){V.Z.registerVersion("angularfire",x.q4.full,"core"),V.Z.registerVersion("angularfire",x.q4.full,"app-compat"),V.Z.registerVersion("angular",c.q4F.full,Ce.toString())}static initializeApp(Ce,ve){return{ngModule:ie,providers:[{provide:re,useValue:Ce},{provide:se,useValue:ve}]}}}return ie.\u0275fac=function(Ce){return new(Ce||ie)(c.LFG(c.Lbi))},ie.\u0275mod=c.oAB({type:ie}),ie.\u0275inj=c.cJS({providers:[ee]}),ie})();function Se(ie,fe,Ce,ve,ze){const[,Ie,ut]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===ie)||[];if(Ie)return function ke(ie,fe){try{return ie.toString()===fe.toString()}catch(Ce){return ie===fe}}(ze,ut)||(K("error",`${fe} was already initialized on the ${Ce} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:ze,was:ut})),Ie;{const Ke=ve();return globalThis.\u0275AngularfireInstanceCache.push([ie,Ke,ze]),Ke}}const je=!!lt.hot,K=(ie,...fe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ie](...fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(lt,Te,k)=>{"use strict";k.d(Te,{q4:()=>lu,iC:()=>co,HU:()=>Wd,vb:()=>Vg,JM:()=>xa,u3:()=>ho});var c=k(5e3),V=k(5867),x=k(5861),ne=k(9681),ae=k(2090),he=k(4859),ue=k(1877),re=k(2940);const se="@firebase/installations",B="0.5.5",ee=`w:${B}`,Ge="FIS_v2",fe=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ce(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function ve({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function ze(E){return{token:E.token,requestStatus:2,expiresIn:ge(E.expiresIn),creationTime:Date.now()}}function Ie(E,C){return ut.apply(this,arguments)}function ut(){return(ut=(0,x.Z)(function*(E,C){const L=(yield C.json()).error;return fe.create("request-failed",{requestName:E,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ke({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function mt(E,{refreshToken:C}){const R=Ke(E);return R.append("Authorization",function we(E){return`${Ge} ${E}`}(C)),R}function J(E){return pe.apply(this,arguments)}function pe(){return(pe=(0,x.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function ge(E){return Number(E.replace("s","000"))}function Ve(E,C){return ce.apply(this,arguments)}function ce(){return(ce=(0,x.Z)(function*(E,{fid:C}){const R=ve(E),le={method:"POST",headers:Ke(E),body:JSON.stringify({fid:C,authVersion:Ge,appId:E.appId,sdkVersion:ee})},Re=yield J(()=>fetch(R,le));if(Re.ok){const it=yield Re.json();return{fid:it.fid||C,registrationStatus:2,refreshToken:it.refreshToken,authToken:ze(it.authToken)}}throw yield Ie("Create Installation",Re)})).apply(this,arguments)}function It(E){return new Promise(C=>{setTimeout(C,E)})}const Qn=/^[cdef][\w-]{21}$/;function ft(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const R=function fr(E){return function Xt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Qn.test(R)?R:""}catch(E){return""}}function an(E){return`${E.appName}!${E.appId}`}const Dr=new Map;function Zt(E,C){const R=an(E);_n(R,C),function Sn(E,C){const R=function ns(){return!Kt&&"BroadcastChannel"in self&&(Kt=new BroadcastChannel("[Firebase] FID Change"),Kt.onmessage=E=>{_n(E.data.key,E.data.fid)}),Kt}();R&&R.postMessage({key:E,fid:C}),function Jr(){0===Dr.size&&Kt&&(Kt.close(),Kt=null)}()}(R,C)}function _n(E,C){const R=Dr.get(E);if(R)for(const L of R)L(C)}let Kt=null;const yn="firebase-installations-store";let Jn=null;function yt(){return Jn||(Jn=(0,re.openDb)("firebase-installations-database",1,E=>{0===E.oldVersion&&E.createObjectStore(yn)})),Jn}function Tn(E,C){return qt.apply(this,arguments)}function qt(){return(qt=(0,x.Z)(function*(E,C){const R=an(E),Y=(yield yt()).transaction(yn,"readwrite"),le=Y.objectStore(yn),Re=yield le.get(R);return yield le.put(C,R),yield Y.complete,(!Re||Re.fid!==C.fid)&&Zt(E,C.fid),C})).apply(this,arguments)}function Cn(E){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,x.Z)(function*(E){const C=an(E),L=(yield yt()).transaction(yn,"readwrite");yield L.objectStore(yn).delete(C),yield L.complete})).apply(this,arguments)}function Dt(E,C){return ot.apply(this,arguments)}function ot(){return(ot=(0,x.Z)(function*(E,C){const R=an(E),Y=(yield yt()).transaction(yn,"readwrite"),le=Y.objectStore(yn),Re=yield le.get(R),it=C(Re);return void 0===it?yield le.delete(R):yield le.put(it,R),yield Y.complete,it&&(!Re||Re.fid!==it.fid)&&Zt(E,it.fid),it})).apply(this,arguments)}function At(E){return fn.apply(this,arguments)}function fn(){return(fn=(0,x.Z)(function*(E){let C;const R=yield Dt(E,L=>{const Y=Gn(L),le=xt(E,Y);return C=le.registrationPromise,le.installationEntry});return""===R.fid?{installationEntry:yield C}:{installationEntry:R,registrationPromise:C}})).apply(this,arguments)}function Gn(E){return Bi(E||{fid:ft(),registrationStatus:0})}function xt(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(fe.create("app-offline"))};const R={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},L=function tt(E,C){return pt.apply(this,arguments)}(E,R);return{installationEntry:R,registrationPromise:L}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:oa(E)}:{installationEntry:C}}function pt(){return(pt=(0,x.Z)(function*(E,C){try{return Tn(E,yield Ve(E,C))}catch(R){throw Ce(R)&&409===R.customData.serverCode?yield Cn(E):yield Tn(E,{fid:C.fid,registrationStatus:0}),R}})).apply(this,arguments)}function oa(E){return un.apply(this,arguments)}function un(){return(un=(0,x.Z)(function*(E){let C=yield vt(E);for(;1===C.registrationStatus;)yield It(100),C=yield vt(E);if(0===C.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield At(E);return L||R}return C})).apply(this,arguments)}function vt(E){return Dt(E,C=>{if(!C)throw fe.create("installation-not-found");return Bi(C)})}function Bi(E){return function nn(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Br(E,C){return U.apply(this,arguments)}function U(){return(U=(0,x.Z)(function*({appConfig:E,platformLoggerProvider:C},R){const L=W(E,R),Y=mt(E,R),le=C.getImmediate({optional:!0});le&&Y.append("x-firebase-client",le.getPlatformInfoString());const it={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:ee}})},We=yield J(()=>fetch(L,it));if(We.ok)return ze(yield We.json());throw yield Ie("Generate Auth Token",We)})).apply(this,arguments)}function W(E,{fid:C}){return`${ve(E)}/${C}/authTokens:generate`}function z(E){return be.apply(this,arguments)}function be(){return(be=(0,x.Z)(function*(E,C=!1){let R;const L=yield Dt(E.appConfig,le=>{if(!$n(le))throw fe.create("not-registered");const Re=le.authToken;if(!C&&sr(Re))return le;if(1===Re.requestStatus)return R=te(E,C),le;{if(!navigator.onLine)throw fe.create("app-offline");const it=oe(le);return R=ln(E,it),it}});return R?yield R:L.authToken})).apply(this,arguments)}function te(E,C){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,x.Z)(function*(E,C){let R=yield bt(E.appConfig);for(;1===R.authToken.requestStatus;)yield It(100),R=yield bt(E.appConfig);const L=R.authToken;return 0===L.requestStatus?z(E,C):L})).apply(this,arguments)}function bt(E){return Dt(E,C=>{if(!$n(C))throw fe.create("not-registered");return function q(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function ln(E,C){return xn.apply(this,arguments)}function xn(){return(xn=(0,x.Z)(function*(E,C){try{const R=yield Br(E,C),L=Object.assign(Object.assign({},C),{authToken:R});return yield Tn(E.appConfig,L),R}catch(R){if(!Ce(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Tn(E.appConfig,L)}else yield Cn(E.appConfig);throw R}})).apply(this,arguments)}function $n(E){return void 0!==E&&2===E.registrationStatus}function sr(E){return 2===E.requestStatus&&!function kt(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+36e5}(E)}function oe(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}function Ee(){return(Ee=(0,x.Z)(function*(E){const C=E,{installationEntry:R,registrationPromise:L}=yield At(C.appConfig);return L?L.catch(console.error):z(C).catch(console.error),R.fid})).apply(this,arguments)}function St(){return(St=(0,x.Z)(function*(E,C=!1){const R=E;return yield gt(R.appConfig),(yield z(R,C)).token})).apply(this,arguments)}function gt(E){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,x.Z)(function*(E){const{registrationPromise:C}=yield At(E);C&&(yield C)})).apply(this,arguments)}function aa(E){return fe.create("missing-app-config-values",{valueName:E})}const ei="installations",Nt=E=>{const C=E.getProvider("app").getImmediate(),R=function Er(E){if(!E||!E.options)throw aa("App Configuration");if(!E.name)throw aa("App Name");const C=["projectId","apiKey","appId"];for(const R of C)if(!E.options[R])throw aa(R);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:R,platformLoggerProvider:(0,ne._getProvider)(C,"platform-logger"),_delete:()=>Promise.resolve()}},Wt=E=>{const C=E.getProvider("app").getImmediate(),R=(0,ne._getProvider)(C,ei).getImmediate();return{getId:()=>function H(E){return Ee.apply(this,arguments)}(R),getToken:Y=>function qe(E){return St.apply(this,arguments)}(R,Y)}};(function Xn(){(0,ne._registerComponent)(new he.wA(ei,Nt,"PUBLIC")),(0,ne._registerComponent)(new he.wA("installations-internal",Wt,"PRIVATE"))})(),(0,ne.registerVersion)(se,B),(0,ne.registerVersion)(se,B,"esm2017");const Ds="@firebase/remote-config",Wn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class da{constructor(C,R,L,Y){this.client=C,this.storage=R,this.storageCache=L,this.logger=Y}isCachedDataFresh(C,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,Y=L<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Y}.`),Y}fetch(C){var R=this;return(0,x.Z)(function*(){const[L,Y]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Y&&R.isCachedDataFresh(C.cacheMaxAgeMillis,L))return Y;C.eTag=Y&&Y.eTag;const le=yield R.client.fetch(C),Re=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Re.push(R.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Re),le})()}}function Af(E=navigator){return E.languages&&E.languages[0]||E.language}class Tr{constructor(C,R,L,Y,le,Re){this.firebaseInstallations=C,this.sdkVersion=R,this.namespace=L,this.projectId=Y,this.apiKey=le,this.appId=Re}fetch(C){var R=this;return(0,x.Z)(function*(){const[L,Y]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,it={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},We={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:Y,app_id:R.appId,language_code:Af()},Gt={method:"POST",headers:it,body:JSON.stringify(We)},rn=fetch(Re,Gt),Fr=new Promise((tr,ii)=>{C.signal.addEventListener(()=>{const gi=new Error("The operation was aborted.");gi.name="AbortError",ii(gi)})});let _r;try{yield Promise.race([rn,Fr]),_r=yield rn}catch(tr){let ii="fetch-client-network";throw"AbortError"===tr.name&&(ii="fetch-timeout"),Wn.create(ii,{originalErrorMessage:tr.message})}let Bn=_r.status;const fo=_r.headers.get("ETag")||void 0;let fu,Mi;if(200===_r.status){let tr;try{tr=yield _r.json()}catch(ii){throw Wn.create("fetch-client-parse",{originalErrorMessage:ii.message})}fu=tr.entries,Mi=tr.state}if("INSTANCE_STATE_UNSPECIFIED"===Mi?Bn=500:"NO_CHANGE"===Mi?Bn=304:("NO_TEMPLATE"===Mi||"EMPTY_CONFIG"===Mi)&&(fu={}),304!==Bn&&200!==Bn)throw Wn.create("fetch-status",{httpStatus:Bn});return{status:Bn,eTag:fo,config:fu}})()}}class Md{constructor(C,R){this.client=C,this.storage=R}fetch(C){var R=this;return(0,x.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(C,L)})()}attemptFetch(C,{throttleEndTimeMillis:R,backoffCount:L}){var Y=this;return(0,x.Z)(function*(){yield function Nd(E,C){return new Promise((R,L)=>{const Y=Math.max(C-Date.now(),0),le=setTimeout(R,Y);E.addEventListener(()=>{clearTimeout(le),L(Wn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,R);try{const le=yield Y.client.fetch(C);return yield Y.storage.deleteThrottleMetadata(),le}catch(le){if(!function ic(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(le))throw le;const Re={throttleEndTimeMillis:Date.now()+(0,ae.$s)(L),backoffCount:L+1};return yield Y.storage.setThrottleMetadata(Re),Y.attemptFetch(C,Re)}})()}}class oc{constructor(C,R,L,Y,le){this.app=C,this._client=R,this._storageCache=L,this._storage=Y,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fu(E,C){const R=E.target.error||void 0;return Wn.create(C,{originalErrorMessage:R&&R.message})}const Ts="app_namespace_store";class uc{constructor(C,R,L,Y=function Nf(){return new Promise((E,C)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{C(Fu(L,"storage-open"))},R.onsuccess=L=>{E(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ts,{keyPath:"compositeKey"})}}catch(R){C(Wn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=C,this.appName=R,this.namespace=L,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var R=this;return(0,x.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Y,le)=>{const it=L.transaction([Ts],"readonly").objectStore(Ts),We=R.createCompositeKey(C);try{const Gt=it.get(We);Gt.onerror=rn=>{le(Fu(rn,"storage-get"))},Gt.onsuccess=rn=>{const Fr=rn.target.result;Y(Fr?Fr.value:void 0)}}catch(Gt){le(Wn.create("storage-get",{originalErrorMessage:Gt&&Gt.message}))}})})()}set(C,R){var L=this;return(0,x.Z)(function*(){const Y=yield L.openDbPromise;return new Promise((le,Re)=>{const We=Y.transaction([Ts],"readwrite").objectStore(Ts),Gt=L.createCompositeKey(C);try{const rn=We.put({compositeKey:Gt,value:R});rn.onerror=Fr=>{Re(Fu(Fr,"storage-set"))},rn.onsuccess=()=>{le()}}catch(rn){Re(Wn.create("storage-set",{originalErrorMessage:rn&&rn.message}))}})})()}delete(C){var R=this;return(0,x.Z)(function*(){const L=yield R.openDbPromise;return new Promise((Y,le)=>{const it=L.transaction([Ts],"readwrite").objectStore(Ts),We=R.createCompositeKey(C);try{const Gt=it.delete(We);Gt.onerror=rn=>{le(Fu(rn,"storage-delete"))},Gt.onsuccess=()=>{Y()}}catch(Gt){le(Wn.create("storage-delete",{originalErrorMessage:Gt&&Gt.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Mf{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,x.Z)(function*(){const R=C.storage.getLastFetchStatus(),L=C.storage.getLastSuccessfulFetchTimestampMillis(),Y=C.storage.getActiveConfig(),le=yield R;le&&(C.lastFetchStatus=le);const Re=yield L;Re&&(C.lastSuccessfulFetchTimestampMillis=Re);const it=yield Y;it&&(C.activeConfig=it)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Of(){return ha.apply(this,arguments)}function ha(){return(ha=(0,x.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(E){return!1}})).apply(this,arguments)}!function lc(){(0,ne._registerComponent)(new he.wA("remote-config",function E(C,{instanceIdentifier:R}){const L=C.getProvider("app").getImmediate(),Y=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Wn.create("registration-window");if(!(0,ae.hl)())throw Wn.create("indexed-db-unavailable");const{projectId:le,apiKey:Re,appId:it}=L.options;if(!le)throw Wn.create("registration-project-id");if(!Re)throw Wn.create("registration-api-key");if(!it)throw Wn.create("registration-app-id");const We=new uc(it,L.name,R=R||"firebase"),Gt=new Mf(We),rn=new ue.Yd(Ds);rn.logLevel=ue.in.ERROR;const Fr=new Tr(Y,ne.SDK_VERSION,R,le,Re,it),_r=new Md(Fr,We),Bn=new da(_r,We,Gt,rn),fo=new oc(L,Bn,Gt,We,rn);return function pn(E){const C=(0,ae.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(fo),fo},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(Ds,"0.3.4"),(0,ne.registerVersion)(Ds,"0.3.4","esm2017")}();const Rf="/firebase-messaging-sw.js",ss="/firebase-cloud-messaging-push-scope",cc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",os="google.c.a.c_id",as="google.c.a.c_l",dc="google.c.a.ts",jr="google.c.a.e";var xo=(()=>{return(E=xo||(xo={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",xo;var E})();function ni(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xd(E){const R=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),Y=new Uint8Array(L.length);for(let le=0;le<L.length;++le)Y[le]=L.charCodeAt(le);return Y}const Cr="fcm_token_details_db",Qa="fcm_token_object_Store";function hc(E){return fc.apply(this,arguments)}function fc(){return fc=(0,x.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Cr))return null;let C=null;return(yield(0,re.openDb)(Cr,5,function(){var L=(0,x.Z)(function*(Y){var le;if(Y.oldVersion<2||!Y.objectStoreNames.contains(Qa))return;const Re=Y.transaction.objectStore(Qa),it=yield Re.index("fcmSenderId").get(E);if(yield Re.clear(),it)if(2===Y.oldVersion){const We=it;if(!We.auth||!We.p256dh||!We.endpoint)return;C={token:We.fcmToken,createTime:null!==(le=We.createTime)&&void 0!==le?le:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:ni(We.vapidKey)}}}else if(3===Y.oldVersion){const We=it;C={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:ni(We.auth),p256dh:ni(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:ni(We.vapidKey)}}}else if(4===Y.oldVersion){const We=it;C={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:ni(We.auth),p256dh:ni(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:ni(We.vapidKey)}}}});return function(Y){return L.apply(this,arguments)}}())).close(),yield(0,re.deleteDb)(Cr),yield(0,re.deleteDb)("fcm_vapid_details_db"),yield(0,re.deleteDb)("undefined"),fa(C)?C:null}),fc.apply(this,arguments)}function fa(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Cs="firebase-messaging-store";let Po=null;function Un(){return Po||(Po=(0,re.openDb)("firebase-messaging-database",1,E=>{0===E.oldVersion&&E.createObjectStore(Cs)})),Po}function Ja(E){return di.apply(this,arguments)}function di(){return(di=(0,x.Z)(function*(E){const C=us(E),L=yield(yield Un()).transaction(Cs).objectStore(Cs).get(C);if(L)return L;{const Y=yield hc(E.appConfig.senderId);if(Y)return yield xr(E,Y),Y}})).apply(this,arguments)}function xr(E,C){return ar.apply(this,arguments)}function ar(){return(ar=(0,x.Z)(function*(E,C){const R=us(E),Y=(yield Un()).transaction(Cs,"readwrite");return yield Y.objectStore(Cs).put(C,R),yield Y.complete,C})).apply(this,arguments)}function Xa(E){return pa.apply(this,arguments)}function pa(){return(pa=(0,x.Z)(function*(E){const C=us(E),L=(yield Un()).transaction(Cs,"readwrite");yield L.objectStore(Cs).delete(C),yield L.complete})).apply(this,arguments)}function us({appConfig:E}){return E.appId}const Mn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ga(E,C){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,x.Z)(function*(E,C){const R=yield eu(E),L=eo(C),Y={method:"POST",headers:R,body:JSON.stringify(L)};let le;try{le=yield(yield fetch(Js(E.appConfig),Y)).json()}catch(Re){throw Mn.create("token-subscribe-failed",{errorInfo:Re})}if(le.error)throw Mn.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Mn.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Ii(E,C){return Is.apply(this,arguments)}function Is(){return(Is=(0,x.Z)(function*(E,C){const R=yield eu(E),L=eo(C.subscriptionOptions),Y={method:"PATCH",headers:R,body:JSON.stringify(L)};let le;try{le=yield(yield fetch(`${Js(E.appConfig)}/${C.token}`,Y)).json()}catch(Re){throw Mn.create("token-update-failed",{errorInfo:Re})}if(le.error)throw Mn.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Mn.create("token-update-no-token");return le.token})).apply(this,arguments)}function Qs(E,C){return ct.apply(this,arguments)}function ct(){return(ct=(0,x.Z)(function*(E,C){const L={method:"DELETE",headers:yield eu(E)};try{const le=yield(yield fetch(`${Js(E.appConfig)}/${C}`,L)).json();if(le.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(Y){throw Mn.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Js({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function eu(E){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,x.Z)(function*({appConfig:E,installations:C}){const R=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function eo({p256dh:E,auth:C,endpoint:R,vapidKey:L}){const Y={web:{endpoint:R,auth:C,p256dh:E}};return L!==cc&&(Y.web.applicationPubKey=L),Y}const tu=6048e5;function Uu(E){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,x.Z)(function*(E){const C=yield Gr(E.swRegistration,E.vapidKey),R={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:ni(C.getKey("auth")),p256dh:ni(C.getKey("p256dh"))},L=yield Ja(E.firebaseDependencies);if(L){if(ma(L.subscriptionOptions,R))return Date.now()>=L.createTime+tu?nu(E,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield Qs(E.firebaseDependencies,L.token)}catch(Y){console.warn(Y)}return Lo(E.firebaseDependencies,R)}return Lo(E.firebaseDependencies,R)})).apply(this,arguments)}function Me(E){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,x.Z)(function*(E){const C=yield Ja(E.firebaseDependencies);C&&(yield Qs(E.firebaseDependencies,C.token),yield Xa(E.firebaseDependencies));const R=yield E.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function nu(E,C){return cn.apply(this,arguments)}function cn(){return(cn=(0,x.Z)(function*(E,C){try{const R=yield Ii(E.firebaseDependencies,C),L=Object.assign(Object.assign({},C),{token:R,createTime:Date.now()});return yield xr(E.firebaseDependencies,L),R}catch(R){throw yield Me(E),R}})).apply(this,arguments)}function Lo(E,C){return to.apply(this,arguments)}function to(){return(to=(0,x.Z)(function*(E,C){const L={token:yield ga(E,C),createTime:Date.now(),subscriptionOptions:C};return yield xr(E,L),L.token})).apply(this,arguments)}function Gr(E,C){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,x.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xd(C)})})).apply(this,arguments)}function ma(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}function _a(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function ju(E,C){if(!C.notification)return;E.notification={};const R=C.notification.title;R&&(E.notification.title=R);const L=C.notification.body;L&&(E.notification.body=L);const Y=C.notification.image;Y&&(E.notification.image=Y)}(C,E),function ya(E,C){!C.data||(E.data=C.data)}(C,E),function Vo(E,C){if(!C.fcmOptions)return;E.fcmOptions={};const R=C.fcmOptions.link;R&&(E.fcmOptions.link=R);const L=C.fcmOptions.analytics_label;L&&(E.fcmOptions.analyticsLabel=L)}(C,E),C}function gr(E){return"object"==typeof E&&!!E&&os in E}function hi(E,C){const R=[];for(let L=0;L<E.length;L++)R.push(E.charAt(L)),L<C.length&&R.push(C.charAt(L));return R.join("")}function Si(E){return Mn.create("missing-app-config-values",{valueName:E})}hi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ls{constructor(C,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function pc(E){if(!E||!E.options)throw Si("App Configuration Object");if(!E.name)throw Si("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:R}=E;for(const L of C)if(!R[L])throw Si(L);return{appName:E.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Y,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function ru(E){return no.apply(this,arguments)}function no(){return(no=(0,x.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Rf,{scope:ss}),E.swRegistration.update().catch(()=>{})}catch(C){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:C.message})}})).apply(this,arguments)}function Gu(E,C){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,x.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield ru(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function $u(E,C){return ro.apply(this,arguments)}function ro(){return(ro=(0,x.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=cc)})).apply(this,arguments)}function io(){return(io=(0,x.Z)(function*(E,C){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield $u(E,null==C?void 0:C.vapidKey),yield Gu(E,null==C?void 0:C.serviceWorkerRegistration),Uu(E)})).apply(this,arguments)}function kd(E,C,R){return va.apply(this,arguments)}function va(){return(va=(0,x.Z)(function*(E,C,R){const L=ba(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[os],message_name:R[as],message_time:R[dc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ba(E){switch(E){case xo.NOTIFICATION_CLICKED:return"notification_open";case xo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zu(){return(zu=(0,x.Z)(function*(E,C){const R=C.data;if(!R.isFirebaseMessaging)return;E.onMessageHandler&&R.messageType===xo.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(_a(R)):E.onMessageHandler.next(_a(R)));const L=R.data;gr(L)&&"1"===L[jr]&&(yield kd(E,R.messageType,L))})).apply(this,arguments)}const wa="@firebase/messaging",Bo=E=>{const C=new ls(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Wu(E,C){return zu.apply(this,arguments)}(C,R)),C},xf=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:L=>function Hu(E,C){return io.apply(this,arguments)}(C,L)}};function er(){return mr.apply(this,arguments)}function mr(){return(mr=(0,x.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kf(){(0,ne._registerComponent)(new he.wA("messaging",Bo,"PUBLIC")),(0,ne._registerComponent)(new he.wA("messaging-internal",xf,"PRIVATE")),(0,ne.registerVersion)(wa,"0.9.6"),(0,ne.registerVersion)(wa,"0.9.6","esm2017")}();const jo="analytics",Go="firebase_id",Pf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ai="https://www.googletagmanager.com/gtag/js",qn=new ue.Yd("@firebase/analytics");function Pd(E){return Promise.all(E.map(C=>C.catch(R=>R)))}function Fd(E,C){const R=document.createElement("script");R.src=`${Ai}?l=${E}&id=${C}`,R.async=!0,document.head.appendChild(R)}function mc(E,C,R,L,Y,le){return so.apply(this,arguments)}function so(){return(so=(0,x.Z)(function*(E,C,R,L,Y,le){const Re=L[Y];try{if(Re)yield C[Re];else{const We=(yield Pd(R)).find(Gt=>Gt.measurementId===Y);We&&(yield C[We.appId])}}catch(it){qn.error(it)}E("config",Y,le)})).apply(this,arguments)}function Ld(E,C,R,L,Y){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,x.Z)(function*(E,C,R,L,Y){try{let le=[];if(Y&&Y.send_to){let Re=Y.send_to;Array.isArray(Re)||(Re=[Re]);const it=yield Pd(R);for(const We of Re){const Gt=it.find(Fr=>Fr.measurementId===We),rn=Gt&&C[Gt.appId];if(!rn){le=[];break}le.push(rn)}}0===le.length&&(le=Object.values(C)),yield Promise.all(le),E("event",L,Y||{})}catch(le){qn.error(le)}})).apply(this,arguments)}function On(){const E=window.document.getElementsByTagName("script");for(const C of Object.values(E))if(C.src&&C.src.includes(Ai))return C;return null}const kr=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_c=new class Ta{constructor(C={},R=1e3){this.throttleMetadata=C,this.intervalMillis=R}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,R){this.throttleMetadata[C]=R}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Ca(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function $r(E){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,x.Z)(function*(E){var C;const{appId:R,apiKey:L}=E,Y={method:"GET",headers:Ca(L)},le=Pf.replace("{app-id}",R),Re=yield fetch(le,Y);if(200!==Re.status&&304!==Re.status){let it="";try{const We=yield Re.json();(null===(C=We.error)||void 0===C?void 0:C.message)&&(it=We.error.message)}catch(We){}throw kr.create("config-fetch-failed",{httpStatus:Re.status,responseMessage:it})}return Re.json()})).apply(this,arguments)}function Yt(E){return st.apply(this,arguments)}function st(){return(st=(0,x.Z)(function*(E,C=_c,R){const{appId:L,apiKey:Y,measurementId:le}=E.options;if(!L)throw kr.create("no-app-id");if(!Y){if(le)return{measurementId:le,appId:L};throw kr.create("no-api-key")}const Re=C.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Ia;return setTimeout((0,x.Z)(function*(){it.abort()}),void 0!==R?R:6e4),Ju({appId:L,apiKey:Y,measurementId:le},Re,it,C)})).apply(this,arguments)}function Ju(E,C,R){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,x.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:R},L,Y=_c){const{appId:le,measurementId:Re}=E;try{yield el(L,C)}catch(it){if(Re)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:le,measurementId:Re};throw it}try{const it=yield $r(E);return Y.deleteThrottleMetadata(le),it}catch(it){if(!Ho(it)){if(Y.deleteThrottleMetadata(le),Re)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Re} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:le,measurementId:Re};throw it}const We=503===Number(it.customData.httpStatus)?(0,ae.$s)(R,Y.intervalMillis,30):(0,ae.$s)(R,Y.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+We,backoffCount:R+1};return Y.setThrottleMetadata(le,Gt),qn.debug(`Calling attemptFetch again in ${We} millis`),Ju(E,Gt,L,Y)}})).apply(this,arguments)}function el(E,C){return new Promise((R,L)=>{const Y=Math.max(C-Date.now(),0),le=setTimeout(R,Y);E.addEventListener(()=>{clearTimeout(le),L(kr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Ho(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Ia{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}function Wo(){return fi.apply(this,arguments)}function fi(){return(fi=(0,x.Z)(function*(){if(!(0,ae.hl)())return qn.warn(kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(E){return qn.warn(kr.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function su(){return(su=(0,x.Z)(function*(E,C,R,L,Y,le,Re){var it;const We=Yt(E);We.then(Bn=>{R[Bn.measurementId]=Bn.appId,E.options.measurementId&&Bn.measurementId!==E.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bn=>qn.error(Bn)),C.push(We);const Gt=Wo().then(Bn=>{if(Bn)return L.getId()}),[rn,Fr]=yield Promise.all([We,Gt]);On()||Fd(le,rn.measurementId),Y("js",new Date);const _r=null!==(it=null==Re?void 0:Re.config)&&void 0!==it?it:{};return _r.origin="firebase",_r.update=!0,null!=Fr&&(_r[Go]=Fr),Y("config",rn.measurementId,_r),rn.measurementId})).apply(this,arguments)}class tl{constructor(C){this.app=C}_delete(){return delete Gi[this.app.options.appId],Promise.resolve()}}let Gi={},nl=[];const yc={};let Ms,In,As="dataLayer",$i=!1;function bn(E,C,R){!function jd(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((L,Y)=>`(${Y+1}) ${L}`).join(" "),R=kr.create("invalid-analytics-context",{errorInfo:C});qn.warn(R.message)}}();const L=E.options.appId;if(!L)throw kr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw kr.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gi[L])throw kr.create("already-exists",{id:L});if(!$i){!function $o(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(As);const{wrappedGtag:le,gtagCore:Re}=function Qu(E,C,R,L,Y){let le=function(...Re){window[L].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(le=window[Y]),window[Y]=function Ff(E,C,R,L){function le(){return(le=(0,x.Z)(function*(Re,it,We){try{"event"===Re?yield Ld(E,C,R,it,We):"config"===Re?yield mc(E,C,R,L,it,We):E("set",it)}catch(Gt){qn.error(Gt)}})).apply(this,arguments)}return function Y(Re,it,We){return le.apply(this,arguments)}}(le,E,C,R),{gtagCore:le,wrappedGtag:window[Y]}}(Gi,nl,yc,As,"gtag");In=le,Ms=Re,$i=!0}return Gi[L]=function ur(E,C,R,L,Y,le,Re){return su.apply(this,arguments)}(E,nl,yc,C,Ms,As,R),new tl(E)}function Os(){return(Os=(0,x.Z)(function*(E,C,R,L,Y){if(Y&&Y.global)E("event",R,L);else{const le=yield C;E("event",R,Object.assign(Object.assign({},L),{send_to:le}))}})).apply(this,arguments)}function Gd(){return Na.apply(this,arguments)}function Na(){return(Na=(0,x.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(E){return!1}})).apply(this,arguments)}const ao="@firebase/analytics";!function Zn(){(0,ne._registerComponent)(new he.wA(jo,(C,{options:R})=>bn(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ne._registerComponent)(new he.wA("analytics-internal",function E(C){try{const R=C.getProvider(jo).getImmediate();return{logEvent:(L,Y,le)=>function vc(E,C,R,L){E=(0,ae.m9)(E),function rl(E,C,R,L,Y){return Os.apply(this,arguments)}(In,Gi[E.app.options.appId],C,R,L).catch(Y=>qn.error(Y))}(R,L,Y,le)}}catch(R){throw kr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ne.registerVersion)(ao,"0.7.5"),(0,ne.registerVersion)(ao,"0.7.5","esm2017")}();var uo=k(233),zo=k(4986),wc=k(8306),Dc=k(8505),Pn=k(9468),wn=k(5363);const lu=new c.GfV("7.2.0"),qo="__angularfire_symbol__analyticsIsSupported",lo="__angularfire_symbol__remoteConfigIsSupported",Oa="__angularfire_symbol__messagingIsSupported";function xa(E,C,R){if(C){if(1===C.length)return C[0];const le=C.filter(Re=>Re.app===R);if(1===le.length)return le[0]}return R.container.getProvider(E).getImmediate({optional:!0})}globalThis[qo]||(globalThis[qo]=Gd().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[Oa]||(globalThis[Oa]=er().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[lo]||(globalThis[lo]=Of().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const Vg=(E,C)=>{const R=C?[C]:(0,V.C6)(),L=[];return R.forEach(Y=>{Y.container.getProvider(E).instances.forEach(Re=>{L.includes(Re)||L.push(Re)})}),L};function Zo(){}class Tc{constructor(C,R=uo.N){this.zone=C,this.delegate=R}now(){return this.delegate.now()}schedule(C,R,L){const Y=this.zone;return this.delegate.schedule(function(Re){Y.runGuarded(()=>{C.apply(this,[Re])})},R,L)}}class Vf{constructor(C){this.zone=C,this.task=null}call(C,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo)),R.pipe((0,Dc.b)({next:L,complete:L,error:L})).subscribe(C).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wd=(()=>{class E{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Tc(Zone.current)),this.insideAngular=R.run(()=>new Tc(Zone.current,zo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(R){return new(R||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Rs(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ol(E){return Rs().ngZone.runOutsideAngular(()=>E())}function xs(E){return Rs().ngZone.run(()=>E())}function co(E){return Rs(),function ks(E){return function(R){return(R=R.lift(new Vf(E.ngZone))).pipe((0,Pn.R)(E.outsideAngular),(0,wn.Q)(E.insideAngular))}}(Rs())(E)}const Ps=(E,C)=>{const R=void 0;return function(){return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),xs(()=>E.apply(R,arguments))}},ho=(E,C)=>function(){let R;for(let Y=0;Y<arguments.length;Y++)"function"==typeof arguments[Y]&&(C&&(R||(R=xs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo)))),arguments[Y]=Ps(arguments[Y],R));const L=ol(()=>E.apply(this,arguments));if(!C){if(L instanceof wc.y){const Y=Rs();return L.pipe((0,Pn.R)(Y.outsideAngular),(0,wn.Q)(Y.insideAngular))}return xs(()=>L)}return L instanceof wc.y?L.pipe(co):L instanceof Promise?xs(()=>new Promise((Y,le)=>L.then(Re=>xs(()=>Y(Re)),Re=>xs(()=>le(Re))))):"function"==typeof L&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),L.apply(this,arguments)}:xs(()=>L)}},5799:(lt,Te,k)=>{"use strict";k.d(Te,{$:()=>$u,A:()=>ht,E:()=>Es,G:()=>Tr,I:()=>Ci,K:()=>Vn,L:()=>Ja,M:()=>Xa,N:()=>pa,P:()=>L,Q:()=>us,R:()=>Wd,T:()=>ar,U:()=>Fo,V:()=>Ii,W:()=>eu,X:()=>_a,Y:()=>ya,Z:()=>gr,_:()=>ls,a:()=>Ms,a0:()=>Hu,a1:()=>kd,a2:()=>ba,a3:()=>zu,a4:()=>qu,a5:()=>xf,a6:()=>kf,a7:()=>mr,a8:()=>kn,a9:()=>Fg,aA:()=>Ic,aB:()=>zd,aC:()=>pr,aG:()=>Sa,aJ:()=>Mn,aa:()=>Lg,ab:()=>jo,ae:()=>Pf,af:()=>qn,ag:()=>Pd,aj:()=>Bu,ak:()=>gn,am:()=>Ju,an:()=>fi,ao:()=>la,ap:()=>Jn,aq:()=>is,ar:()=>Ro,as:()=>Sn,at:()=>pl,au:()=>Kd,av:()=>Kt,aw:()=>Le,ax:()=>Tn,ay:()=>ti,az:()=>qd,b:()=>As,c:()=>_r,d:()=>Mi,e:()=>fo,f:()=>Ug,g:()=>ll,h:()=>Bf,i:()=>uo,j:()=>Pa,k:()=>Zf,l:()=>Yo,m:()=>Zg,o:()=>It,r:()=>ks,s:()=>xs,u:()=>C,z:()=>an});var c=k(5861),V=k(2090),x=k(9681);function ue(y,f){var m={};for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&f.indexOf(w)<0&&(m[w]=y[w]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(w=Object.getOwnPropertySymbols(y);S<w.length;S++)f.indexOf(w[S])<0&&Object.prototype.propertyIsEnumerable.call(y,w[S])&&(m[w[S]]=y[w[S]])}return m}var we=k(1877),Ve=k(4859);const It={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ht={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const an=function ft(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Dr=function fr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Zt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qr=new we.Yd("@firebase/auth");function _n(y,...f){Qr.logLevel<=we.in.ERROR&&Qr.error(`Auth (${x.SDK_VERSION}): ${y}`,...f)}function Sn(y,...f){throw Xr(y,...f)}function Kt(y,...f){return Xr(y,...f)}function ns(y,f,m){const w=Object.assign(Object.assign({},Dr()),{[f]:m});return new V.LL("auth","Firebase",w).create(f,{appName:y.name})}function Jr(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Sn(y,"argument-error"),ns(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xr(y,...f){if("string"!=typeof y){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return Zt.create(y,...f)}function Le(y,f,...m){if(!y)throw Xr(f,...m)}function yn(y){const f="INTERNAL ASSERTION FAILED: "+y;throw _n(f),new Error(f)}function Jn(y,f){y||yn(f)}const yt=new Map;function Tn(y){Jn(y instanceof Function,"Expected a class definition");let f=yt.get(y);return f?(Jn(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,yt.set(y,f),f)}function Ur(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Dt(){return"http:"===ot()||"https:"===ot()}function ot(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Gn{constructor(f,m){this.shortDelay=f,this.longDelay=m,Jn(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function At(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xt(y,f){Jn(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class tt{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},oa=new Gn(3e4,6e4);function un(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function vt(y,f,m,w){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(y,f,m,w,S={}){return nn(y,S,(0,c.Z)(function*(){let O={},Z={};w&&("GET"===f?Z=w:O={body:JSON.stringify(w)});const me=(0,V.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),Je=yield y._getAdditionalHeaders();return Je["Content-Type"]="application/json",y.languageCode&&(Je["X-Firebase-Locale"]=y.languageCode),tt.fetch()(z(y,y.config.apiHost,m,me),Object.assign({method:f,headers:Je,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function nn(y,f,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(y,f,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},pt),f);try{const S=new be(y),O=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw te(y,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const me=O.ok?Z.errorMessage:Z.error.message,[Je,$e]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw te(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Je)throw te(y,"email-already-in-use",Z);const Tt=w[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw ns(y,Tt,$e);Sn(y,Tt)}}catch(S){if(S instanceof V.ZR)throw S;Sn(y,"network-request-failed")}})).apply(this,arguments)}function U(y,f,m,w){return W.apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(y,f,m,w,S={}){const O=yield vt(y,f,m,w,S);return"mfaPendingCredential"in O&&Sn(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function z(y,f,m,w){const S=`${f}${m}?${w}`;return y.config.emulator?xt(y.config,S):`${y.config.apiScheme}://${S}`}class be{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Kt(this.auth,"timeout")),oa.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function te(y,f,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=Kt(y,f,w);return S.customData._tokenResponse=m,S}function bt(){return(bt=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ln(y,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $n(y,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function kt(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function H(){return(H=(0,c.Z)(function*(y,f=!1){const m=(0,V.m9)(y),w=yield m.getIdToken(f),S=qe(w);Le(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,Z=null==O?void 0:O.sign_in_provider;return{claims:S,token:w,authTime:kt(Ee(S.auth_time)),issuedAtTime:kt(Ee(S.iat)),expirationTime:kt(Ee(S.exp)),signInProvider:Z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ee(y){return 1e3*Number(y)}function qe(y){const[f,m,w]=y.split(".");if(void 0===f||void 0===m||void 0===w)return _n("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,V.tV)(m);return S?JSON.parse(S):(_n("Failed to decode base64 JWT payload"),null)}catch(S){return _n("Caught error parsing JWT payload as JSON",S),null}}function gt(y,f){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof V.ZR&&vn(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function vn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class en{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class Hn{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=kt(this.lastLoginAt),this.creationTime=kt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bt(y){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(y){var f;const m=y.auth,w=yield y.getIdToken(),S=yield gt(y,$n(m,{idToken:w}));Le(null==S?void 0:S.users.length,m,"internal-error");const O=S.users[0];y._notifyReloadListener(O);const Z=(null===(f=O.providerUserInfo)||void 0===f?void 0:f.length)?aa(O.providerUserInfo):[],me=Er(y.providerData,Z),Tt=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==me?void 0:me.length)),dn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:me,metadata:new Hn(O.createdAt,O.lastLoginAt),isAnonymous:Tt};Object.assign(y,dn)})).apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(y){const f=(0,V.m9)(y);yield Bt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Er(y,f){return[...y.filter(w=>!f.some(S=>S.providerId===w.providerId)),...f]}function aa(y){return y.map(f=>{var{providerId:m}=f,w=ue(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Ye(){return(Ye=(0,c.Z)(function*(y,f){const m=yield nn(y,{},(0,c.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:O}=y.config,Z=z(y,S,"/v1/token",`key=${O}`),me=yield y._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(Z,{method:"POST",headers:me,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Le(f.idToken,"internal-error"),Le(void 0!==f.idToken,"internal-error"),Le(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function St(y){const f=qe(y);return Le(f,"internal-error"),Le(void 0!==f.exp,"internal-error"),Le(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,c.Z)(function*(){return Le(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:Z}=yield function ei(y,f){return Ye.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(S,O,Number(Z))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:S,expirationTime:O}=m,Z=new Nt;return w&&(Le("string"==typeof w,"internal-error",{appName:f}),Z.refreshToken=w),S&&(Le("string"==typeof S,"internal-error",{appName:f}),Z.accessToken=S),O&&(Le("number"==typeof O,"internal-error",{appName:f}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return yn("not implemented")}}function Wt(y,f){Le("string"==typeof y||void 0===y,"internal-error",{appName:f})}class Xn{constructor(f){var{uid:m,auth:w,stsTokenManager:S}=f,O=ue(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new en(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.metadata=new Hn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,c.Z)(function*(){const w=yield gt(m,m.stsTokenManager.getToken(m.auth,f));return Le(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function q(y){return H.apply(this,arguments)}(this,f)}reload(){return function ws(y){return rs.apply(this,arguments)}(this)}_assign(f){this!==f&&(Le(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Xn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),S=!0),m&&(yield Bt(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,c.Z)(function*(){const m=yield f.getIdToken();return yield gt(f,function Qe(y,f){return bt.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,S,O,Z,me,Je,$e,Tt;const dn=null!==(w=m.displayName)&&void 0!==w?w:void 0,Dn=null!==(S=m.email)&&void 0!==S?S:void 0,yr=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Yn=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,gl=null!==(me=m.tenantId)&&void 0!==me?me:void 0,sh=null!==(Je=m._redirectEventId)&&void 0!==Je?Je:void 0,Kf=null!==($e=m.createdAt)&&void 0!==$e?$e:void 0,nt=null!==(Tt=m.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:tn,emailVerified:Fn,isAnonymous:Va,providerData:oh,stsTokenManager:ml}=m;Le(tn&&ml,f,"internal-error");const Kg=Nt.fromJSON(this.name,ml);Le("string"==typeof tn,f,"internal-error"),Wt(dn,f.name),Wt(Dn,f.name),Le("boolean"==typeof Fn,f,"internal-error"),Le("boolean"==typeof Va,f,"internal-error"),Wt(yr,f.name),Wt(Yn,f.name),Wt(gl,f.name),Wt(sh,f.name),Wt(Kf,f.name),Wt(nt,f.name);const _l=new Xn({uid:tn,auth:f,email:Dn,emailVerified:Fn,displayName:dn,isAnonymous:Va,photoURL:Yn,phoneNumber:yr,tenantId:gl,stsTokenManager:Kg,createdAt:Kf,lastLoginAt:nt});return oh&&Array.isArray(oh)&&(_l.providerData=oh.map(Qg=>Object.assign({},Qg))),sh&&(_l._redirectEventId=sh),_l}static _fromIdTokenResponse(f,m,w=!1){return(0,c.Z)(function*(){const S=new Nt;S.updateFromServerResponse(m);const O=new Xn({uid:m.localId,auth:f,stsTokenManager:S,isAnonymous:w});return yield Bt(O),O})()}}const Vn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,c.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function ti(y,f,m){return`firebase:${y}:${f}:${m}`}class Qt{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:S,name:O}=this.auth;this.fullUserKey=ti(this.userKey,S.apiKey,O),this.fullPersistenceKey=ti("persistence",S.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Xn._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,c.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Qt(Tn(Vn),f,w);const S=(yield Promise.all(m.map(function(){var $e=(0,c.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return $e.apply(this,arguments)}}()))).filter($e=>$e);let O=S[0]||Tn(Vn);const Z=ti(w,f.config.apiKey,f.name);let me=null;for(const $e of m)try{const Tt=yield $e._get(Z);if(Tt){const dn=Xn._fromJSON(f,Tt);$e!==O&&(me=dn),O=$e;break}}catch(Tt){}const Je=S.filter($e=>$e._shouldAllowMigration);return O._shouldAllowMigration&&Je.length?(O=Je[0],me&&(yield O._set(Z,me.toJSON())),yield Promise.all(m.map(function(){var $e=(0,c.Z)(function*(Tt){if(Tt!==O)try{yield Tt._remove(Z)}catch(dn){}});return function(Tt){return $e.apply(this,arguments)}}())),new Qt(O,f,w)):new Qt(O,f,w)})()}}function zs(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(qs(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Wn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Zs(f))return"Blackberry";if(An(f))return"Webos";if(Mt(f))return"Safari";if((f.includes("chrome/")||ua(f))&&!f.includes("edge/"))return"Chrome";if(Ro(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Wn(y=(0,V.z$)()){return/firefox\//i.test(y)}function Mt(y=(0,V.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ua(y=(0,V.z$)()){return/crios\//i.test(y)}function qs(y=(0,V.z$)()){return/iemobile/i.test(y)}function Ro(y=(0,V.z$)()){return/android/i.test(y)}function Zs(y=(0,V.z$)()){return/blackberry/i.test(y)}function An(y=(0,V.z$)()){return/webos/i.test(y)}function is(y=(0,V.z$)()){return/iphone|ipad|ipod/i.test(y)}function la(y=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function ku(y=(0,V.z$)()){return is(y)||Ro(y)||An(y)||Zs(y)||/windows phone/i.test(y)||qs(y)}function ci(y,f=[]){let m;switch(y){case"Browser":m=zs((0,V.z$)());break;case"Worker":m=`${zs((0,V.z$)())}-${y}`;break;default:m=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${x.SDK_VERSION}/${w}`}class ji{constructor(f,m){this.app=f,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pu(this),this.idTokenSubscription=new Pu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=Tn(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,O;if(!w._deleted&&(w.persistenceManager=yield Qt.create(w,f),!w._deleted)){if(null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(Z){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,c.Z)(function*(){var w;let S=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const O=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Z=null==S?void 0:S._redirectEventId,me=yield m.tryRedirectSignIn(f);(!O||O===Z)&&(null==me?void 0:me.user)&&(S=me.user)}return S?S._redirectEventId?(Le(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)):m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(S){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,c.Z)(function*(){try{yield Bt(f)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function fn(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){const w=f?(0,V.m9)(f):null;return w&&Le(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return f&&Le(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(Tn(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,c.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&Tn(f)||m._popupRedirectResolver;Le(w,m,"argument-error"),m.redirectPersistenceManager=yield Qt.create(m,[Tn(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,c.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,c.Z)(function*(){if(f===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,S){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return Le(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof m?f.addObserver(m,w,S):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ci(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){const m={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(m["X-Firebase-gmpid"]=f.app.options.appId),m})()}}function pr(y){return(0,V.m9)(y)}class Pu{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Es(y,f,m){const w=pr(y);Le(w._canInitEmulator,w,"emulator-config-failed"),Le(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),O=Ti(f),{host:Z,port:me}=function Ad(y){const f=Ti(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const O=S[1];return{host:O,port:da(w.substr(O.length+1))}}{const[O,Z]=w.split(":");return{host:O,port:da(Z)}}}(f);w.config.emulator={url:`${O}//${Z}${null===me?"":`:${me}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Z,port:me,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Af(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function Ti(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function da(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Tr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return yn("not implemented")}_getIdTokenResponse(f){return yn("not implemented")}_linkToIdToken(f,m){return yn("not implemented")}_getReauthenticationResolver(f){return yn("not implemented")}}function Nd(y,f){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:resetPassword",un(y,f))})).apply(this,arguments)}function Md(y,f){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Od(y,f){return oc.apply(this,arguments)}function oc(){return(oc=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:update",un(y,f))})).apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithPassword",un(y,f))})).apply(this,arguments)}function Lu(y,f){return ac.apply(this,arguments)}function ac(){return(ac=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:sendOobCode",un(y,f))})).apply(this,arguments)}function Nf(y,f){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(y,f){return Lu(y,f)})).apply(this,arguments)}function Mf(y,f){return lc.apply(this,arguments)}function lc(){return(lc=(0,c.Z)(function*(y,f){return Lu(y,f)})).apply(this,arguments)}function Rd(y,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(y,f){return Lu(y,f)})).apply(this,arguments)}function Of(y,f){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.Z)(function*(y,f){return Lu(y,f)})).apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithEmailLink",un(y,f))})).apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithEmailLink",un(y,f))})).apply(this,arguments)}class os extends Tr{constructor(f,m,w,S=null){super("password",w),this._email=f,this._password=m,this._tenantId=S}static _fromEmailAndPassword(f,m){return new os(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new os(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Fu(y,f){return Ts.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Rf(y,f){return ss.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Sn(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Md(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function cc(y,f){return Ks.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:Sn(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function as(y,f){return dc.apply(this,arguments)}function dc(){return(dc=(0,c.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithIdp",un(y,f))})).apply(this,arguments)}class Ci extends Tr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ci(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Sn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:S}=m,O=ue(m,["providerId","signInMethod"]);if(!w||!S)return null;const Z=new Ci(w,S);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(f){return as(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,as(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,as(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,V.xO)(m)}return f}}function xo(y,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:sendVerificationCode",un(y,f))})).apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithPhoneNumber",un(y,f))})).apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(y,f){const m=yield U(y,"POST","/v1/accounts:signInWithPhoneNumber",un(y,f));if(m.temporaryProof)throw te(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const hc={USER_NOT_FOUND:"user-not-found"};function fa(){return(fa=(0,c.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithPhoneNumber",un(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),hc)})).apply(this,arguments)}class ko extends Tr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new ko({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new ko({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function xd(y,f){return Cr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Vu(y,f){return Qa.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function fc(y,f){return fa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}=f;return w||m||S||O?new ko({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}):null}}class Po{constructor(f){var m,w,S,O,Z,me;const Je=(0,V.zd)((0,V.pd)(f)),$e=null!==(m=Je.apiKey)&&void 0!==m?m:null,Tt=null!==(w=Je.oobCode)&&void 0!==w?w:null,dn=function Nn(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Je.mode)&&void 0!==S?S:null);Le($e&&Tt&&dn,"argument-error"),this.apiKey=$e,this.operation=dn,this.code=Tt,this.continueUrl=null!==(O=Je.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=Je.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(me=Je.tenantId)&&void 0!==me?me:null}static parseLink(f){const m=function Cs(y){const f=(0,V.zd)((0,V.pd)(y)).link,m=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(y)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||m||f||y}(f);try{return new Po(m)}catch(w){return null}}}let Ja=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return os._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=Po.parseLink(w);return Le(S,"argument-error"),os._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class di{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class xr extends di{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ar extends xr{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return Le("providerId"in m&&"signInMethod"in m,"argument-error"),Ci._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Le(f.idToken||f.accessToken,"argument-error"),Ci._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ar.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ar.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:O,nonce:Z,providerId:me}=f;if(!w&&!S&&!m&&!O||!me)return null;try{return new ar(me)._credential({idToken:m,accessToken:w,nonce:Z,pendingToken:O})}catch(Je){return null}}}let Xa=(()=>{class y extends xr{constructor(){super("facebook.com")}static credential(m){return Ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),pa=(()=>{class y extends xr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return y.credential(w,S)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),us=(()=>{class y extends xr{constructor(){super("github.com")}static credential(m){return Ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Mn extends Tr{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return as(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,as(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,as(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:S,pendingToken:O}=m;return w&&S&&O&&w===S?new Mn(w,O):null}static _create(f,m){return new Mn(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fo extends di{constructor(f){Le(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Fo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Fo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Mn.fromJSON(f);return Le(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return Mn._create(w,m)}catch(S){return null}}}let Ii=(()=>{class y extends xr{constructor(){super("twitter.com")}static credential(m,w){return Ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return y.credential(w,S)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Is(y,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signUp",un(y,f))})).apply(this,arguments)}class ct{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,S=!1){return(0,c.Z)(function*(){const O=yield Xn._fromIdTokenResponse(f,w,S),Z=Js(w);return new ct({user:O,providerId:Z,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const S=Js(w);return new ct({user:f,providerId:S,_tokenResponse:w,operationType:m})})()}}function Js(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function eu(y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(y){var f;const m=pr(y);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new ct({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Is(m,{returnSecureToken:!0}),S=yield ct._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class eo extends V.ZR{constructor(f,m,w,S){var O;super(m.code,m.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,eo.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,S){return new eo(f,m,w,S)}}function tu(y,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?eo._fromErrorAndOperation(y,O,f,w):O})}function Uu(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Bu(y,f){return Me.apply(this,arguments)}function Me(){return(Me=(0,c.Z)(function*(y,f){const m=(0,V.m9)(y);yield cn(!0,m,f);const{providerUserInfo:w}=yield ln(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),S=Uu(w||[]);return m.providerData=m.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Vt(y,f){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(y,f,m=!1){const w=yield gt(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return ct._forOperation(y,"link",w)})).apply(this,arguments)}function cn(y,f,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(y,f,m){yield Bt(f);const S=!1===y?"provider-already-linked":"no-such-provider";Le(Uu(f.providerData).has(m)===y,f.auth,S)})).apply(this,arguments)}function to(y,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(y,f,m=!1){const{auth:w}=y,S="reauthenticate";try{const O=yield gt(y,tu(w,S,f,y),m);Le(O.idToken,w,"internal-error");const Z=qe(O.idToken);Le(Z,w,"internal-error");const{sub:me}=Z;return Le(y.uid===me,w,"user-mismatch"),ct._forOperation(y,S,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Sn(w,"user-mismatch"),O}})).apply(this,arguments)}function Ss(y,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(y,f,m=!1){const w="signIn",S=yield tu(y,w,f),O=yield ct._fromIdTokenResponse(y,w,S);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function _a(y,f){return ju.apply(this,arguments)}function ju(){return(ju=(0,c.Z)(function*(y,f){return Ss(pr(y),f)})).apply(this,arguments)}function ya(y,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(y,f){const m=(0,V.m9)(y);return yield cn(!1,m,f.providerId),Vt(m,f)})).apply(this,arguments)}function gr(y,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(y,f){return to((0,V.m9)(y),f)})).apply(this,arguments)}function pc(y,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(y,f){return U(y,"POST","/v1/accounts:signInWithCustomToken",un(y,f))})).apply(this,arguments)}function ls(y,f){return ru.apply(this,arguments)}function ru(){return(ru=(0,c.Z)(function*(y,f){const m=pr(y),w=yield pc(m,{token:f,returnSecureToken:!0}),S=yield ct._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class no{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Gu._fromServerResponse(f,m):Sn(f,"internal-error")}}class Gu extends no{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Gu(m)}}function Uo(y,f,m){var w;Le((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),Le(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Le(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(Le(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function $u(y,f,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y),S={requestType:"PASSWORD_RESET",email:f};m&&Uo(w,S,m),yield Mf(w,S)})).apply(this,arguments)}function Hu(y,f,m){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(y,f,m){yield Nd((0,V.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function kd(y,f){return va.apply(this,arguments)}function va(){return(va=(0,c.Z)(function*(y,f){yield Od((0,V.m9)(y),{oobCode:f})})).apply(this,arguments)}function ba(y,f){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,c.Z)(function*(y,f){const m=(0,V.m9)(y),w=yield Nd(m,{oobCode:f}),S=w.requestType;switch(Le(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Le(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Le(w.mfaInfo,m,"internal-error");default:Le(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=no._fromServerResponse(pr(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function zu(y,f){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(y,f){const{data:m}=yield ba((0,V.m9)(y),f);return m.email})).apply(this,arguments)}function qu(y,f,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(y,f,m){const w=pr(y),S=yield Is(w,{returnSecureToken:!0,email:f,password:m}),O=yield ct._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function xf(y,f,m){return _a((0,V.m9)(y),Ja.credential(f,m))}function kf(y,f,m){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y),S={requestType:"EMAIL_SIGNIN",email:f};Le(m.handleCodeInApp,w,"argument-error"),m&&Uo(w,S,m),yield Rd(w,S)})).apply(this,arguments)}function mr(y,f){const m=Po.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function kn(y,f,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y),S=Ja.credentialWithLink(f,m||Ur());return Le(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),_a(w,S)})).apply(this,arguments)}function Zu(y,f){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:createAuthUri",un(y,f))})).apply(this,arguments)}function Fg(y,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,c.Z)(function*(y,f){const w={identifier:f,continueUri:Dt()?Ur():"http://localhost"},{signinMethods:S}=yield Zu((0,V.m9)(y),w);return S||[]})).apply(this,arguments)}function Lg(y,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(y,f){const m=(0,V.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Uo(m.auth,S,f);const{email:O}=yield Nf(m.auth,S);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function jo(y,f,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Uo(w.auth,O,m);const{email:Z}=yield Of(w.auth,O);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function gc(y,f){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,c.Z)(function*(y,f){return vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Pf(y,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,V.m9)(y),O={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Z=yield gt(w,gc(w.auth,O));w.displayName=Z.displayName||null,w.photoURL=Z.photoUrl||null;const me=w.providerData.find(({providerId:Je})=>"password"===Je);me&&(me.displayName=w.displayName,me.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Z)})).apply(this,arguments)}function qn(y,f){return Fd((0,V.m9)(y),f,null)}function Pd(y,f){return Fd((0,V.m9)(y),null,f)}function Fd(y,f,m){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(y,f,m){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(O.email=f),m&&(O.password=m);const Z=yield gt(y,Md(w,O));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class so{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class Ld extends so{constructor(f,m,w,S){super(f,m,w),this.username=S}}class Vd extends so{constructor(f,m){super(f,"facebook.com",m)}}class Ff extends Ld{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Qu extends so{constructor(f,m){super(f,"google.com",m)}}class On extends Ld{constructor(f,m,w){super(f,"twitter.com",m,w)}}function gn(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function mc(y){var f,m;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const Z=null===(m=null===(f=qe(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new so(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!w)return null;switch(w){case"facebook.com":return new Vd(O,S);case"github.com":return new Ff(O,S);case"google.com":return new Qu(O,S);case"twitter.com":return new On(O,S,y.screenName||null);case"custom":case"anonymous":return new so(O,null);default:return new so(O,w,S)}}(m)}class Yt{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Yt("enroll",f)}static _fromMfaPendingCredential(f){return new Yt("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Yt._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return Yt._fromIdtoken(f.multiFactorSession.idToken)}return null}}class st{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=pr(f),S=m.customData._serverResponse,O=(S.mfaInfo||[]).map(me=>no._fromServerResponse(w,me));Le(S.mfaPendingCredential,w,"internal-error");const Z=Yt._fromMfaPendingCredential(S.mfaPendingCredential);return new st(Z,O,function(){var me=(0,c.Z)(function*(Je){const $e=yield Je._process(w,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const Tt=Object.assign(Object.assign({},S),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(m.operationType){case"signIn":const dn=yield ct._fromIdTokenResponse(w,m.operationType,Tt);return yield w._updateCurrentUser(dn.user),dn;case"reauthenticate":return Le(m.user,w,"internal-error"),ct._forOperation(m.user,m.operationType,Tt);default:Sn(w,"internal-error")}});return function(Je){return me.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,c.Z)(function*(){return m.signInResolver(f)})()}}function Ju(y,f){var m;const w=(0,V.m9)(y),S=f;return Le(f.customData.operationType,w,"argument-error"),Le(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),st._fromError(w,S)}function Xu(y,f){return vt(y,"POST","/v2/accounts/mfaEnrollment:start",un(y,f))}class Ia{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>no._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Ia(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Yt._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var w=this;return(0,c.Z)(function*(){const S=f,O=yield w.getSession(),Z=yield gt(w.user,S._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(Z),w.user.reload()})()}unenroll(f){var m=this;return(0,c.Z)(function*(){const w="string"==typeof f?f:f.uid,S=yield m.user.getIdToken(),O=yield gt(m.user,function Ho(y,f){return vt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",un(y,f))}(m.user.auth,{idToken:S,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==w),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const Wo=new WeakMap;function fi(y){const f=(0,V.m9)(y);return Wo.has(f)||Wo.set(f,Ia._fromUser(f)),Wo.get(f)}const ur="__sak";class su{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ur,"1"),this.storage.removeItem(ur),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const As=(()=>{class y extends su{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tl(){const y=(0,V.z$)();return Mt(y)||is(y)}()&&function ca(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ku(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),O=this.localCache[w];S!==O&&m(w,O,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((me,Je,$e)=>{this.notifyListeners(me,$e)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(S);if(m.newValue!==me)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const O=()=>{const me=this.storage.getItem(S);!w&&this.localCache[S]===me||this.notifyListeners(S,me)},Z=this.storage.getItem(S);!function pn(){return(0,V.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,O=this;return(0,c.Z)(function*(){yield S().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,c.Z)(function*(){const O=yield w().call(S,m);return S.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,S=this;return(0,c.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Ms=(()=>{class y extends su{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let $i=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const S=m,{eventId:O,eventType:Z,data:me}=S.data,Je=w.handlersMap[Z];if(!(null==Je?void 0:Je.size))return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const $e=Array.from(Je).map(function(){var dn=(0,c.Z)(function*(Dn){return Dn(S.origin,me)});return function(Dn){return dn.apply(this,arguments)}}()),Tt=yield function In(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}($e);S.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:Tt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Sa(y="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return y+m}class jd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var S=this;return(0,c.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,me;return new Promise((Je,$e)=>{const Tt=Sa("",20);O.port1.start();const dn=setTimeout(()=>{$e(new Error("unsupported_event"))},w);me={messageChannel:O,onMessage(Dn){const yr=Dn;if(yr.data.eventId===Tt)switch(yr.data.status){case"ack":clearTimeout(dn),Z=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Je(yr.data.response);break;default:clearTimeout(dn),clearTimeout(Z),$e(new Error("invalid_response"))}}},S.handlers.add(me),O.port1.addEventListener("message",me.onMessage),S.target.postMessage({eventType:f,eventId:Tt,data:m},[O.port2])}).finally(()=>{me&&S.removeMessageHandler(me)})})()}}function bn(){return window}function Os(){return void 0!==bn().WorkerGlobalScope&&"function"==typeof bn().importScripts}function Ni(){return(Ni=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const au="firebaseLocalStorageDb",Hi="firebaseLocalStorage",uu="fbase_key";class Aa{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function mn(y,f){return y.transaction([Hi],f?"readwrite":"readonly").objectStore(Hi)}function Na(){const y=indexedDB.open(au,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Hi,{keyPath:uu})}catch(S){m(S)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Hi)?f(w):(w.close(),yield function Gd(){const y=indexedDB.deleteDatabase(au);return new Aa(y).toPromise()}(),f(yield Na()))}))})}function $d(y,f,m){return il.apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(y,f,m){const w=mn(y,!0).put({[uu]:f,value:m});return new Aa(w).toPromise()})).apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(y,f){const m=mn(y,!1).get(f),w=yield new Aa(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function vc(y,f){const m=mn(y,!0).delete(f);return new Aa(m).toPromise()}const uo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield Na()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(S++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Os()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=$i._getInstance(function cs(){return Os()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(S,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(S,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function ou(){return Ni.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new jd(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=O[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function oo(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Na();return yield $d(m,ur,"1"),yield vc(m,ur),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(O=>$d(O,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const S=yield w._withRetries(O=>function Lf(y,f){return sl.apply(this,arguments)}(O,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(S=>vc(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(Z=>{const me=mn(Z,!1).getAll();return new Aa(me).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:Z,value:me}of w)O.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(me)&&(m.notifyListeners(Z,me),S.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!O.has(Z)&&(m.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function zo(y,f){return vt(y,"POST","/v2/accounts/mfaSignIn:start",un(y,f))}function Pn(){return(Pn=(0,c.Z)(function*(y){return(yield vt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function lu(y){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=S=>{const O=Kt("internal-error");O.customData=S,m(O)},w.type="text/javascript",w.charset="UTF-8",function wn(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function Ma(y){return`__${y}${Math.floor(1e6*Math.random())}`}const lo=1e12;class du{constructor(f){this.auth=f,this.counter=lo,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new Oa(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||lo;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||lo))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(f||lo))||void 0===w||w.execute(),""})()}}class Oa{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;Le(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ec(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ra=Ma("rcb"),pi=new Gn(3e4,6e4);class xa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!bn().grecaptcha}load(f,m=""){return Le(function Vg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(bn().grecaptcha):new Promise((w,S)=>{const O=bn().setTimeout(()=>{S(Kt(f,"network-request-failed"))},pi.get());bn()[Ra]=()=>{bn().clearTimeout(O),delete bn()[Ra];const me=bn().grecaptcha;if(!me)return void S(Kt(f,"internal-error"));const Je=me.render;me.render=($e,Tt)=>{const dn=Je($e,Tt);return this.counter++,dn},this.hostLanguage=m,w(me)},lu(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Ra,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),S(Kt(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!bn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zo{load(f){return(0,c.Z)(function*(){return new du(f)})()}clearedOneInstance(){}}const Tc="recaptcha",Vf={theme:"light",type:"image"};class Wd{constructor(f,m=Object.assign({},Vf),w){this.parameters=m,this.type=Tc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(w),this.isInvisible="invisible"===this.parameters.size,Le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;Le(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zo:new xa,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const Z=me=>{!me||(f.tokenChangeListeners.delete(Z),O(me))};f.tokenChangeListeners.add(Z),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Le(!this.parameters.sitekey,this.auth,"argument-error"),Le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=bn()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){Le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){Le(Dt()&&!Os(),f.auth,"internal-error"),yield function Rs(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Dc(y){return Pn.apply(this,arguments)}(f.auth);Le(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return Le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ol{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=ko._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function xs(y,f,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(y,f,m){const w=pr(y),S=yield ho(w,f,(0,V.m9)(m));return new ol(S,O=>_a(w,O))})).apply(this,arguments)}function Yo(y,f,m){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y);yield cn(!1,w,"phone");const S=yield ho(w.auth,f,(0,V.m9)(m));return new ol(S,O=>ya(w,O))})).apply(this,arguments)}function ks(y,f,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y),S=yield ho(w.auth,f,(0,V.m9)(m));return new ol(S,O=>gr(w,O))})).apply(this,arguments)}function ho(y,f,m){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*(y,f,m){var w;const S=yield m.verify();try{let O;if(Le("string"==typeof S,y,"argument-error"),Le(m.type===Tc,y,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const Z=O.session;if("phoneNumber"in O)return Le("enroll"===Z.type,y,"internal-error"),(yield Xu(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Le("signin"===Z.type,y,"internal-error");const me=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return Le(me,y,"missing-multi-factor-info"),(yield zo(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield xo(y,{phoneNumber:O.phoneNumber,recaptchaToken:S});return Z}}finally{m._reset()}})).apply(this,arguments)}function C(y,f){return R.apply(this,arguments)}function R(){return(R=(0,c.Z)(function*(y,f){yield Vt((0,V.m9)(y),f)})).apply(this,arguments)}let L=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=pr(m)}verifyPhoneNumber(m,w){return ho(this.auth,m,(0,V.m9)(w))}static credential(m,w){return ko._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?ko._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Y(y,f){return f?Tn(f):(Le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class le extends Tr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return as(f,this._buildIdpRequest())}_linkToIdToken(f,m){return as(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return as(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Re(y){return Ss(y.auth,new le(y),y.bypassAuthState)}function it(y){const{auth:f,user:m}=y;return Le(m,f,"internal-error"),to(m,new le(y),y.bypassAuthState)}function We(y){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(y){const{auth:f,user:m}=y;return Le(m,f,"internal-error"),Vt(m,new le(y),y.bypassAuthState)})).apply(this,arguments)}class rn{constructor(f,m,w,S,O=!1){this.auth=f,this.resolver=w,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,c.Z)(function*(w,S){f.pendingPromise={resolve:w,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:O,tenantId:Z,error:me,type:Je}=f;if(me)return void m.reject(me);const $e={auth:m.auth,requestUri:w,sessionId:S,tenantId:Z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Je)($e))}catch(Tt){m.reject(Tt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Re;case"linkViaPopup":case"linkViaRedirect":return We;case"reauthViaPopup":case"reauthViaRedirect":return it;default:Sn(this.auth,"internal-error")}}resolve(f){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fr=new Gn(2e3,1e4);function _r(y,f,m){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(y,f,m){const w=pr(y);Jr(y,f,di);const S=Y(w,m);return new ii(w,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function fo(y,f,m){return fu.apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y);Jr(w.auth,f,di);const S=Y(w.auth,m);return new ii(w.auth,"reauthViaPopup",f,S,w).executeNotNull()})).apply(this,arguments)}function Mi(y,f,m){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y);Jr(w.auth,f,di);const S=Y(w.auth,m);return new ii(w.auth,"linkViaPopup",f,S,w).executeNotNull()})).apply(this,arguments)}let ii=(()=>{class y extends rn{constructor(m,w,S,O,Z){super(m,w,O,Z),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return Le(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){Jn(1===m.filter.length,"Popup operations only handle one event");const w=Sa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Kt(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Kt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Fr.get())};m()}}return y.currentPopupAction=null,y})();const Ko=new Map;class Uf extends rn{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=Ko.get(m.auth._key());if(!w){try{const O=(yield function al(y,f){return ka.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(O)}catch(S){w=()=>Promise.reject(S)}Ko.set(m.auth._key(),w)}return m.bypassAuthState||Ko.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const S=yield w.auth._redirectUserForId(f.eventId);if(S)return w.user=S,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ka(){return(ka=(0,c.Z)(function*(y,f){const m=Jo(f),w=Qo(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(m));return yield w._remove(m),S})).apply(this,arguments)}function pu(y,f){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,c.Z)(function*(y,f){return Qo(y)._set(Jo(f),"true")})).apply(this,arguments)}function zd(){Ko.clear()}function Qo(y){return Tn(y._redirectPersistence)}function Jo(y){return ti("pendingRedirect",y.config.apiKey,y.name)}function Ug(y,f,m){return function Bg(y,f,m){return ul.apply(this,arguments)}(y,f,m)}function ul(){return(ul=(0,c.Z)(function*(y,f,m){const w=pr(y);Jr(y,f,di);const S=Y(w,m);return yield pu(S,w),S._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Bf(y,f,m){return function jf(y,f,m){return Fs.apply(this,arguments)}(y,f,m)}function Fs(){return(Fs=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y);Jr(w.auth,f,di);const S=Y(w.auth,m);yield pu(S,w.auth);const O=yield hv(w);return S._openRedirect(w.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function ll(y,f,m){return function jg(y,f,m){return gu.apply(this,arguments)}(y,f,m)}function gu(){return(gu=(0,c.Z)(function*(y,f,m){const w=(0,V.m9)(y);Jr(w.auth,f,di);const S=Y(w.auth,m);yield cn(!1,w,f.providerId),yield pu(S,w.auth);const O=yield hv(w);return S._openRedirect(w.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function Pa(y,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(y,f){return yield pr(y)._initializationPromise,Ic(y,f,!1)})).apply(this,arguments)}function Ic(y,f){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,c.Z)(function*(y,f,m=!1){const w=pr(y),S=Y(w,f),Z=yield new Uf(w,S,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield w._persistUserIfCurrent(Z.user),yield w._setRedirectUser(null,f)),Z})).apply(this,arguments)}function hv(y){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(y){const f=Sa(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class qd{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Yd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zd(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!Zd(f)){const S=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Kt(this.auth,S))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sc(f))}saveEventToCache(f){this.cachedEventUids.add(Sc(f)),this.lastProcessedEventTime=Date.now()}}function Sc(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Zd({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Kd(y){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(y,f={}){return vt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Gg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qd=/^https?/;function po(){return(po=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Kd(y);for(const m of f)try{if(mu(m))return}catch(w){}Sn(y,"unauthorized-domain")})).apply(this,arguments)}function mu(y){const f=Ur(),{protocol:m,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===w}if(!Qd.test(m))return!1;if(Gg.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Hg=new Gn(3e4,6e4);function Hf(){const y=bn().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Nc=null;function Wf(y){return Nc=Nc||function fv(y){return new Promise((f,m)=>{var w,S,O;function Z(){Hf(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Hf(),m(Kt(y,"network-request-failed"))},timeout:Hg.get()})}if(null===(S=null===(w=bn().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(O=bn().gapi)||void 0===O?void 0:O.load)){const me=Ma("iframefcb");return bn()[me]=()=>{gapi.load?Z():m(Kt(y,"network-request-failed"))},lu(`https://apis.google.com/js/api.js?onload=${me}`).catch(Je=>m(Je))}Z()}}).catch(f=>{throw Nc=null,f})}(y),Nc}const pv=new Gn(5e3,15e3),Mc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xd(y){const f=y.config;Le(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?xt(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:y.name,v:x.SDK_VERSION},S=zg.get(y.config.apiHost);S&&(w.eid=S);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,V.xO)(w).slice(1)}`}function dl(){return dl=(0,c.Z)(function*(y){const f=yield Wf(y),m=bn().gapi;return Le(m,y,"internal-error"),f.open({where:document.body,url:Xd(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mc,dontclear:!0},w=>new Promise(function(){var S=(0,c.Z)(function*(O,Z){yield w.restyle({setHideOnLeave:!1});const me=Kt(y,"network-request-failed"),Je=bn().setTimeout(()=>{Z(me)},pv.get());function $e(){bn().clearTimeout(Je),O(w)}w.ping($e).then($e,()=>{Z(me)})});return function(O,Z){return S.apply(this,arguments)}}()))}),dl.apply(this,arguments)}const hl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class th{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function pl(y,f,m,w,S,O){Le(y.config.authDomain,y,"auth-domain-config-required"),Le(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:x.SDK_VERSION,eventId:S};if(f instanceof di){f.setDefaultLanguage(y.languageCode),Z.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(Z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Je,$e]of Object.entries(O||{}))Z[Je]=$e}if(f instanceof xr){const Je=f.getScopes().filter($e=>""!==$e);Je.length>0&&(Z.scopes=Je.join(","))}y.tenantId&&(Z.tid=y.tenantId);const me=Z;for(const Je of Object.keys(me))void 0===me[Je]&&delete me[Je];return`${function qf({config:y}){return y.emulator?xt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,V.xO)(me).slice(1)}`}const Fa="webStorageSupport",Zf=class yv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=Ic}_openPopup(f,m,w,S){var O=this;return(0,c.Z)(function*(){var Z;Jn(null===(Z=O.eventManagers[f._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const me=pl(f,m,w,Ur(),S);return function Oc(y,f,m,w=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-w)/2,0).toString();let me="";const Je=Object.assign(Object.assign({},hl),{width:w.toString(),height:S.toString(),top:O,left:Z}),$e=(0,V.z$)().toLowerCase();m&&(me=ua($e)?"_blank":m),Wn($e)&&(f=f||"http://localhost",Je.scrollbars="yes");const Tt=Object.entries(Je).reduce((Dn,[yr,Yn])=>`${Dn}${yr}=${Yn},`,"");if(function zn(y=(0,V.z$)()){var f;return is(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}($e)&&"_self"!==me)return function mv(y,f){const m=document.createElement("a");m.href=y,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",me),new th(null);const dn=window.open(f||"",me,Tt);Le(dn,y,"popup-blocked");try{dn.focus()}catch(Dn){}return new th(dn)}(f,me,Sa())})()}_openRedirect(f,m,w,S){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(f),function rl(y){bn().location.href=y}(pl(f,m,w,Ur(),S)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:S,promise:O}=this.eventManagers[m];return S?Promise.resolve(S):(Jn(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,c.Z)(function*(){const w=yield function gv(y){return dl.apply(this,arguments)}(f),S=new qd(f);return w.register("authEvent",O=>(Le(null==O?void 0:O.authEvent,f,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:S},m.iframes[f._key()]=w,S})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Fa,{type:Fa},S=>{var O;const Z=null===(O=null==S?void 0:S[0])||void 0===O?void 0:O[Fa];void 0!==Z&&m(!!Z),Sn(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function $g(y){return po.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return ku()||Mt()||is()}};class La extends class nh{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return yn("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new La(f)}_finalizeEnroll(f,m,w){return function el(y,f){return vt(y,"POST","/v2/accounts/mfaEnrollment:finalize",un(y,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function wc(y,f){return vt(y,"POST","/v2/accounts/mfaSignIn:finalize",un(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zg=(()=>{class y{constructor(){}static assertion(m){return La._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var rh="@firebase/auth";class ih{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{var S;f((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Yg(y){(0,x._registerComponent)(new Ve.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),{apiKey:S,authDomain:O}=w.options;return(Z=>{Le(S&&!S.includes(":"),"invalid-api-key",{appName:Z.name}),Le(!(null==O?void 0:O.includes(":")),"argument-error",{appName:Z.name});const me={apiKey:S,authDomain:O,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ci(y)},Je=new ji(Z,me);return function Cn(y,f){const m=(null==f?void 0:f.persistence)||[],w=(Array.isArray(m)?m:[m]).map(Tn);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(Je,m),Je})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new Ve.wA("auth-internal",f=>{const m=pr(f.getProvider("auth").getImmediate());return new ih(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(rh,"0.19.5",function Rc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,x.registerVersion)(rh,"0.19.5","esm2017")}("Browser")},2090:(lt,Te,k)=>{"use strict";k.d(Te,{BH:()=>Ge,LL:()=>ce,ZR:()=>Ve,zI:()=>pe,US:()=>he,tV:()=>se,$s:()=>vt,r3:()=>Vr,Sg:()=>Se,ne:()=>Jn,vZ:()=>Kt,ZB:()=>G,pd:()=>Le,m9:()=>Br,z$:()=>ke,jU:()=>ie,ru:()=>fe,d:()=>ve,xb:()=>_n,w1:()=>ze,hl:()=>mt,uI:()=>je,UG:()=>K,b$:()=>Ce,G6:()=>Ke,Mn:()=>Ie,xO:()=>Jr,zd:()=>Xr,eu:()=>J});const ne=function(U){const W=[];let z=0;for(let be=0;be<U.length;be++){let te=U.charCodeAt(be);te<128?W[z++]=te:te<2048?(W[z++]=te>>6|192,W[z++]=63&te|128):55296==(64512&te)&&be+1<U.length&&56320==(64512&U.charCodeAt(be+1))?(te=65536+((1023&te)<<10)+(1023&U.charCodeAt(++be)),W[z++]=te>>18|240,W[z++]=te>>12&63|128,W[z++]=te>>6&63|128,W[z++]=63&te|128):(W[z++]=te>>12|224,W[z++]=te>>6&63|128,W[z++]=63&te|128)}return W},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,W){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let te=0;te<U.length;te+=3){const Qe=U[te],bt=te+1<U.length,ln=bt?U[te+1]:0,xn=te+2<U.length,$n=xn?U[te+2]:0;let oe=(15&ln)<<2|$n>>6,q=63&$n;xn||(q=64,bt||(oe=64)),be.push(z[Qe>>2],z[(3&Qe)<<4|ln>>4],z[oe],z[q])}return be.join("")},encodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(U):this.encodeByteArray(ne(U),W)},decodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(U):function(U){const W=[];let z=0,be=0;for(;z<U.length;){const te=U[z++];if(te<128)W[be++]=String.fromCharCode(te);else if(te>191&&te<224){const Qe=U[z++];W[be++]=String.fromCharCode((31&te)<<6|63&Qe)}else if(te>239&&te<365){const xn=((7&te)<<18|(63&U[z++])<<12|(63&U[z++])<<6|63&U[z++])-65536;W[be++]=String.fromCharCode(55296+(xn>>10)),W[be++]=String.fromCharCode(56320+(1023&xn))}else{const Qe=U[z++],bt=U[z++];W[be++]=String.fromCharCode((15&te)<<12|(63&Qe)<<6|63&bt)}}return W.join("")}(this.decodeStringToByteArray(U,W))},decodeStringToByteArray(U,W){this.init_();const z=W?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let te=0;te<U.length;){const Qe=z[U.charAt(te++)],ln=te<U.length?z[U.charAt(te)]:0;++te;const $n=te<U.length?z[U.charAt(te)]:64;++te;const kt=te<U.length?z[U.charAt(te)]:64;if(++te,null==Qe||null==ln||null==$n||null==kt)throw Error();be.push(Qe<<2|ln>>4),64!==$n&&(be.push(ln<<4&240|$n>>2),64!==kt&&be.push($n<<6&192|kt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},re=function(U){return function(U){const W=ne(U);return he.encodeByteArray(W,!0)}(U).replace(/\./g,"")},se=function(U){try{return he.decodeString(U,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function G(U,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return W}for(const z in W)!W.hasOwnProperty(z)||!ee(z)||(U[z]=G(U[z],W[z]));return U}function ee(U){return"__proto__"!==U}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,z)=>{this.resolve=W,this.reject=z})}wrapCallback(W){return(z,be)=>{z?this.reject(z):this.resolve(be),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(z):W(z,be))}}}function Se(U,W){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=W||"demo-project",te=U.iat||0,Qe=U.sub||U.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:te,exp:te+3600,auth_time:te,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(bt)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function K(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function ie(){return"object"==typeof self&&self.self===self}function fe(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return ke().indexOf("Electron/")>=0}function ze(){const U=ke();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ie(){return ke().indexOf("MSAppHost/")>=0}function Ke(){return!K()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mt(){return"object"==typeof indexedDB}function J(){return new Promise((U,W)=>{try{let z=!0;const be="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(be);te.onsuccess=()=>{te.result.close(),z||self.indexedDB.deleteDatabase(be),U(!0)},te.onupgradeneeded=()=>{z=!1},te.onerror=()=>{var Qe;W((null===(Qe=te.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(z){W(z)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ve extends Error{constructor(W,z,be){super(z),this.code=W,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ce.prototype.create)}}class ce{constructor(W,z,be){this.service=W,this.serviceName=z,this.errors=be}create(W,...z){const be=z[0]||{},te=`${this.service}/${W}`,Qe=this.errors[W],bt=Qe?function It(U,W){return U.replace(Xt,(z,be)=>{const te=W[be];return null!=te?String(te):`<${be}?>`})}(Qe,be):"Error";return new Ve(te,`${this.serviceName}: ${bt} (${te}).`,be)}}const Xt=/\{\$([^}]+)}/g;function Vr(U,W){return Object.prototype.hasOwnProperty.call(U,W)}function _n(U){for(const W in U)if(Object.prototype.hasOwnProperty.call(U,W))return!1;return!0}function Kt(U,W){if(U===W)return!0;const z=Object.keys(U),be=Object.keys(W);for(const te of z){if(!be.includes(te))return!1;const Qe=U[te],bt=W[te];if(ns(Qe)&&ns(bt)){if(!Kt(Qe,bt))return!1}else if(Qe!==bt)return!1}for(const te of be)if(!z.includes(te))return!1;return!0}function ns(U){return null!==U&&"object"==typeof U}function Jr(U){const W=[];for(const[z,be]of Object.entries(U))Array.isArray(be)?be.forEach(te=>{W.push(encodeURIComponent(z)+"="+encodeURIComponent(te))}):W.push(encodeURIComponent(z)+"="+encodeURIComponent(be));return W.length?"&"+W.join("&"):""}function Xr(U){const W={};return U.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[te,Qe]=be.split("=");W[decodeURIComponent(te)]=decodeURIComponent(Qe)}}),W}function Le(U){const W=U.indexOf("?");if(!W)return"";const z=U.indexOf("#",W);return U.substring(W,z>0?z:void 0)}function Jn(U,W){const z=new yt(U,W);return z.subscribe.bind(z)}class yt{constructor(W,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{W(this)}).catch(be=>{this.error(be)})}next(W){this.forEachObserver(z=>{z.next(W)})}error(W){this.forEachObserver(z=>{z.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,z,be){let te;if(void 0===W&&void 0===z&&void 0===be)throw new Error("Missing Observer.");te=function qt(U,W){if("object"!=typeof U||null===U)return!1;for(const z of W)if(z in U&&"function"==typeof U[z])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:z,complete:be},void 0===te.next&&(te.next=Cn),void 0===te.error&&(te.error=Cn),void 0===te.complete&&(te.complete=Cn);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(bt){}}),this.observers.push(te),Qe}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,W)}sendOne(W,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{z(this.observers[W])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function vt(U,W=1e3,z=2){const be=W*Math.pow(z,U),te=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+te)}function Br(U){return U&&U._delegate?U._delegate:U}},4398:(lt,Te,k)=>{"use strict";var c=k(5e3);let V=null;function x(){return V}const ue=new c.OlP("DocumentToken");let re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function se(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const B=new c.OlP("Location Initialized");let G=(()=>{class n extends re{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ge(){return new G((0,c.LFG)(ue))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ke(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ie(n){const e=(0,c.LFG)(ue).location;return new Ce((0,c.LFG)(re),e&&e.origin||"")}()},providedIn:"root"}),n})();const fe=new c.OlP("appBaseHref");let Ce=(()=>{class n extends K{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+je(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const h=this.prepareExternalUrl(i+je(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,u){const h=this.prepareExternalUrl(i+je(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n extends K{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let h=this.prepareExternalUrl(i+je(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,u){let h=this.prepareExternalUrl(i+je(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(re),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ke(Ke(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+je(r))}normalize(t){return n.stripTrailingSlash(function ut(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=je,n.joinWithSlash=Se,n.stripTrailingSlash=ke,n.\u0275fac=function(t){return new(t||n)(c.LFG(K),c.LFG(re))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(){return new ze((0,c.LFG)(K),(0,c.LFG)(re))}()},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const Le=c.kL8;class Qt{}let Wn=(()=>{class n extends Qt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Le(r||this.locale)(t)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Zs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let An=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,h)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Zs(i.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,h),is(g,i)}});for(let i=0,u=r.length;i<u;i++){const g=r.get(i).context;g.index=i,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{is(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function is(n,e){n.context.$implicit=e.item}let zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new pn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ku("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ku("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class pn{constructor(){this.$implicit=null,this.ngIf=null}}function ku(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let da=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),n})();class Nd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ic{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Md=new ic,sc=new Nd;let Od=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Md;if((0,c.F4k)(t))return sc;throw function Tr(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),jr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Qt,useClass:Wn}]}),n})();const Ci="browser";function Vu(n){return"server"===n}let fa=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ko((0,c.LFG)(ue),window)}),n})();class ko{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Nn(this.window.history)||Nn(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Nn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class di extends class Ja extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){V||(V=n)}(new di)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ar(){return xr=xr||document.querySelector("base"),xr?xr.getAttribute("href"):null}();return null==t?null:function pa(n){Xa=Xa||document.createElement("a"),Xa.setAttribute("href",n);const e=Xa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ua(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Xa,xr=null;const us=new c.OlP("TRANSITION_ID"),Mn=[{provide:c.ip1,useFactory:function ri(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=x(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[us,ue,c.zs3],multi:!0}];class ga{static init(){(0,c.VLi)(new ga)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let u=i.length,h=!1;const g=function(v){h=h||v,u--,0==u&&r(h)};i.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?x().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Fo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ii=new c.OlP("EventManagerPlugins");let Is=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const h=i[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ii),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qs{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=x().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let ct=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Js=(()=>{class n extends ct{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,i.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(eu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(eu))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function eu(n){x().remove(n)}const Xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},eo=/%COMP%/g;function cn(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?cn(n,i,t):(i=i.replace(eo,n),t.push(i))}return t}function Lo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gr=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ss(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ju(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new ya(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=cn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Is),c.LFG(Js),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ss{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Xs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Xs[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Xs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lo(r)):this.eventManager.addEventListener(e,t,Lo(r))}}class ju extends Ss{constructor(e,t,r,i){super(e),this.component=r;const u=cn(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Vt(n){return"_ngcontent-%COMP%".replace(eo,n)}(i+"-"+r.id),this.hostAttr=function nu(n){return"_nghost-%COMP%".replace(eo,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ya extends Ss{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=cn(i.id,i.styles,[]);for(let h=0;h<u.length;h++){const g=document.createElement("style");g.textContent=u[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Vo=(()=>{class n extends Qs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const gr=["alt","control","meta","shift"],pc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Si={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ls={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ru=(()=>{class n extends Qs{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let h="";if(gr.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),h+=v+".")}),h+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=i,g.fullKey=h,g}static getEventFullKey(t){let r="",i=function no(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Si.hasOwnProperty(e)&&(e=Si[e]))}return pc[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gr.forEach(u=>{u!=i&&ls[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Hu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Ci},{provide:c.g9A,useValue:function Gu(){di.makeCurrent(),ga.init()},multi:!0},{provide:ue,useFactory:function $u(){return(0,c.RDi)(document),document},deps:[]}]),io=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Uo(){return new c.qLn},deps:[]},{provide:Ii,useClass:Vo,multi:!0,deps:[ue,c.R0b,c.Lbi]},{provide:Ii,useClass:ru,multi:!0,deps:[ue]},{provide:Gr,useClass:Gr,deps:[Is,Js,c.AFp]},{provide:c.FYo,useExisting:Gr},{provide:ct,useExisting:Js},{provide:Js,useClass:Js,deps:[ue]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Is,useClass:Is,deps:[Ii,c.R0b]},{provide:class Un{},useClass:Fo,deps:[]}];let kd=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:us,useExisting:c.AFp},Mn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:io,imports:[jr,c.hGG]}),n})();"undefined"!=typeof window&&window;var On=k(8996),gn=k(8306);const{isArray:kr}=Array,{getPrototypeOf:Ud,prototype:Bd,keys:Ta}=Object;function _c(n){if(1===n.length){const e=n[0];if(kr(e))return{args:e,keys:null};if(function Ca(n){return n&&"object"==typeof n&&Ud(n)===Bd}(e)){const t=Ta(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var $r=k(8421),Pr=k(3269),Yt=k(5403),st=k(4004);const{isArray:Ju}=Array;function el(n){return(0,st.U)(e=>function Xu(n,e){return Ju(e)?n(...e):n(e)}(n,e))}function Ho(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Wo=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),fi=(()=>{class n extends Wo{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ur=new c.OlP("NgValueAccessor"),Gi={provide:ur,useExisting:(0,c.Gpc)(()=>As),multi:!0},yc=new c.OlP("CompositionEventMode");let As=(()=>{class n extends Wo{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nl(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(yc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([Gi]),c.qOj]}),n})();const In=new c.OlP("NgValidators"),$i=new c.OlP("NgAsyncValidators");function Hi(n){return null!=n}function uu(n){const e=(0,c.QGY)(n)?(0,On.D)(n):n;return(0,c.CqO)(e),e}function Aa(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function mn(n,e){return e.map(t=>t(n))}function Na(n){return n.map(e=>function Gd(n){return!n.validate}(e)?e:t=>e.validate(t))}function il(n){return null!=n?function $d(n){if(!n)return null;const e=n.filter(Hi);return 0==e.length?null:function(t){return Aa(mn(t,e))}}(Na(n)):null}function sl(n){return null!=n?function Lf(n){if(!n)return null;const e=n.filter(Hi);return 0==e.length?null:function(t){return function Ia(...n){const e=(0,Pr.jO)(n),{args:t,keys:r}=_c(n),i=new gn.y(u=>{const{length:h}=t;if(!h)return void u.complete();const g=new Array(h);let v=h,T=h;for(let A=0;A<h;A++){let M=!1;(0,$r.Xf)(t[A]).subscribe(new Yt.Q(u,F=>{M||(M=!0,T--),g[A]=F},()=>v--,void 0,()=>{(!v||!M)&&(T||u.next(r?Ho(r,g):g),u.complete())}))}});return e?i.pipe(el(e)):i}(mn(t,e).map(uu)).pipe((0,st.U)(Aa))}}(Na(n)):null}function vc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ao(n){return n._rawValidators}function bc(n){return n._rawAsyncValidators}function Zn(n){return n?Array.isArray(n)?n:[n]:[]}function uo(n,e){return Array.isArray(n)?n.includes(e):n===e}function zo(n,e){const t=Zn(e);return Zn(n).forEach(i=>{uo(t,i)||t.push(i)}),t}function wc(n,e){return Zn(e).filter(t=>!uo(n,t))}class Dc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=il(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pn extends Dc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wn extends Dc{get formDirective(){return null}get path(){return null}}class lu{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let cu=(()=>{class n extends lu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Pn,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),lo=(()=>{class n extends lu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(wn,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function co(n,e){E(n,e),e.valueAccessor.writeValue(n.value),function R(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Y(n,e)})}(n,e),function le(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function L(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Y(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ho(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ks(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),C(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ps(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function E(n,e){const t=ao(n);null!==e.validator?n.setValidators(vc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=bc(n);null!==e.asyncValidator?n.setAsyncValidators(vc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ps(e._rawValidators,i),Ps(e._rawAsyncValidators,i)}function C(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=ao(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(h=>h!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=bc(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(h=>h!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Ps(e._rawValidators,r),Ps(e._rawAsyncValidators,r),t}function Y(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fo(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const tr="VALID",ii="INVALID",gi="PENDING",Ko="DISABLED";function al(n){return(zd(n)?n.validators:n)||null}function ka(n){return Array.isArray(n)?il(n):n||null}function pu(n,e){return(zd(e)?e.asyncValidators:n)||null}function Cc(n){return Array.isArray(n)?sl(n):n||null}function zd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Qo=n=>n instanceof Fs,Jo=n=>n instanceof ll;function Bg(n){return Qo(n)?n.value:n.getRawValue()}function ul(n,e){const t=Jo(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function Bf(n,e){Jo(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class jf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ka(this._rawValidators),this._composedAsyncValidatorFn=Cc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tr}get invalid(){return this.status===ii}get pending(){return this.status==gi}get disabled(){return this.status===Ko}get enabled(){return this.status!==Ko}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ka(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Cc(e)}addValidators(e){this.setValidators(zo(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zo(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wc(e,this._rawAsyncValidators))}hasValidator(e){return uo(this._rawValidators,e)}hasAsyncValidator(e){return uo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gi,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ko,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tr,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tr||this.status===gi)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ko:tr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gi,this._hasOwnPendingAsyncValidator=!0;const t=uu(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Uf(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Jo(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof jg)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ko:this.errors?ii:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gi)?gi:this._anyControlsHaveStatus(ii)?ii:tr}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fs extends jf{constructor(e=null,t,r){super(al(t),pu(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fo(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fo(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ll extends jf{constructor(e,t,r){super(al(t),pu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Bf(this,e),Object.keys(e).forEach(r=>{ul(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Bg(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class jg extends jf{constructor(e,t,r){super(al(t),pu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Bf(this,e),e.forEach((r,i)=>{ul(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Bg(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Ac=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Gg={provide:ur,useExisting:(0,c.Gpc)(()=>Qd),multi:!0};let Qd=(()=>{class n extends fi{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([Gg]),c.qOj]}),n})(),mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Wf=new c.OlP("NgModelWithFormControlWarning"),Wg={provide:wn,useExisting:(0,c.Gpc)(()=>Mc)};let Mc=(()=>{class n extends wn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(C(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return co(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ks(t.control||null,t,!1),fo(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function _r(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(ks(r||null,t),Qo(i)&&(co(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Re(n,e){E(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function it(n,e){return C(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){E(this.form,this),this._oldForm&&C(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(In,10),c.Y36($i,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Wg]),c.qOj,c.TTD]}),n})();const zf={provide:Pn,useExisting:(0,c.Gpc)(()=>Wi)};let Wi=(()=>{class n extends Pn{constructor(t,r,i,u,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Bn(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===As?t=u:function Fr(n){return Object.getPrototypeOf(n.constructor)===fi}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function rn(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Yo(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(wn,13),c.Y36(In,10),c.Y36($i,10),c.Y36(ur,10),c.Y36(Wf,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([zf]),c.qOj,c.TTD]}),n})(),Dn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[mu]]}),n})(),yr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dn]}),n})(),Yn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wf,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Dn]}),n})();function nt(...n){const e=(0,Pr.yG)(n);return(0,On.D)(n,e)}var tn=k(7579);class Fn extends tn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Va=k(4671),oh=k(9672);function ml(...n){const e=(0,Pr.yG)(n),t=(0,Pr.jO)(n),{args:r,keys:i}=_c(n);if(0===r.length)return(0,On.D)([],e);const u=new gn.y(function Kg(n,e,t=Va.y){return r=>{_l(e,()=>{const{length:i}=n,u=new Array(i);let h=i,g=i;for(let v=0;v<i;v++)_l(e,()=>{const T=(0,On.D)(n[v],e);let A=!1;T.subscribe(new Yt.Q(r,M=>{u[v]=M,A||(A=!0,g--),g||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,i?h=>Ho(i,h):Va.y));return t?u.pipe(el(t)):u}function _l(n,e,t){n?(0,oh.f)(t,n,e):e()}const ah=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qf=k(8189);function yl(...n){return function iE(){return(0,Qf.J)(1)}()((0,On.D)(n,(0,Pr.yG)(n)))}function vv(n){return new gn.y(e=>{(0,$r.Xf)(n()).subscribe(e)})}var Ua=k(515),Jf=k(727),Ir=k(4482);function bv(){return(0,Ir.e)((n,e)=>{let t=null;n._refCount++;const r=new Yt.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class uh extends gn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ir.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jf.w0;const t=this.getSubject();e.add(this.source.subscribe(new Yt.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jf.w0.EMPTY)}return e}refCount(){return bv()(this)}}function lr(n,e){return(0,Ir.e)((t,r)=>{let i=null,u=0,h=!1;const g=()=>h&&!i&&r.complete();t.subscribe(new Yt.Q(r,v=>{null==i||i.unsubscribe();let T=0;const A=u++;(0,$r.Xf)(n(v,A)).subscribe(i=new Yt.Q(r,M=>r.next(e?e(v,M,A,T++):M),()=>{i=null,g()}))},()=>{h=!0,g()}))})}var Oi=k(5698);function vl(...n){const e=(0,Pr.yG)(n);return(0,Ir.e)((t,r)=>{(e?yl(n,t,e):yl(n,t)).subscribe(r)})}function sE(n,e,t,r,i){return(u,h)=>{let g=t,v=e,T=0;u.subscribe(new Yt.Q(h,A=>{const M=T++;v=g?n(v,A,M):(g=!0,A),r&&h.next(v)},i&&(()=>{g&&h.next(v),h.complete()})))}}function kc(n,e){return(0,Ir.e)(sE(n,e,arguments.length>=2,!0))}function Sr(n,e){return(0,Ir.e)((t,r)=>{let i=0;t.subscribe(new Yt.Q(r,u=>n.call(e,u,i++)&&r.next(u)))})}function Ba(n){return(0,Ir.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe(new Yt.Q(t,void 0,void 0,h=>{u=(0,$r.Xf)(n(h,Ba(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Ar=k(5577),go=k(576);function lh(n,e){return(0,go.m)(e)?(0,Ar.z)(n,e,1):(0,Ar.z)(n,1)}function Xf(n){return n<=0?()=>Ua.E:(0,Ir.e)((e,t)=>{let r=[];e.subscribe(new Yt.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function wv(n=oE){return(0,Ir.e)((e,t)=>{let r=!1;e.subscribe(new Yt.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oE(){return new ah}function Dv(n){return(0,Ir.e)((e,t)=>{let r=!1;e.subscribe(new Yt.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function mi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Sr((i,u)=>n(i,u,r)):Va.y,(0,Oi.q)(1),t?Dv(e):wv(()=>new ah))}var si=k(8505);class Xo{constructor(e,t){this.id=e,this.url=t}}class Ev extends Xo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends Xo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ep extends Xo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jg extends Xo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aE extends Xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tv extends Xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ch extends Xo{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cv extends Xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iv extends Xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class np{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sv{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SN{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xg{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class em{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $t="primary";class tm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lc(n){return new tm(n)}const Av="ngNavigationCancelingError";function nm(n){const e=Error("NavigationCancelingError: "+n);return e[Av]=!0,e}function lE(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const h=r[u],g=n[u];if(h.startsWith(":"))i[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function mo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!rp(n[i],e[i]))return!1;return!0}function rp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function rm(n){return Array.prototype.concat.apply([],n)}function ip(n){return n.length>0?n[n.length-1]:null}function oi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function _o(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,On.D)(Promise.resolve(n)):nt(n)}const bl={exact:function dh(n,e,t){if(!yu(n.segments,e.segments)||!hh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!dh(n.children[r],e.children[r],t))return!1;return!0},subset:om},im={exact:function dE(n,e){return mo(n,e)},subset:function hE(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rp(n[t],e[t]))},ignored:()=>!0};function sm(n,e,t){return bl[t.paths](n.root,e.root,t.matrixParams)&&im[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function om(n,e,t){return am(n,e,e.segments,t)}function am(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!yu(i,t)||e.hasChildren()||!hh(i,t,r))}if(n.segments.length===t.length){if(!yu(n.segments,t)||!hh(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!om(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(yu(n.segments,i)&&hh(n.segments,i,r)&&n.children[$t])&&am(n.children[$t],e,u,r)}}function hh(n,e,t){return e.every((r,i)=>im[t](n[i].parameters,r.parameters))}class ja{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lc(this.queryParams)),this._queryParamMap}toString(){return fh.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,oi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ap(this)}}class _u{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lc(this.parameters)),this._parameterMap}toString(){return cm(this)}}function yu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class lm{}class op{parse(e){const t=new yE(e);return new ja(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vc(e.root,!0)}`,r=function Rv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${up(t)}=${up(i)}`).join("&"):`${up(t)}=${up(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ov(n){return encodeURI(n)}(e.fragment)}`:""}`}}const fh=new op;function ap(n){return n.segments.map(e=>cm(e)).join("/")}function Vc(n,e){if(!n.hasChildren())return ap(n);if(e){const t=n.children[$t]?Vc(n.children[$t],!1):"",r=[];return oi(n.children,(i,u)=>{u!==$t&&r.push(`${u}:${Vc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function um(n,e){let t=[];return oi(n.children,(r,i)=>{i===$t&&(t=t.concat(e(r,i)))}),oi(n.children,(r,i)=>{i!==$t&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===$t?[Vc(n.children[$t],!1)]:[`${i}:${Vc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${ap(n)}/${t[0]}`:`${ap(n)}/(${t.join("//")})`}}function Mv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function up(n){return Mv(n).replace(/%3B/gi,";")}function ph(n){return Mv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gh(n){return decodeURIComponent(n)}function fE(n){return gh(n.replace(/\+/g,"%20"))}function cm(n){return`${ph(n.path)}${function pE(n){return Object.keys(n).map(e=>`;${ph(e)}=${ph(n[e])}`).join("")}(n.parameters)}`}const gE=/^[^\/()?;=#]+/;function lp(n){const e=n.match(gE);return e?e[0]:""}const yo=/^[^=?&#]+/,xv=/^[^&#]+/;class yE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$t]=new zt(e,t)),r}parseSegment(){const e=lp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new _u(gh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=lp(this.remaining);i&&(r=i,this.capture(r))}e[gh(t)]=gh(r)}parseQueryParam(e){const t=function mE(n){const e=n.match(yo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function _E(n){const e=n.match(xv);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const i=fE(t),u=fE(r);if(e.hasOwnProperty(i)){let h=e[i];Array.isArray(h)||(h=[h],e[i]=h),h.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=$t);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[$t]:new zt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class kv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=dm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cp(e,this._root).map(t=>t.value)}}function dm(n,e){if(n===e.value)return e;for(const t of e.children){const r=dm(n,t);if(r)return r}return null}function cp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cp(n,t);if(r.length)return r.unshift(e),r}return[]}class Ga{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Uc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Pv extends kv{constructor(e,t){super(e),this.snapshot=t,pm(this,e)}toString(){return this.snapshot.toString()}}function Rt(n,e){const t=function Fv(n,e){const h=new qi([],{},{},"",{},$t,e,null,n.root,-1,{});return new fm("",new Ga(h,[]))}(n,e),r=new Fn([new _u("",{})]),i=new Fn({}),u=new Fn({}),h=new Fn({}),g=new Fn(""),v=new wl(r,i,h,g,u,$t,e,t.root);return v.snapshot=t.root,new Pv(new Ga(v,[]),t)}class wl{constructor(e,t,r,i,u,h,g,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=h,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>Lc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>Lc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function dp(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qi{constructor(e,t,r,i,u,h,g,v,T,A,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=h,this.component=g,this.routeConfig=v,this._urlSegment=T,this._lastPathIndex=A,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fm extends kv{constructor(e,t){super(t),this.url=e,pm(this,t)}toString(){return hp(this._root)}}function pm(n,e){e.value._routerState=n,e.children.forEach(t=>pm(n,t))}function hp(n){const e=n.children.length>0?` { ${n.children.map(hp).join(", ")} } `:"";return`${n.value}${e}`}function vo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),mo(e.params,t.params)||n.params.next(t.params),function cE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),mo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mh(n,e){const t=mo(n.params,e.params)&&function sp(n,e){return yu(n,e)&&n.every((t,r)=>mo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||mh(n.parent,e.parent))}function Dl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function NN(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Dl(n,r,i);return Dl(n,r)})}(n,e,t);return new Ga(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(g=>Dl(n,g)),h}}const r=function Vv(n){return new wl(new Fn(n.url),new Fn(n.params),new Fn(n.queryParams),new Fn(n.fragment),new Fn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Dl(n,u));return new Ga(r,i)}}function El(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vu(n){return"object"==typeof n&&null!=n&&n.outlets}function _h(n,e,t,r,i){let u={};return r&&oi(r,(h,g)=>{u[g]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new ja(t.root===n?e:fp(t.root,n,e),u,i)}function fp(n,e,t){const r={};return oi(n.children,(i,u)=>{r[u]=i===e?t:fp(i,e,t)}),new zt(n.segments,r)}class pp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&El(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(vu);if(i&&i!==ip(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gm{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function mm(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return _m(n,e,t);const r=function DE(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const h=n.segments[i],g=t[r];if(vu(g))break;const v=`${g}`,T=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&T&&"object"==typeof T&&void 0===T.outlets){if(!jv(v,T,h))return u;r+=2}else{if(!jv(v,{},h))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new zt(n.segments.slice(0,r.pathIndex),{});return u.children[$t]=new zt(n.segments.slice(r.pathIndex),n.children),_m(u,0,i)}return r.match&&0===i.length?new zt(n.segments,{}):r.match&&!n.hasChildren()?Uv(n,e,t):r.match?_m(n,0,i):Uv(n,e,t)}function _m(n,e,t){if(0===t.length)return new zt(n.segments,{});{const r=function wE(n){return vu(n[0])?n[0].outlets:{[$t]:n}}(t),i={};return oi(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[h]=mm(n.children[h],e,u))}),oi(n.children,(u,h)=>{void 0===r[h]&&(i[h]=u)}),new zt(n.segments,i)}}function Uv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(vu(u)){const v=Bv(u.outlets);return new zt(r,v)}if(0===i&&El(t[0])){r.push(new _u(n.segments[e].path,ym(t[0]))),i++;continue}const h=vu(u)?u.outlets[$t]:`${u}`,g=i<t.length-1?t[i+1]:null;h&&g&&El(g)?(r.push(new _u(h,ym(g))),i+=2):(r.push(new _u(h,{})),i++)}return new zt(r,{})}function Bv(n){const e={};return oi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Uv(new zt([],{}),0,t))}),e}function ym(n){const e={};return oi(n,(t,r)=>e[r]=`${t}`),e}function jv(n,e,t){return n==t.path&&mo(e,t.parameters)}class RN{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vo(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Uc(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,i[h],r),delete i[h]}),oi(i,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const h=r.getContext(i.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Uc(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],i);if(r&&r.outlet){const h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Uc(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Uc(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Xg(u.value.snapshot))}),e.children.length&&this.forwardEvent(new SN(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(vo(i),i===u)if(i.component){const h=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const h=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),vo(g.route.value),this.activateChildRoutes(e,null,h.children)}else{const g=function xN(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=i,h.resolver=v,h.outlet&&h.outlet.activateWith(i,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Gv{constructor(e,t){this.routes=e,this.module=t}}function Tl(n){return"function"==typeof n}function Bc(n){return n instanceof ja}const Vs=Symbol("INITIAL_VALUE");function Cl(){return lr(n=>ml(n.map(e=>e.pipe((0,Oi.q)(1),vl(Vs)))).pipe(kc((e,t)=>{let r=!1;return t.reduce((i,u,h)=>i!==Vs?i:(u===Vs&&(r=!0),r||!1!==u&&h!==t.length-1&&!Bc(u)?i:u),e)},Vs),Sr(e=>e!==Vs),(0,st.U)(e=>Bc(e)?e:!0===e),(0,Oi.q)(1)))}class EE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jc,this.attachRef=null}}class jc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new EE,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let yh=(()=>{class n{constructor(t,r,i,u,h){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=u||$t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,v=new $v(t,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(jc),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class $v{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wl?this.route:e===jc?this.childContexts:this.parent.get(e,t)}}let gp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[yh],encapsulation:2}),n})();function Hv(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];bu(r,Wv(e,r))}}function bu(n,e){n.children&&Hv(n.children,e)}function Wv(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function bm(n){const e=n.children&&n.children.map(bm),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$t&&(t.component=gp),t}function Zi(n){return n.outlet||$t}function zv(n,e){const t=n.filter(r=>Zi(r)===e);return t.push(...n.filter(r=>Zi(r)!==e)),t}const wm={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function mp(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},wm):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||lE)(t,n,e);if(!u)return Object.assign({},wm);const h={};oi(u.posParams,(v,T)=>{h[T]=v.path});const g=u.consumed.length>0?Object.assign(Object.assign({},h),u.consumed[u.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:g,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function _p(n,e,t,r,i="corrected"){if(t.length>0&&function Dm(n,e,t){return t.some(r=>wu(n,e,r)&&Zi(r)!==$t)}(n,t,r)){const h=new zt(e,function Gc(n,e,t,r){const i={};i[$t]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Zi(u)!==$t){const h=new zt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,i[Zi(u)]=h}return i}(n,e,r,new zt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function $c(n,e,t){return t.some(r=>wu(n,e,r))}(n,t,r)){const h=new zt(n.segments,function vh(n,e,t,r,i,u){const h={};for(const g of r)if(wu(n,t,g)&&!i[Zi(g)]){const v=new zt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[Zi(g)]=v}return Object.assign(Object.assign({},i),h)}(n,e,t,r,n.children,i));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new zt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function wu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Il(n,e,t,r){return!!(Zi(n)===r||r!==$t&&wu(e,t,n))&&("**"===n.path||mp(e,n,t).matched)}function qv(n,e,t){return 0===e.length&&!n.children[t]}class Hc{constructor(e){this.segmentGroup=e||null}}class Em{constructor(e){this.urlTree=e}}function Wc(n){return new gn.y(e=>e.error(new Hc(n)))}function yp(n){return new gn.y(e=>e.error(new Em(n)))}function Zv(n){return new gn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Yv{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=_p(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$t).pipe((0,st.U)(u=>this.createUrlTree(bp(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ba(u=>{if(u instanceof Em)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Hc?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$t).pipe((0,st.U)(i=>this.createUrlTree(bp(i),e.queryParams,e.fragment))).pipe(Ba(i=>{throw i instanceof Hc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new zt([],{[$t]:e}):e;return new ja(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,st.U)(u=>new zt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,On.D)(i).pipe(lh(u=>{const h=r.children[u],g=zv(t,u);return this.expandSegmentGroup(e,g,h,u).pipe((0,st.U)(v=>({segment:v,outlet:u})))}),kc((u,h)=>(u[h.outlet]=h.segment,u),{}),function Pc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Sr((i,u)=>n(i,u,r)):Va.y,Xf(1),t?Dv(e):wv(()=>new ah))}())}expandSegment(e,t,r,i,u,h){return(0,On.D)(r).pipe(lh(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,u,h).pipe(Ba(T=>{if(T instanceof Hc)return nt(null);throw T}))),mi(g=>!!g),Ba((g,v)=>{if(g instanceof ah||"EmptyError"===g.name){if(qv(t,i,u))return nt(new zt([],{}));throw new Hc(t)}throw g}))}expandSegmentAgainstRoute(e,t,r,i,u,h,g){return Il(i,t,u,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,h):Wc(t):Wc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,h){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yp(u):this.lineralizeSegments(r,u).pipe((0,Ar.z)(h=>{const g=new zt(h,{});return this.expandSegment(e,g,t,h,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,h){const{matched:g,consumedSegments:v,lastChild:T,positionalParamSegments:A}=mp(t,i,u);if(!g)return Wc(t);const M=this.applyRedirectCommands(v,i.redirectTo,A);return i.redirectTo.startsWith("/")?yp(M):this.lineralizeSegments(i,M).pipe((0,Ar.z)(F=>this.expandSegment(e,t,r,F.concat(u.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?nt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,st.U)(F=>(r._loadedConfig=F,new zt(i,{})))):nt(new zt(i,{}));const{matched:h,consumedSegments:g,lastChild:v}=mp(t,r,i);if(!h)return Wc(t);const T=i.slice(v);return this.getChildConfig(e,r,i).pipe((0,Ar.z)(M=>{const F=M.module,j=M.routes,{segmentGroup:X,slicedSegments:De}=_p(t,g,T,j),ye=new zt(X.segments,X.children);if(0===De.length&&ye.hasChildren())return this.expandChildren(F,j,ye).pipe((0,st.U)(Ue=>new zt(g,Ue)));if(0===j.length&&0===De.length)return nt(new zt(g,{}));const Oe=Zi(r)===u;return this.expandSegment(F,ye,j,De,Oe?$t:u,!0).pipe((0,st.U)(xe=>new zt(g.concat(xe.segments),xe.children)))}))}getChildConfig(e,t,r){return t.children?nt(new Gv(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?nt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ar.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,st.U)(u=>(t._loadedConfig=u,u))):function vp(n){return new gn.y(e=>e.error(nm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):nt(new Gv([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?nt(i.map(h=>{const g=e.get(h);let v;if(function PN(n){return n&&Tl(n.canLoad)}(g))v=g.canLoad(t,r);else{if(!Tl(g))throw new Error("Invalid CanLoad guard");v=g(t,r)}return _o(v)})).pipe(Cl(),(0,si.b)(h=>{if(!Bc(h))return;const g=nm(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,st.U)(h=>!0===h)):nt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nt(r);if(i.numberOfChildren>1||!i.children[$t])return Zv(e.redirectTo);i=i.children[$t]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new ja(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return oi(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[u]=t[g]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let h={};return oi(t.children,(g,v)=>{h[v]=this.createSegmentGroup(e,g,r,i)}),new zt(u,h)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function bp(n){const e={};for(const r of Object.keys(n.children)){const u=bp(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function UN(n){if(1===n.numberOfChildren&&n.children[$t]){const e=n.children[$t];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}class Qv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bh{constructor(e,t){this.component=e,this.route=t}}function CE(n,e,t){const r=n._root;return wh(r,e?e._root:null,t,[r.value])}function _i(n,e,t){const r=function SE(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function wh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Uc(e);return n.children.forEach(h=>{(function BN(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const v=function jN(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!yu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!yu(n.url,e.url)||!mo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mh(n,e)||!mo(n.queryParams,e.queryParams);default:return!mh(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Qv(r)):(u.data=h.data,u._resolvedData=h._resolvedData),wh(n,e,u.component?g?g.children:null:t,r,i),v&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new bh(g.outlet.component,h))}else h&&zc(e,g,i),i.canActivateChecks.push(new Qv(r)),wh(n,null,u.component?g?g.children:null:t,r,i)})(h,u[h.value.outlet],t,r.concat([h.value]),i),delete u[h.value.outlet]}),oi(u,(h,g)=>zc(h,t.getContext(g),i)),i}function zc(n,e,t){const r=Uc(n),i=n.value;oi(r,(u,h)=>{zc(u,i.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new bh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class RE{}function Cm(n){return new gn.y(e=>e.error(n))}class kE{constructor(e,t,r,i,u,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=_p(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$t);if(null===t)return null;const r=new qi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ga(r,t),u=new fm(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=hm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const h=t.children[u],g=zv(e,u),v=this.processSegmentGroup(g,h,u);if(null===v)return null;r.push(...v)}const i=bo(r);return function e0(n){n.sort((e,t)=>e.value.outlet===$t?-1:t.value.outlet===$t?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,r,i);if(null!==h)return h}return qv(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Il(e,t,r,i))return null;let u,h=[],g=[];if("**"===e.path){const j=r.length>0?ip(r).parameters:{};u=new qi(r,j,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,FE(e),Zi(e),e.component,e,r0(t),s0(t)+r.length,Im(e))}else{const j=mp(t,e,r);if(!j.matched)return null;h=j.consumedSegments,g=r.slice(j.lastChild),u=new qi(h,j.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,FE(e),Zi(e),e.component,e,r0(t),s0(t)+h.length,Im(e))}const v=function t0(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:A}=_p(t,h,g,v.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===A.length&&T.hasChildren()){const j=this.processChildren(v,T);return null===j?null:[new Ga(u,j)]}if(0===v.length&&0===A.length)return[new Ga(u,[])];const M=Zi(e)===i,F=this.processSegment(v,T,A,M?$t:i);return null===F?null:[new Ga(u,F)]}}function PE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bo(n){const e=[],t=new Set;for(const r of n){if(!PE(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=bo(r.children);e.push(new Ga(r.value,i))}return e.filter(r=>!t.has(r))}function r0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function s0(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function FE(n){return n.data||{}}function Im(n){return n.resolve||{}}function Am(n){return lr(e=>{const t=n(e);return t?(0,On.D)(t).pipe((0,st.U)(()=>e)):nt(e)})}class jE extends class Nm{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dh=new c.OlP("ROUTES");class Dp{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,st.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=u.create(e);return new Gv(rm(h.injector.get(Dh,void 0,c.XFs.Self|c.XFs.Optional)).map(bm),h)}),Ba(u=>{throw t._loader$=void 0,u}));return t._loader$=new uh(i,()=>new tn.x).pipe(bv()),t._loader$}loadModuleFactory(e){return _o(e()).pipe((0,Ar.z)(t=>t instanceof c.YKP?nt(t):(0,On.D)(this.compiler.compileModuleAsync(t))))}}class GE{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function $E(n){throw n}function Mm(n,e,t){return e.parse("/")}function HE(n,e){return nt(null)}const WE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yi=(()=>{class n{constructor(t,r,i,u,h,g,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new tn.x,this.errorHandler=$E,this.malformedUriErrorHandler=Mm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:HE,afterPreactivation:HE},this.urlHandlingStrategy=new GE,this.routeReuseStrategy=new jE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const M=h.get(c.R0b);this.isNgZoneEnabled=M instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Nv(){return new ja(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dp(h,g,F=>this.triggerEvent(new tp(F)),F=>this.triggerEvent(new np(F))),this.routerState=Rt(this.currentUrlTree,this.rootComponentType),this.transitions=new Fn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Sr(i=>0!==i.id),(0,st.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),lr(i=>{let u=!1,h=!1;return nt(i).pipe((0,si.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lr(g=>{const v=this.browserUrlTree.toString(),T=!this.navigated||g.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Eh(g.source)&&(this.browserUrlTree=g.extractedUrl),nt(g).pipe(lr(M=>{const F=this.transitions.getValue();return r.next(new Ev(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Ua.E:Promise.resolve(M)}),function Kv(n,e,t,r){return lr(i=>function TE(n,e,t,r,i){return new Yv(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,st.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,si.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function LE(n,e,t,r,i){return(0,Ar.z)(u=>function xE(n,e,t,r,i="emptyOnly",u="legacy"){try{const h=new kE(n,e,t,r,i,u).recognize();return null===h?Cm(new RE):nt(h)}catch(h){return Cm(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,st.U)(h=>Object.assign(Object.assign({},u),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,si.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(j,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new aE(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:j,source:X,restoredState:De,extras:ye}=g,Oe=new Ev(F,this.serializeUrl(j),X,De);r.next(Oe);const Ne=Rt(j,this.rootComponentType).snapshot;return nt(Object.assign(Object.assign({},g),{targetSnapshot:Ne,urlAfterRedirects:j,extras:Object.assign(Object.assign({},ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),Ua.E}),Am(g=>{const{targetSnapshot:v,id:T,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:j}}=g;return this.hooks.beforePreactivation(v,{navigationId:T,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!j})}),(0,si.b)(g=>{const v=new Tv(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,st.U)(g=>Object.assign(Object.assign({},g),{guards:CE(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function GN(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?nt(Object.assign(Object.assign({},t),{guardsResult:!0})):function AE(n,e,t,r){return(0,On.D)(n).pipe((0,Ar.z)(i=>function Xv(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?nt(u.map(g=>{const v=_i(g,e,i);let T;if(function VN(n){return n&&Tl(n.canDeactivate)}(v))T=_o(v.canDeactivate(n,e,t,r));else{if(!Tl(v))throw new Error("Invalid CanDeactivate guard");T=_o(v(n,e,t,r))}return T.pipe(mi())})).pipe(Cl()):nt(!0)}(i.component,i.route,t,e,r)),mi(i=>!0!==i,!0))}(h,r,i,n).pipe((0,Ar.z)(g=>g&&function kN(n){return"boolean"==typeof n}(g)?function Tm(n,e,t,r){return(0,On.D)(e).pipe(lh(i=>yl(function NE(n,e){return null!==n&&e&&e(new Sv(n)),nt(!0)}(i.route.parent,r),function Jv(n,e){return null!==n&&e&&e(new Fc(n)),nt(!0)}(i.route,r),function OE(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function IE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>vv(()=>nt(h.guards.map(v=>{const T=_i(v,h.node,t);let A;if(function LN(n){return n&&Tl(n.canActivateChild)}(T))A=_o(T.canActivateChild(r,n));else{if(!Tl(T))throw new Error("Invalid CanActivateChild guard");A=_o(T(r,n))}return A.pipe(mi())})).pipe(Cl())));return nt(u).pipe(Cl())}(n,i.path,t),function ME(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const i=r.map(u=>vv(()=>{const h=_i(u,e,t);let g;if(function FN(n){return n&&Tl(n.canActivate)}(h))g=_o(h.canActivate(e,n));else{if(!Tl(h))throw new Error("Invalid CanActivate guard");g=_o(h(e,n))}return g.pipe(mi())}));return nt(i).pipe(Cl())}(n,i.route,t))),mi(i=>!0!==i,!0))}(r,u,n,e):nt(g)),(0,st.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,si.b)(g=>{if(Bc(g.guardsResult)){const T=nm(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw T.url=g.guardsResult,T}const v=new ch(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),Sr(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),Am(g=>{if(g.guards.canActivateChecks.length)return nt(g).pipe((0,si.b)(v=>{const T=new Cv(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}),lr(v=>{let T=!1;return nt(v).pipe(function VE(n,e){return(0,Ar.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nt(t);let u=0;return(0,On.D)(i).pipe(lh(h=>function UE(n,e,t,r){return function Sm(n,e,t,r){const i=Object.keys(n);if(0===i.length)return nt({});const u={};return(0,On.D)(i).pipe((0,Ar.z)(h=>function BE(n,e,t,r){const i=_i(n,e,r);return _o(i.resolve?i.resolve(e,t):i(e,t))}(n[h],e,t,r).pipe((0,si.b)(g=>{u[h]=g}))),Xf(1),(0,Ar.z)(()=>Object.keys(u).length===i.length?nt(u):Ua.E))}(n._resolve,n,e,r).pipe((0,st.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),hm(n,t).resolve),null)))}(h.route,r,n,e)),(0,si.b)(()=>u++),Xf(1),(0,Ar.z)(h=>u===i.length?nt(t):Ua.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,si.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,si.b)(v=>{const T=new Iv(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}))}),Am(g=>{const{targetSnapshot:v,id:T,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:j}}=g;return this.hooks.afterPreactivation(v,{navigationId:T,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!j})}),(0,st.U)(g=>{const v=function Lv(n,e,t){const r=Dl(n,e._root,t?t._root:void 0);return new Pv(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:v})}),(0,si.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,st.U)(r=>(new RN(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,si.b)({next(){u=!0},complete(){u=!0}}),function IN(n){return(0,Ir.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var g;u||h||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===i.id&&(this.currentNavigation=null)}),Ba(g=>{if(h=!0,function uE(n){return n&&n[Av]}(g)){const v=Bc(g.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const T=new ep(i.id,this.serializeUrl(i.extractedUrl),g.message);r.next(T),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Eh(i.source)};this.scheduleNavigation(A,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new Jg(i.id,this.serializeUrl(i.extractedUrl),g);r.next(v);try{i.resolve(this.errorHandler(g))}catch(T){i.reject(T)}}return Ua.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},h=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(h){const v=Object.assign({},h);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,r,h,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Hv(t),this.config=t.map(bm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:h,queryParamsHandling:g,preserveFragment:v}=r,T=i||this.routerState.root,A=v?this.currentUrlTree.fragment:h;let M=null;switch(g){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function MN(n,e,t,r,i){if(0===t.length)return _h(e.root,e.root,e,r,i);const u=function ON(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pp(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return oi(u.outlets,(v,T)=>{g[T]="string"==typeof v?v.split("/"):v}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===h?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new pp(t,e,r)}(t);if(u.toRoot())return _h(e.root,new zt([],{}),e,r,i);const h=function vE(n,e,t){if(n.isAbsolute)return new gm(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new gm(u,u===e.root,0)}const r=El(n.commands[0])?0:1;return function bE(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new gm(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),g=h.processChildren?_m(h.segmentGroup,h.index,u.commands):mm(h.segmentGroup,h.index,u.commands);return _h(h.segmentGroup,g,e,r,i)}(T,this.currentUrlTree,t,M,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Bc(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function u0(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},WE):!1===r?Object.assign({},a0):r,Bc(t))return sm(this.currentUrlTree,t,i);const u=this.parseUrl(t);return sm(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new zi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,h){var g,v,T;if(this.disposed)return Promise.resolve(!1);const A=this.transitions.value,M=Eh(r)&&A&&!Eh(A.source),F=A.rawUrl.toString()===t.toString(),j=A.id===(null===(g=this.currentNavigation)||void 0===g?void 0:g.id);if(M&&F&&j)return Promise.resolve(!0);let De,ye,Oe;h?(De=h.resolve,ye=h.reject,Oe=h.promise):Oe=new Promise((Ue,et)=>{De=Ue,ye=et});const Ne=++this.navigationId;let xe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),xe=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):xe=0,this.setTransition({id:Ne,targetPageId:xe,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:De,reject:ye,promise:Oe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oe.catch(Ue=>Promise.reject(Ue))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===h?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new ep(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Eh(n){return"imperative"!==n}class ZE{}class Rm{preload(e,t){return nt(null)}}let Tp=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new Dp(i,r,v=>t.triggerEvent(new tp(v)),v=>t.triggerEvent(new np(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(Sr(t=>t instanceof zi),lh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const h=u._loadedConfig;i.push(this.processRoutes(h.module,h.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,On.D)(i).pipe((0,Qf.J)(),(0,st.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?nt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ar.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Yi),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(ZE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Sl=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ev?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof em&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new em(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ha=new c.OlP("ROUTER_CONFIGURATION"),xm=new c.OlP("ROUTER_FORROOT_GUARD"),l0=[ze,{provide:lm,useClass:op},{provide:Yi,useFactory:function qc(n,e,t,r,i,u,h={},g,v){const T=new Yi(null,n,e,t,r,i,rm(u));return g&&(T.urlHandlingStrategy=g),v&&(T.routeReuseStrategy=v),function h0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,T),h.enableTracing&&T.events.subscribe(A=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(F=console.groupEnd)||void 0===F||F.call(console)}),T},deps:[lm,jc,ze,c.zs3,c.Sil,Dh,Ha,[class o0{},new c.FiY],[class wp{},new c.FiY]]},jc,{provide:wl,useFactory:function QE(n){return n.routerState.root},deps:[Yi]},Tp,Rm,class Om{preload(e,t){return t().pipe(Ba(()=>nt(null)))}},{provide:Ha,useValue:{enableTracing:!1}}];function c0(){return new c.PXZ("Router",Yi)}let d0=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[l0,Pm(t),{provide:xm,useFactory:KE,deps:[[Yi,new c.FiY,new c.tp0]]},{provide:Ha,useValue:r||{}},{provide:K,useFactory:YE,deps:[re,[new c.tBr(fe),new c.FiY],Ha]},{provide:Sl,useFactory:km,deps:[Yi,fa,Ha]},{provide:ZE,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Rm},{provide:c.PXZ,multi:!0,useFactory:c0},[Fm,{provide:c.ip1,multi:!0,useFactory:Zc,deps:[Fm]},{provide:f0,useFactory:JE,deps:[Fm]},{provide:c.tb,multi:!0,useExisting:f0}]]}}static forChild(t){return{ngModule:n,providers:[Pm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xm,8),c.LFG(Yi,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function km(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Sl(n,e,t)}function YE(n,e,t={}){return t.useHash?new ve(n,e):new Ce(n,e)}function KE(n){return"guarded"}function Pm(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Dh,multi:!0,useValue:n}]}let Fm=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new tn.x}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(g=>r=g),u=this.injector.get(Yi),h=this.injector.get(Ha);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?nt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Ha),i=this.injector.get(Tp),u=this.injector.get(Sl),h=this.injector.get(Yi),g=this.injector.get(c.z2F);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),i.setUpPreloading(),u.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Zc(n){return n.appInitializer.bind(n)}function JE(n){return n.bootstrapListener.bind(n)}const f0=new c.OlP("Router Initializer"),Us=[];let Lm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[d0.forRoot(Us)],d0]}),n})();var p0=k(233),Yc=k(5363),Th=k(5032);function Ch(...n){const e=(0,Pr.jO)(n);return(0,Ir.e)((t,r)=>{const i=n.length,u=new Array(i);let h=n.map(()=>!1),g=!1;for(let v=0;v<i;v++)(0,$r.Xf)(n[v]).subscribe(new Yt.Q(r,T=>{u[v]=T,!g&&!h[v]&&(h[v]=!0,(g=h.every(Va.y))&&(h=null))},Th.Z));t.subscribe(new Yt.Q(r,v=>{if(g){const T=[v,...u];r.next(e?e(...T):T)}}))})}function Ih(n,e=Va.y){return n=null!=n?n:t1,(0,Ir.e)((t,r)=>{let i,u=!0;t.subscribe(new Yt.Q(r,h=>{const g=e(h);(u||!n(i,g))&&(u=!1,i=g,r.next(h))}))})}function t1(n,e){return n===e}const Sh={};function Ki(n,e){if(Sh[n]=(Sh[n]||0)+1,"function"==typeof e)return Vm(n,(...r)=>Object.assign(Object.assign({},e(...r)),{type:n}));switch(e?e._as:"empty"){case"empty":return Vm(n,()=>({type:n}));case"props":return Vm(n,r=>Object.assign(Object.assign({},r),{type:n}));default:throw new Error("Unexpected config.")}}function Vm(n,e){return Object.defineProperty(e,"type",{value:n,writable:!1})}const r1="@ngrx/store/init";let Ah=(()=>{class n extends Fn{constructor(){super({type:r1})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Um=[Ah],g0=new c.OlP("@ngrx/store Internal Root Guard"),Bm=new c.OlP("@ngrx/store Internal Initial State"),Cp=new c.OlP("@ngrx/store Initial State"),i1=new c.OlP("@ngrx/store Reducer Factory"),Bs=new c.OlP("@ngrx/store Internal Reducer Factory Provider"),s1=new c.OlP("@ngrx/store Initial Reducers"),m0=new c.OlP("@ngrx/store Internal Initial Reducers"),jm=new c.OlP("@ngrx/store Store Features"),Gm=new c.OlP("@ngrx/store Internal Store Reducers"),Ip=new c.OlP("@ngrx/store Internal Feature Reducers"),_0=new c.OlP("@ngrx/store Internal Feature Configs"),o1=new c.OlP("@ngrx/store Internal Store Features"),$m=new c.OlP("@ngrx/store Internal Feature Reducers Token"),Sp=new c.OlP("@ngrx/store Feature Reducers"),y0=new c.OlP("@ngrx/store User Provided Meta Reducers"),Kc=new c.OlP("@ngrx/store Meta Reducers"),v0=new c.OlP("@ngrx/store Internal Resolved Meta Reducers"),b0=new c.OlP("@ngrx/store User Runtime Checks Config"),w0=new c.OlP("@ngrx/store Internal User Runtime Checks Config"),Nh=new c.OlP("@ngrx/store Internal Runtime Checks"),Hm=new c.OlP("@ngrx/store Check if Action types are unique");function Wm(n,e={}){const t=Object.keys(n),r={};for(let u=0;u<t.length;u++){const h=t[u];"function"==typeof n[h]&&(r[h]=n[h])}const i=Object.keys(r);return function(h,g){h=void 0===h?e:h;let v=!1;const T={};for(let A=0;A<i.length;A++){const M=i[A],j=h[M],X=(0,r[M])(j,g);T[M]=X,v=v||X!==j}return v?T:h}}function Eu(...n){return function(e){if(0===n.length)return e;const t=n[n.length-1];return n.slice(0,-1).reduceRight((i,u)=>u(i),t(e))}}function D0(n,e){return Array.isArray(e)&&e.length>0&&(n=Eu.apply(null,[...e,n])),(t,r)=>{const i=n(t);return(u,h)=>i(u=void 0===u?r:u,h)}}class zm extends gn.y{}class E0 extends Ah{}let hs=(()=>{class n extends Fn{constructor(t,r,i,u){super(u(i,r)),this.dispatcher=t,this.initialState=r,this.reducers=i,this.reducerFactory=u}get currentReducers(){return this.reducers}addFeature(t){this.addFeatures([t])}addFeatures(t){const r=t.reduce((i,{reducers:u,reducerFactory:h,metaReducers:g,initialState:v,key:T})=>{const A="function"==typeof u?function Mh(n){const e=Array.isArray(n)&&n.length>0?Eu(...n):t=>t;return(t,r)=>(t=e(t),(i,u)=>t(i=void 0===i?r:i,u))}(g)(u,v):D0(h,g)(u,v);return i[T]=A,i},{});this.addReducers(r)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(r=>r.key))}addReducer(t,r){this.addReducers({[t]:r})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(r=>{this.reducers=function Ap(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,r)=>Object.assign(t,{[r]:n[r]}),{})}(this.reducers,r)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(E0),c.LFG(Cp),c.LFG(s1),c.LFG(i1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Oh=[hs,{provide:zm,useExisting:hs},{provide:E0,useExisting:Ah}];let Lr=(()=>{class n extends tn.x{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Al=[Lr];class Rh extends gn.y{}let fs=(()=>{class n extends Fn{constructor(t,r,i,u){super(u);const T=t.pipe((0,Yc.Q)(p0.N)).pipe(Ch(r)).pipe(kc(Zm,{state:u}));this.stateSubscription=T.subscribe(({state:A,action:M})=>{this.next(A),i.next(M)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return n.INIT=r1,n.\u0275fac=function(t){return new(t||n)(c.LFG(Ah),c.LFG(zm),c.LFG(Lr),c.LFG(Cp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Zm(n={state:void 0},[e,t]){const{state:r}=n;return{state:t(r,e),action:e}}const Qc=[fs,{provide:Rh,useExisting:fs}];let js=(()=>{class n extends gn.y{constructor(t,r,i){super(),this.actionsObserver=r,this.reducerManager=i,this.source=t}select(t,...r){return Xc.call(null,t,...r)(this)}lift(t){const r=new n(this,this.actionsObserver,this.reducerManager);return r.operator=t,r}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,r){this.reducerManager.addReducer(t,r)}removeReducer(t){this.reducerManager.removeReducer(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rh),c.LFG(Ah),c.LFG(hs))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jc=[js];function Xc(n,e,...t){return function(i){let u;if("string"==typeof n){const h=[e,...t].filter(Boolean);u=i.pipe(function e1(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return(0,st.U)(t=>{let r=t;for(let i=0;i<e;i++){const u=null==r?void 0:r[n[i]];if(void 0===u)return;r=u}return r})}(n,...h))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);u=i.pipe((0,st.U)(h=>n(h,e)))}return u.pipe(Ih())}}const Tu="https://ngrx.io/guide/store/configuration/runtime-checks";function Ml(n){return void 0===n}function Ol(n){return null===n}function Rl(n){return Array.isArray(n)}function Ym(n){return"object"==typeof n&&null!==n}function Np(n){return"function"==typeof n}function Mp(n,e){return n===e}function O0(n,e,t){for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!0;return!1}function Qm(n,e=Mp,t=Mp){let u,r=null,i=null;return{memoized:function T(){if(void 0!==u)return u.result;if(!r)return i=n.apply(null,arguments),r=arguments,i;if(!O0(arguments,r,e))return i;const A=n.apply(null,arguments);return r=arguments,t(i,A)?i:(i=A,A)},reset:function h(){r=null,i=null},setResult:function g(A){u={result:A}},clearResult:function v(){u=void 0}}}function cr(...n){return function R0(n,e={stateFn:l1}){return function(...t){let r=t;if(Array.isArray(r[0])){const[A,...M]=r;r=[...A,...M]}const i=r.slice(0,r.length-1),u=r[r.length-1],h=i.filter(A=>A.release&&"function"==typeof A.release),g=n(function(...A){return u.apply(null,A)}),v=Qm(function(A,M){return e.stateFn.apply(null,[A,i,M,g])});return Object.assign(v.memoized,{release:function T(){v.reset(),g.reset(),h.forEach(A=>A.release())},projector:g.memoized,setResult:v.setResult,clearResult:v.clearResult})}}(Qm)(...n)}function l1(n,e,t,r){if(void 0===t){const u=e.map(h=>h(n));return r.memoized.apply(null,u)}const i=e.map(u=>u(n,t));return r.memoized.apply(null,[...i,t])}function Jm(n){return cr(e=>{const t=e[n];return(0,c.X6Q)()&&!(n in e)&&console.warn(`@ngrx/store: The feature name "${n}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${n}', ...) or StoreModule.forFeature('${n}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},e=>e)}function xh(n){Object.freeze(n);const e=Np(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&function N0(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(n,t)&&(!e||"caller"!==t&&"callee"!==t&&"arguments"!==t)){const r=n[t];(Ym(r)||Np(r))&&!Object.isFrozen(r)&&xh(r)}}),n}function x0(n,e=[]){return(Ml(n)||Ol(n))&&0===e.length?{path:["root"],value:n}:Object.keys(n).reduce((r,i)=>{if(r)return r;const u=n[i];return function A0(n){return Np(n)&&n.hasOwnProperty("\u0275cmp")}(u)?r:!(Ml(u)||Ol(u)||function I0(n){return"number"==typeof n}(u)||function C0(n){return"boolean"==typeof n}(u)||function T0(n){return"string"==typeof n}(u)||Rl(u))&&(function Km(n){if(!function S0(n){return Ym(n)&&!Rl(n)}(n))return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||null===e}(u)?x0(u,[...e,i]):{path:[...e,i],value:u})},!1)}function h1(n,e){if(!1===n)return;const t=n.path.join("."),r=new Error(`Detected unserializable ${e} at "${t}". ${Tu}#strict${e}serializability`);throw r.value=n.value,r.unserializablePath=t,r}function f1(n){return(0,c.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function k0({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?function d1(n,e){return function(t,r){e.action(r)&&h1(x0(r),"action");const i=n(t,r);return e.state()&&h1(x0(i),"state"),i}}(t,{action:r=>n&&!e_(r),state:()=>e}):t}function KN({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?function Xm(n,e){return function(t,r){const i=e.action(r)?xh(r):r,u=n(t,i);return e.state()?xh(u):u}}(t,{action:r=>n&&!e_(r),state:()=>e}):t}function e_(n){return n.type.startsWith("@ngrx")}function ed({strictActionWithinNgZone:n}){return e=>n?function YN(n,e){return function(t,r){if(e.action(r)&&!c.R0b.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${Tu}#strictactionwithinngzone`);return n(t,r)}}(e,{action:t=>n&&!e_(t)}):e}function p1(n){return[{provide:w0,useValue:n},{provide:b0,useFactory:g1,deps:[w0]},{provide:Nh,deps:[b0],useFactory:f1},{provide:Kc,multi:!0,deps:[Nh],useFactory:KN},{provide:Kc,multi:!0,deps:[Nh],useFactory:k0},{provide:Kc,multi:!0,deps:[Nh],useFactory:ed}]}function t_(){return[{provide:Hm,multi:!0,deps:[Nh],useFactory:P0}]}function g1(n){return n}function P0(n){if(!n.strictActionTypeUniqueness)return;const e=Object.entries(Sh).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${Tu}#strictactiontypeuniqueness`)}let xl=(()=>{class n{constructor(t,r,i,u,h,g){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ah),c.LFG(zm),c.LFG(Lr),c.LFG(js),c.LFG(g0,8),c.LFG(Hm,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),n_=(()=>{class n{constructor(t,r,i,u,h){this.features=t,this.featureReducers=r,this.reducerManager=i;const g=t.map((v,T)=>{const M=r.shift()[T];return Object.assign(Object.assign({},v),{reducers:M,initialState:L0(v.initialState)})});i.addFeatures(g)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(o1),c.LFG(Sp),c.LFG(hs),c.LFG(xl),c.LFG(Hm,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),F0=(()=>{class n{static forRoot(t,r={}){return{ngModule:xl,providers:[{provide:g0,useFactory:V0,deps:[[js,new c.FiY,new c.tp0]]},{provide:Bm,useValue:r.initialState},{provide:Cp,useFactory:L0,deps:[Bm]},{provide:m0,useValue:t},{provide:Gm,useExisting:t instanceof c.OlP?t:m0},{provide:s1,deps:[c.zs3,m0,[new c.tBr(Gm)]],useFactory:m1},{provide:y0,useValue:r.metaReducers?r.metaReducers:[]},{provide:v0,deps:[Kc,y0],useFactory:v1},{provide:Bs,useValue:r.reducerFactory?r.reducerFactory:Wm},{provide:i1,deps:[Bs,v0],useFactory:D0},Um,Oh,Al,Qc,Jc,p1(r.runtimeChecks),t_()]}}static forFeature(t,r,i={}){return{ngModule:n_,providers:[{provide:_0,multi:!0,useValue:t instanceof Object?{}:i},{provide:jm,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:i instanceof c.OlP||!i.reducerFactory?Wm:i.reducerFactory,metaReducers:i instanceof c.OlP||!i.metaReducers?[]:i.metaReducers,initialState:i instanceof c.OlP||!i.initialState?void 0:i.initialState}},{provide:o1,deps:[c.zs3,_0,jm],useFactory:_1},{provide:Ip,multi:!0,useValue:t instanceof Object?t.reducer:r},{provide:$m,multi:!0,useExisting:r instanceof c.OlP?r:Ip},{provide:Sp,multi:!0,deps:[c.zs3,Ip,[new c.tBr($m)]],useFactory:y1},t_()]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function m1(n,e){return e instanceof c.OlP?n.get(e):e}function _1(n,e,t){return t.map((r,i)=>{if(e[i]instanceof c.OlP){const u=n.get(e[i]);return{key:r.key,reducerFactory:u.reducerFactory?u.reducerFactory:Wm,metaReducers:u.metaReducers?u.metaReducers:[],initialState:u.initialState}}return r})}function y1(n,e){return e.map(r=>r instanceof c.OlP?n.get(r):r)}function L0(n){return"function"==typeof n?n():n}function v1(n,e){return n.concat(e)}function V0(n){if(n)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function kh(...n){return{reducer:n.pop(),types:n.map(r=>r.type)}}function r_(n,...e){const t=new Map;for(const r of e)for(const i of r.types){const u=t.get(i);t.set(i,u?(g,v)=>r.reducer(u(g,v),v):r.reducer)}return function(r=n,i){const u=t.get(i.type);return u?u(r,i):r}}var Do=(()=>{return(n=Do||(Do={})).ADD_ARTICLE="[ARTICLE] Add Articulo",n.ADD_ARTICLE_SUCCESS="[ARTICLE] Add Articulo Success",n.ADD_ARTICLE_ERROR="[ARTICLE] Add Articulo Error",n.UPDATE_ARTICLE="[ARTICLE] Update Articulo",n.REMOVE_ARTICLE="[ARTICLE] Remove Articulo",n.LOAD_ALL_ARTICLES="[ARTICLE] Load All Articulos",n.LOAD_ALL_ARTICLES_SUCCESS="[ARTICLE] Load All Articulos Success",Do;var n})();const Op=Ki(Do.ADD_ARTICLE,{_as:"props",_p:void 0}),b1=Ki(Do.ADD_ARTICLE_SUCCESS,{_as:"props",_p:void 0}),i_=Ki(Do.ADD_ARTICLE_ERROR),w1=Ki(Do.UPDATE_ARTICLE,{_as:"props",_p:void 0}),QN=Ki(Do.REMOVE_ARTICLE,{_as:"props",_p:void 0}),td=Ki(Do.LOAD_ALL_ARTICLES),s_=Ki(Do.LOAD_ALL_ARTICLES_SUCCESS,{_as:"props",_p:void 0});var Et=(()=>{return(n=Et||(Et={}))[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",Et;var n})();function Ln(n){return function(t,r){const i={ids:[...r.ids],entities:Object.assign({},r.entities)},u=n(t,i);return u===Et.Both?Object.assign({},r,i):u===Et.EntitiesOnly?Object.assign(Object.assign({},r),{entities:i.entities}):r}}function ea(n,e){const t=e(n);return(0,c.X6Q)()&&void 0===t&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",e.toString()),t}function E1(n){function e(ye,Oe){const Ne=ea(ye,n);return Ne in Oe.entities?Et.None:(Oe.ids.push(Ne),Oe.entities[Ne]=ye,Et.Both)}function t(ye,Oe){let Ne=!1;for(const xe of ye)Ne=e(xe,Oe)!==Et.None||Ne;return Ne?Et.Both:Et.None}function i(ye,Oe){const Ne=ea(ye,n);return Ne in Oe.entities?(Oe.entities[Ne]=ye,Et.EntitiesOnly):(Oe.ids.push(Ne),Oe.entities[Ne]=ye,Et.Both)}function g(ye,Oe){const xe=(ye instanceof Array?ye:Oe.ids.filter(Ue=>ye(Oe.entities[Ue]))).filter(Ue=>Ue in Oe.entities).map(Ue=>delete Oe.entities[Ue]).length>0;return xe&&(Oe.ids=Oe.ids.filter(Ue=>Ue in Oe.entities)),xe?Et.Both:Et.None}function A(ye,Oe){return M([ye],Oe)}function M(ye,Oe){const Ne={};return(ye=ye.filter(Ue=>Ue.id in Oe.entities)).length>0?ye.filter(et=>function T(ye,Oe,Ne){const Ue=Object.assign({},Ne.entities[Oe.id],Oe.changes),et=ea(Ue,n),Lt=et!==Oe.id;return Lt&&(ye[Oe.id]=et,delete Ne.entities[Oe.id]),Ne.entities[et]=Ue,Lt}(Ne,et,Oe)).length>0?(Oe.ids=Oe.ids.map(et=>Ne[et]||et),Et.Both):Et.EntitiesOnly:Et.None}function De(ye,Oe){const Ne=[],xe=[];for(const Lt of ye){const jn=ea(Lt,n);jn in Oe.entities?xe.push({id:jn,changes:Lt}):Ne.push(Lt)}const Ue=M(xe,Oe),et=t(Ne,Oe);switch(!0){case et===Et.None&&Ue===Et.None:return Et.None;case et===Et.Both||Ue===Et.Both:return Et.Both;default:return Et.EntitiesOnly}}return{removeAll:function v(ye){return Object.assign({},ye,{ids:[],entities:{}})},addOne:Ln(e),addMany:Ln(t),setAll:Ln(function r(ye,Oe){return Oe.ids=[],Oe.entities={},t(ye,Oe),Et.Both}),setOne:Ln(i),setMany:Ln(function u(ye,Oe){const Ne=ye.map(xe=>i(xe,Oe));switch(!0){case Ne.some(xe=>xe===Et.Both):return Et.Both;case Ne.some(xe=>xe===Et.EntitiesOnly):return Et.EntitiesOnly;default:return Et.None}}),updateOne:Ln(A),updateMany:Ln(M),upsertOne:Ln(function X(ye,Oe){return De([ye],Oe)}),upsertMany:Ln(De),removeOne:Ln(function h(ye,Oe){return g([ye],Oe)}),removeMany:Ln(g),map:Ln(function F(ye,Oe){return M(Oe.ids.reduce((Ue,et)=>{const Lt=ye(Oe.entities[et]);return Lt!==Oe.entities[et]&&Ue.push({id:et,changes:Lt}),Ue},[]).filter(({id:Ue})=>Ue in Oe.entities),Oe)}),mapOne:Ln(function j({map:ye,id:Oe},Ne){const xe=Ne.entities[Oe];return xe?A({id:Oe,changes:ye(xe)},Ne):Et.None})}}function u_(n={}){const{selectId:e,sortComparer:t}=Object.assign({sortComparer:!1,selectId:h=>h.id},n),r=function a_(){return{getInitialState:function n(e={}){return Object.assign({ids:[],entities:{}},e)}}}(),i=function D1(){return{getSelectors:function n(e){const t=h=>h.ids,r=h=>h.entities,i=cr(t,r,(h,g)=>h.map(v=>g[v])),u=cr(t,h=>h.length);return e?{selectIds:cr(e,t),selectEntities:cr(e,r),selectAll:cr(e,i),selectTotal:cr(e,u)}:{selectIds:t,selectEntities:r,selectAll:i,selectTotal:u}}}}(),u=t?function T1(n,e){const{removeOne:t,removeMany:r,removeAll:i}=E1(n);function u(Ne,xe){return h([Ne],xe)}function h(Ne,xe){const Ue=Ne.filter(et=>!(ea(et,n)in xe.entities));return 0===Ue.length?Et.None:(Oe(Ue,xe),Et.Both)}function v(Ne,xe){const Ue=ea(Ne,n);return Ue in xe.entities?(xe.ids=xe.ids.filter(et=>et!==Ue),Oe([Ne],xe),Et.Both):u(Ne,xe)}function A(Ne,xe){return F([Ne],xe)}function F(Ne,xe){const Ue=[],et=Ne.filter(Lt=>function M(Ne,xe,Ue){if(!(xe.id in Ue.entities))return!1;const Lt=Object.assign({},Ue.entities[xe.id],xe.changes),jn=ea(Lt,n);return delete Ue.entities[xe.id],Ne.push(Lt),jn!==xe.id}(Ue,Lt,xe)).length>0;if(0===Ue.length)return Et.None;{const Lt=xe.ids,jn=[];return xe.ids=xe.ids.filter((Kr,Sf)=>Kr in xe.entities||(jn.push(Sf),!1)),Oe(Ue,xe),!et&&jn.every(Kr=>xe.ids[Kr]===Lt[Kr])?Et.EntitiesOnly:Et.Both}}function ye(Ne,xe){const Ue=[],et=[];for(const Kr of Ne){const Sf=ea(Kr,n);Sf in xe.entities?et.push({id:Sf,changes:Kr}):Ue.push(Kr)}const Lt=F(et,xe),jn=h(Ue,xe);switch(!0){case jn===Et.None&&Lt===Et.None:return Et.None;case jn===Et.Both||Lt===Et.Both:return Et.Both;default:return Et.EntitiesOnly}}function Oe(Ne,xe){Ne.sort(e);const Ue=[];let et=0,Lt=0;for(;et<Ne.length&&Lt<xe.ids.length;){const jn=Ne[et],Kr=ea(jn,n),Sf=xe.ids[Lt];e(jn,xe.entities[Sf])<=0?(Ue.push(Kr),et++):(Ue.push(Sf),Lt++)}xe.ids=Ue.concat(et<Ne.length?Ne.slice(et).map(n):xe.ids.slice(Lt)),Ne.forEach((jn,Kr)=>{xe.entities[n(jn)]=jn})}return{removeOne:t,removeMany:r,removeAll:i,addOne:Ln(u),updateOne:Ln(A),upsertOne:Ln(function De(Ne,xe){return ye([Ne],xe)}),setAll:Ln(function g(Ne,xe){return xe.entities={},xe.ids=[],h(Ne,xe),Et.Both}),setOne:Ln(v),setMany:Ln(function T(Ne,xe){const Ue=Ne.map(et=>v(et,xe));switch(!0){case Ue.some(et=>et===Et.Both):return Et.Both;case Ue.some(et=>et===Et.EntitiesOnly):return Et.EntitiesOnly;default:return Et.None}}),addMany:Ln(h),updateMany:Ln(F),upsertMany:Ln(ye),map:Ln(function j(Ne,xe){return F(xe.ids.reduce((et,Lt)=>{const jn=Ne(xe.entities[Lt]);return jn!==xe.entities[Lt]&&et.push({id:Lt,changes:jn}),et},[]),xe)}),mapOne:Ln(function X({map:Ne,id:xe},Ue){const et=Ue.entities[xe];return et?A({id:xe,changes:Ne(et)},Ue):Et.None})}}(e,t):E1(e);return Object.assign(Object.assign(Object.assign({selectId:e,sortComparer:t},r),i),u)}const kl=u_(),{selectIds:U0,selectEntities:l_,selectAll:B0,selectTotal:j0}=kl.getSelectors(),G0=r_(kl.getInitialState({selectedArticuloId:""}),kh(b1,(n,e)=>kl.addOne(e.articulo,n)),kh(w1,(n,{payload:e})=>kl.updateOne(e.articulo,n)),kh(QN,(n,{payload:e})=>kl.removeOne(e.id,n)),kh(s_,(n,{payload:e})=>(n=kl.removeAll(Object.assign(Object.assign({},n),{selectedArticleId:""})),kl.addMany(e.articulos,n)))),nd=Jm("articuloState"),W0=(cr(nd,U0),cr(nd,l_)),S1=cr(nd,B0),z0=(cr(nd,j0),cr(nd,n=>n.selectedArticuloId));cr(W0,z0,(n,e)=>n[e]);var Rp=k(1144);const Z0=["addListener","removeListener"],Y0=["addEventListener","removeEventListener"],K0=["on","off"];function yi(n,e,t,r){if((0,go.m)(t)&&(r=t,t=void 0),r)return yi(n,e,t).pipe(el(r));const[i,u]=function X0(n){return(0,go.m)(n.addEventListener)&&(0,go.m)(n.removeEventListener)}(n)?Y0.map(h=>g=>n[h](e,g,t)):function Q0(n){return(0,go.m)(n.addListener)&&(0,go.m)(n.removeListener)}(n)?Z0.map(d_(n,e)):function J0(n){return(0,go.m)(n.on)&&(0,go.m)(n.off)}(n)?K0.map(d_(n,e)):[];if(!i&&(0,Rp.z)(n))return(0,Ar.z)(h=>yi(h,e,t))((0,$r.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new gn.y(h=>{const g=(...v)=>h.next(1<v.length?v:v[0]);return i(g),()=>u(g)})}function d_(n,e){return t=>r=>n[t](e,r)}var eb=k(4986),N1=k(3532);function xp(n=0,e,t=eb.P){let r=-1;return null!=e&&((0,N1.K)(e)?t=e:r=e),new gn.y(i=>{let u=function M1(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let h=0;return t.schedule(function(){i.closed||(i.next(h++),0<=r?this.schedule(void 0,r):i.complete())},u)})}const{isArray:O1}=Array;function Nr(n){return 1===n.length&&O1(n[0])?n[0]:n}const tb=new gn.y(Th.Z);function kp(...n){const e=(0,Pr.jO)(n),t=Nr(n);return t.length?new gn.y(r=>{let i=t.map(()=>[]),u=t.map(()=>!1);r.add(()=>{i=u=null});for(let h=0;!r.closed&&h<t.length;h++)(0,$r.Xf)(t[h]).subscribe(new Yt.Q(r,g=>{if(i[h].push(g),i.every(v=>v.length)){const v=i.map(T=>T.shift());r.next(e?e(...v):v),i.some((T,A)=>!T.length&&u[A])&&r.complete()}},()=>{u[h]=!0,!i[h].length&&r.complete()}));return()=>{i=u=null}}):Ua.E}function Mr(n){return(0,Ir.e)((e,t)=>{(0,$r.Xf)(n).subscribe(new Yt.Q(t,()=>t.complete(),Th.Z)),!t.closed&&e.subscribe(t)})}const Eo=["*"];function To(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",6),c.NdJ("click",function(){const u=c.CHM(t).$implicit,h=c.oxw();return h.focus(),h.select(u.id,h.NgbSlideEventSource.INDICATOR)}),c.qZA()}if(2&n){const t=e.$implicit,r=c.oxw();c.ekj("active",t.id===r.activeId),c.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function ab(n,e){}function ub(n,e){if(1&n&&(c.TgZ(0,"div",7),c.TgZ(1,"span",8),c.SDv(2,9),c.qZA(),c.YNc(3,ab,0,0,"ng-template",10),c.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;c.Q6J("id","slide-"+t.id),c.xp6(2),c.pQV(r+1)(i),c.QtT(2),c.xp6(1),c.Q6J("ngTemplateOutlet",t.tplRef)}}function L1(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",11),c.NdJ("click",function(){return c.CHM(t),c.oxw().arrowLeft()}),c._UZ(1,"span",12),c.TgZ(2,"span",8),c.SDv(3,13),c.qZA(),c.qZA()}}function V1(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",14),c.NdJ("click",function(){return c.CHM(t),c.oxw().arrowRight()}),c._UZ(1,"span",15),c.TgZ(2,"span",8),c.SDv(3,16),c.qZA(),c.qZA()}}const J1=["dialog"];function Cu(n){return null!=n}function id(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const CT={animation:!0,transitionTimerDelayMs:5},xb=()=>{},{transitionTimerDelayMs:jp}=CT,Lh=new Map,Ri=(n,e,t,r)=>{let i=r.context||{};const u=Lh.get(e);if(u)switch(r.runningTransition){case"continue":return Ua.E;case"stop":n.run(()=>u.transition$.complete()),i=Object.assign(u.context,i),Lh.delete(e)}const h=t(e,r.animation,i)||xb;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),nt(void 0).pipe(function gM(n){return e=>new gn.y(t=>e.subscribe({next:h=>n.run(()=>t.next(h)),error:h=>n.run(()=>t.error(h)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new tn.x,v=new tn.x,T=g.pipe(function nb(...n){return e=>yl(e,nt(...n))}(!0));Lh.set(e,{transition$:g,complete:()=>{v.next(),v.complete()},context:i});const A=function mM(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=yi(e,"transitionend").pipe(Mr(T),Sr(({target:j})=>j===e));(function h_(...n){return 1===(n=Nr(n)).length?(0,$r.Xf)(n[0]):new gn.y(function R1(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,$r.Xf)(n[r]).subscribe(new Yt.Q(e,i=>{if(t){for(let u=0;u<t.length;u++)u!==r&&t[u].unsubscribe();t=null}e.next(i)})))}}(n))})(xp(A+jp).pipe(Mr(T)),M,v).pipe(Mr(T)).subscribe(()=>{Lh.delete(e),n.run(()=>{h(),g.next(),g.complete()})})}),g.asObservable()};let Gp=(()=>{class n{constructor(){this.animation=CT.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),Ub=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var na=(()=>{return(n=na||(na={})).LEFT="left",n.RIGHT="right",na;var n})();const Gb=({classList:n})=>n.contains("carousel-item-left")||n.contains("carousel-item-right"),sd=n=>{n.remove("carousel-item-left"),n.remove("carousel-item-right")},$p=n=>{sd(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},RT=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Gb(n)?sd(r):(r.add("carousel-item-"+(t===na.LEFT?"next":"prev")),id(n),r.add("carousel-item-"+t)),()=>{$p(r),r.add("active")}):(sd(r),$p(r),void r.add("active"))},xT=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Gb(n)?sd(r):r.add("carousel-item-"+t),()=>{$p(r),r.remove("active")}):(sd(r),$p(r),void r.remove("active"))};let kT=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PT=0,I_=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+PT++,this.slid=new c.vpe}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),$b=(()=>{class n{constructor(t,r,i,u,h){this._platformId=r,this._ngZone=i,this._cd=u,this._container=h,this.NgbSlideEventSource=Vl,this._destroy$=new tn.x,this._interval$=new Fn(0),this._mouseHover$=new Fn(!1),this._focused$=new Fn(!1),this._pauseOnHover$=new Fn(!1),this._pauseOnFocus$=new Fn(!1),this._pause$=new Fn(!1),this._wrap$=new Fn(!1),this.slide=new c.vpe,this.slid=new c.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Vl.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Vl.ARROW_RIGHT)}ngAfterContentInit(){(function Cr(n){return n===Ci})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=ml([this.slide.pipe((0,st.U)(r=>r.current),vl(this.activeId)),this._wrap$,this.slides.changes.pipe(vl(null))]).pipe((0,st.U)(([r,i])=>{const u=this.slides.toArray(),h=this._getSlideIdxById(r);return i?u.length>1:h<u.length-1}),Ih());ml([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,st.U)(([r,i,u,h,g,v,T])=>r||i&&u||h&&g||!T?0:v),Ih(),lr(r=>r>0?xp(r,r):tb),Mr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Vl.TIMER)))}),this.slides.changes.pipe(Mr(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(r=>(n=>{var e;null===(e=Lh.get(n))||void 0===e||e.complete()})(this._getSlideElement(r))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Oi.q)(1)).subscribe(()=>{for(const{id:r}of this.slides){const i=this._getSlideElement(r);r===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),na.RIGHT,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),na.LEFT,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const u=this._transitionIds;if(u&&(u[0]!==t||u[1]!==this.activeId))return;let h=this._getSlideById(t);if(h&&h.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:h.id,direction:r,paused:this._pause$.value,source:i});const g={animation:this.animation,runningTransition:"stop",context:{direction:r}},v=[],T=this._getSlideById(this.activeId);if(T){const j=Ri(this._ngZone,this._getSlideElement(T.id),xT,g);j.subscribe(()=>{T.slid.emit({isShown:!1,direction:r,source:i})}),v.push(j)}const A=this.activeId;this.activeId=h.id;const M=this._getSlideById(this.activeId),F=Ri(this._ngZone,this._getSlideElement(h.id),RT,g);F.subscribe(()=>{null==M||M.slid.emit({isShown:!0,direction:r,source:i})}),v.push(F),kp(...v).pipe((0,Oi.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:A,current:h.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?na.RIGHT:na.LEFT}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(kT),c.Y36(c.Lbi),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,I_,4),2&t){let u;c.iGM(u=c.CRH())&&(r.slides=u)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&c.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(c.uIk("aria-activedescendant","slide-"+r.activeId),c.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],e,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(c.TgZ(0,"ol",0),c.YNc(1,To,1,5,"li",1),c.qZA(),c.TgZ(2,"div",2),c.YNc(3,ub,4,4,"div",3),c.qZA(),c.YNc(4,L1,4,0,"a",4),c.YNc(5,V1,4,0,"a",5)),2&t&&(c.ekj("sr-only",!r.showNavigationIndicators),c.xp6(1),c.Q6J("ngForOf",r.slides),c.xp6(2),c.Q6J("ngForOf",r.slides),c.xp6(1),c.Q6J("ngIf",r.showNavigationArrows),c.xp6(1),c.Q6J("ngIf",r.showNavigationArrows))},directives:[An,da,zn],encapsulation:2,changeDetection:0}),n})();var Vl=(()=>{return(n=Vl||(Vl={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Vl;var n})();let S_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),Hp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var br=(()=>{return(n=br||(br={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",br;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Yb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function YT(n){const e=Array.from(n.querySelectorAll(Yb)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class QT{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const u=this.offsetParent(e);r=this.offset(e,!1),u!==document.documentElement&&(i=this.offset(u,!1)),i.top+=u.clientTop,i.left+=u.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),i_top=window.scrollY-document.documentElement.clientTop,i_left=window.scrollX-document.documentElement.clientLeft;let u={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+i_top,bottom:r.bottom+i_top,left:r.left+i_left,right:r.right+i_left};return t&&(u.height=Math.round(u.height),u.width=Math.round(u.width),u.top=Math.round(u.top),u.bottom=Math.round(u.bottom),u.left=Math.round(u.left),u.right=Math.round(u.right)),u}positionElements(e,t,r,i){const[u="top",h="center"]=r.split("-"),g=i?this.offset(e,!1):this.position(e,!1),v=this.getAllStyles(t),T=parseFloat(v.marginTop),A=parseFloat(v.marginBottom),M=parseFloat(v.marginLeft),F=parseFloat(v.marginRight);let j=0,X=0;switch(u){case"top":j=g.top-(t.offsetHeight+T+A);break;case"bottom":j=g.top+g.height;break;case"left":X=g.left-(t.offsetWidth+M+F);break;case"right":X=g.left+g.width}switch(h){case"top":j=g.top;break;case"bottom":j=g.top+g.height-t.offsetHeight;break;case"left":X=g.left;break;case"right":X=g.left+g.width-t.offsetWidth;break;case"center":"top"===u||"bottom"===u?X=g.left+g.width/2-t.offsetWidth/2:j=g.top+g.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(X)}px, ${Math.round(j)}px)`;const De=t.getBoundingClientRect(),ye=document.documentElement,Oe=window.innerHeight||ye.clientHeight,Ne=window.innerWidth||ye.clientWidth;return De.left>=0&&De.top>=0&&De.right<=Ne&&De.bottom<=Oe}},new Date(1882,10,12),new Date(2174,10,25);let k_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr,yr]]}),n})(),uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class $l{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Yh=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Oi.q)(1)).subscribe(()=>{Ri(this._zone,this._el.nativeElement,(t,r)=>{r&&id(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ri(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(c.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),c.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class lw{close(e){}dismiss(e){}}class L_{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new tn.x,this._dismissed=new tn.x,this._hidden=new tn.x,e.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,h)=>{this._resolve=u,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Mr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Mr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Rb(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():nt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),kp(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Kh=(()=>{return(n=Kh||(Kh={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Kh;var n})();let cw=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new tn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new tn.x,this.hidden=new tn.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Oi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=kp(Ri(this._zone,t,()=>t.classList.remove("show"),r),Ri(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};kp(Ri(this._zone,this._elRef.nativeElement,(u,h)=>{h&&id(u),u.classList.add("show")},t),Ri(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{yi(t,"keydown").pipe(Mr(this._closed$),Sr(i=>i.which===br.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Kh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;yi(this._dialogEl.nativeElement,"mousedown").pipe(Mr(this._closed$),(0,si.b)(()=>r=!1),lr(()=>yi(t,"mouseup").pipe(Mr(this._closed$),(0,Oi.q)(1))),Sr(({target:i})=>t===i)).subscribe(()=>{r=!0}),yi(t,"click").pipe(Mr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Kh.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=YT(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ri(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ue),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&c.Gf(J1,7),2&t){let i;c.iGM(i=c.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),c.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),c.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Eo,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.TgZ(2,"div",2),c.Hsn(3),c.qZA(),c.qZA()),2&t&&c.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const bC=()=>{};let wC=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):bC}_adjustBody(t){const r=this._document.body,i=r.style.paddingRight,u=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${u+t}px`,()=>r.style["padding-right"]=i}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const i=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V_=(()=>{class n{constructor(t,r,i,u,h,g){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=u,this._rendererFactory=h,this._ngZone=g,this._activeWindowCmptHasChanged=new tn.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=yi(e,"focusin").pipe(Mr(t),(0,st.U)(u=>u.target));yi(e,"keydown").pipe(Mr(t),Sr(u=>u.which===br.Tab),Ch(i)).subscribe(([u,h])=>{const[g,v]=YT(e);(h===g||h===e)&&u.shiftKey&&(v.focus(),u.preventDefault()),h===v&&!u.shiftKey&&(g.focus(),u.preventDefault())}),r&&yi(e,"click").pipe(Mr(t),Ch(i),(0,st.U)(u=>u[1])).subscribe(u=>u.focus())})})(0,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}open(t,r,i,u){const h=u.container instanceof HTMLElement?u.container:Cu(u.container)?this._document.querySelector(u.container):this._document.body,g=this._rendererFactory.createRenderer(null,null),v=this._scrollBar.compensate(),T=()=>{this._modalRefs.length||(g.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${u.container||"body"}" was not found in the DOM.`);const A=new lw,M=this._getContentRef(t,u.injector||r,i,A,u);let F=!1!==u.backdrop?this._attachBackdrop(t,h):void 0,j=this._attachWindowComponent(t,h,M),X=new L_(j,M,F,u.beforeDismiss);return this._registerModalRef(X),this._registerWindowCmpt(j),X.result.then(v,v),X.result.then(T,T),A.close=De=>{X.close(De)},A.dismiss=De=>{X.dismiss(De)},this._applyWindowOptions(j.instance,u),1===this._modalRefs.length&&g.addClass(this._document.body,"modal-open"),F&&F.instance&&(this._applyBackdropOptions(F.instance,u),F.changeDetectorRef.detectChanges()),j.changeDetectorRef.detectChanges(),X}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let u=t.resolveComponentFactory(Yh).create(this._injector);return this._applicationRef.attachView(u.hostView),r.appendChild(u.location.nativeElement),u}_attachWindowComponent(t,r,i){let h=t.resolveComponentFactory(cw).create(this._injector,i.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Cu(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Cu(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,u,h){return i?i instanceof c.Rgc?this._createFromTemplateRef(i,u):function Ob(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(t,r,i,u,h):new $l([])}_createFromTemplateRef(t,r){const u=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(u),new $l([u.rootNodes],u)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new $l([[r]])}_createFromComponent(t,r,i,u,h){const g=t.resolveComponentFactory(i),v=c.zs3.create({providers:[{provide:lw,useValue:u}],parent:r}),T=g.create(v),A=T.location.nativeElement;return h.scrollable&&A.classList.add("component-host-scrollable"),this._applicationRef.attachView(T.hostView),new $l([[A]],T.hostView,T)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(ue),c.LFG(wC),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dw=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U_=(()=>{class n{constructor(t,r,i,u){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=u}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(V_),c.LFG(dw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[U_]}),n})(),pw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),AC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),Xh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),Hl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),Y_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),Iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})(),Qi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function K_(){return 100}});let Q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[jr]]}),n})();const FC=[Vb,Ub,jb,S_,Hp,k_,uw,Qh,pw,q_,AC,Xh,Hl,Y_,Iw,Qi,Q_];let LC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[FC,Vb,Ub,jb,S_,Hp,k_,uw,Qh,pw,q_,AC,Xh,Hl,Y_,Iw,Qi,Q_]}),n})();function J_(n,e){if(1&n&&(c.TgZ(0,"div",3),c._UZ(1,"img",4),c.qZA(),c.TgZ(2,"div",5),c._UZ(3,"h3"),c._UZ(4,"p"),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("src",t,c.LSH)}}function So(n,e){1&n&&c.YNc(0,J_,5,1,"ng-template",2)}function VC(n,e){if(1&n&&(c.TgZ(0,"ngb-carousel"),c.YNc(1,So,1,0,void 0,1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.images)}}let oO=(()=>{class n{constructor(){this.images=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-images-carousel"]],inputs:{images:"images"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"picsum-img-wrapper"],["alt","Random first slide",3,"src"],[1,"carousel-caption"]],template:function(t,r){1&t&&c.YNc(0,VC,2,1,"ngb-carousel",0),2&t&&c.Q6J("ngIf",r.images)},directives:[zn,$b,An,I_],styles:[""]}),n})();function UC(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",20),c.TgZ(1,"a",21),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2).$implicit;return c.oxw().modalApartar(i.id)}),c._uU(2,"Apartar"),c.qZA(),c.qZA()}}function Nw(n,e){if(1&n&&(c.TgZ(0,"div",9),c.TgZ(1,"div",10),c._UZ(2,"app-images-carousel",11),c.qZA(),c.TgZ(3,"div",12),c.TgZ(4,"div",13),c.TgZ(5,"h4",14),c.TgZ(6,"a",15),c._uU(7),c.qZA(),c.qZA(),c.TgZ(8,"span"),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"div",16),c.TgZ(11,"div",17),c.TgZ(12,"div",18),c.TgZ(13,"h6",14),c.TgZ(14,"a",15),c._uU(15),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(16,UC,3,0,"div",19),c.qZA(),c.qZA(),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(2),c.Q6J("images",t.Imagenes),c.xp6(5),c.hij(" ",t.Descripcion," "),c.xp6(2),c.hij("$ ",t.Precio,""),c.xp6(6),c.Oqu(t.Apartado?"Apartado":"Disponible"),c.xp6(1),c.Q6J("ngIf",!t.Apartado)}}function BC(n,e){if(1&n&&(c.TgZ(0,"div",7),c.YNc(1,Nw,17,5,"div",8),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngIf",!t.Vendido)}}let jC=(()=>{class n{constructor(t){this.store=t,this.title="app-ventitas",this.articulos$=t.select(S1)}modalApartar(t){alert(t)}ngOnInit(){this.store.dispatch(td())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(js))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:13,vars:3,consts:[["id","blog",1,"blog-area","pt-125"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-6"],[1,"section-title","text-center","pb-25"],[1,"title","mb-15"],["class","col-lg-4 col-md-6",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6"],["class","single-blog mt-30",4,"ngIf"],[1,"single-blog","mt-30"],[1,"blog-image"],[3,"images"],[1,"blog-content"],[1,"content"],[1,"title"],["href","/"],[1,"meta","d-flex","justify-content-between","align-items-center"],[1,"meta-admin","d-flex","align-items-center"],[1,"admin-title"],["class","meta-icon",4,"ngIf"],[1,"meta-icon"],["href","",1,"btn",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"h3",5),c._uU(6,"Bazar de Marianita"),c.qZA(),c.TgZ(7,"p"),c._uU(8,"Aparta las prendas que te gusten, solo env\xedame tus datos para que pueda pasar a dej\xe1rtelas."),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",2),c.YNc(10,BC,2,1,"div",6),c.ALo(11,"async"),c.qZA(),c.qZA(),c.qZA(),c._UZ(12,"router-outlet")),2&t&&(c.xp6(10),c.Q6J("ngForOf",c.lcZ(11,1,r.articulos$)))},directives:[An,zn,oO,yh],pipes:[Od],styles:[""]}),n})();const X__firebase={projectId:"ventitas-c666f",appId:"1:511407967251:web:d90e4b5885c98785edc3e6",storageBucket:"ventitas-c666f.appspot.com",locationId:"us-central",apiKey:"AIzaSyA3u3uN9gO6hIY4PoO1ejOcSGfpJUJJ-Tw",authDomain:"ventitas-c666f.firebaseapp.com",messagingSenderId:"511407967251"};var nr=k(6351),Mw=k(5867);class ey{constructor(){return(0,Mw.C6)()}}k(5799);var Ht=k(2090),Su=k(9681),zl=k(1877),ty=k(4859);class kw{constructor(){return(0,nr.vb)("auth")}}var l=k(5861);const d=new Map,p={activated:!1,tokenObservers:[]},_={initialized:!1,enabled:!1};function b(n){return d.get(n)||p}function D(n,e){d.set(n,e)}function I(){return _}class Ze{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,l.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function at(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const rt=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hn(n){if(!b(n).activated)throw rt.create("use-before-activation",{appName:n.name})}function ef(n,e){return tf.apply(this,arguments)}function tf(){return(tf=(0,l.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(e),headers:r};let h,g;try{h=yield fetch(n,u)}catch(M){throw rt.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw rt.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(M){throw rt.create("fetch-parse-error",{originalErrorMessage:M.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw rt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const T=1e3*Number(v[1]),A=Date.now();return{token:g.attestationToken,expireTimeMillis:A+T,issuedAtTimeMillis:A}})).apply(this,arguments)}function ly(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ql="firebase-app-check-store";let Uw=null;function xO(){return Uw||(Uw=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(rt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ql,{keyPath:"compositeKey"})}}catch(t){e(rt.create("storage-open",{originalErrorMessage:t.message}))}}),Uw)}function iI(){return(iI=(0,l.Z)(function*(n,e){const r=(yield xO()).transaction(ql,"readwrite"),u=r.objectStore(ql).put({compositeKey:n,value:e});return new Promise((h,g)=>{u.onsuccess=v=>{h()},r.onerror=v=>{var T;g(rt.create("storage-set",{originalErrorMessage:null===(T=v.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const hy=new zl.Yd("@firebase/app-check");function LO(n,e){return(0,Ht.hl)()?function RL(n,e){return function kO(n,e){return iI.apply(this,arguments)}(function FO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hy.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function VO(){return I().enabled}function UO(){return uI.apply(this,arguments)}function uI(){return(uI=(0,l.Z)(function*(){const n=I();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const VL={error:"UNKNOWN_ERROR"};function UL(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function Bw(n){return lI.apply(this,arguments)}function lI(){return(lI=(0,l.Z)(function*(n,e=!1){const t=n.app;hn(t);const r=b(t);let u,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&jw(v)&&(i=v)}if(!e&&i&&jw(i))return{token:i.token};let g,h=!1;if(VO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ef(ly(t,yield UO()),n.platformLoggerProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),h=!0);const v=yield r.exchangeTokenPromise;return yield LO(t,v),D(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?hy.warn(v.message):hy.error(v),u=v}return i?(g={token:i.token},D(t,Object.assign(Object.assign({},r),{token:i})),yield LO(t,i)):g=jL(u),h&&jO(t,g),g})).apply(this,arguments)}function dI(n,e){const t=b(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),D(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function BO(n){const{app:e}=n,t=b(e);let r=t.tokenRefresher;r||(r=function BL(n){const{app:e}=n;return new Ze((0,l.Z)(function*(){let r;if(r=b(e).token?yield Bw(n,!0):yield Bw(n),r.error)throw r.error}),()=>!0,()=>{const t=b(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),D(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function jO(n,e){const t=b(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function jw(n){return n.expireTimeMillis-Date.now()>0}function jL(n){return{token:UL(VL),error:n}}class GL{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=b(this.app);for(const t of e)dI(this.app,t.next);return Promise.resolve()}}const YO="app-check-internal";!function nV(){(0,Su._registerComponent)(new ty.wA("app-check",n=>function $L(n,e){return new GL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(YO).initialize()})),(0,Su._registerComponent)(new ty.wA(YO,n=>function HL(n){return{getToken:e=>Bw(n,e),addTokenListener:e=>function cI(n,e,t,r){const{app:i}=n,u=b(i),h={next:t,error:r,type:e};if(D(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&jw(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),BO(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>BO(n))}(n,"INTERNAL",e),removeTokenListener:e=>dI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Su.registerVersion)("@firebase/app-check","0.5.3")}();class $w{constructor(){return(0,nr.vb)("app-check")}}"undefined"!=typeof window&&window;var dt,aV="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zl={},mI=mI||{},Ft=aV||self;function Hw(){}function _I(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yI="closure_uid_"+(1e9*Math.random()>>>0),lV=0;function cV(n,e,t){return n.call.apply(n.bind,arguments)}function dV(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function xi(n,e,t){return(xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cV:dV).apply(null,arguments)}function Ww(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ki(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[i].apply(r,h)}}function fd(){this.s=this.s,this.o=this.o}var fV={};fd.prototype.s=!1,fd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function uV(n){return Object.prototype.hasOwnProperty.call(n,yI)&&n[yI]||(n[yI]=++lV)}(this);delete fV[n]}},fd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},JO=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function XO(n){return Array.prototype.concat.apply([],arguments)}function vI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zw(n){return/^[\s\xa0]*$/.test(n)}var ms,eR=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function gs(n,e){return-1!=n.indexOf(e)}function bI(n,e){return n<e?-1:n>e?1:0}e:{var tR=Ft.navigator;if(tR){var nR=tR.userAgent;if(nR){ms=nR;break e}}ms=""}function wI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function rR(n){const e={};for(const t in n)e[t]=n[t];return e}var iR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sR(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<iR.length;u++)t=iR[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function DI(n){return DI[" "](n),n}DI[" "]=Hw;var qw,n,mV=gs(ms,"Opera"),Jp=gs(ms,"Trident")||gs(ms,"MSIE"),oR=gs(ms,"Edge"),EI=oR||Jp,aR=gs(ms,"Gecko")&&!(gs(ms.toLowerCase(),"webkit")&&!gs(ms,"Edge"))&&!(gs(ms,"Trident")||gs(ms,"MSIE"))&&!gs(ms,"Edge"),_V=gs(ms.toLowerCase(),"webkit")&&!gs(ms,"Edge");function uR(){var n=Ft.document;return n?n.documentMode:void 0}e:{var TI="",CI=(n=ms,aR?/rv:([^\);]+)(\)|;)/.exec(n):oR?/Edge\/([\d\.]+)/.exec(n):Jp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_V?/WebKit\/(\S+)/.exec(n):mV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(CI&&(TI=CI?CI[1]:""),Jp){var II=uR();if(null!=II&&II>parseFloat(TI)){qw=String(II);break e}}qw=TI}var yV={};var bV=Ft.document&&Jp&&(uR()||parseInt(qw,10))||void 0,wV=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",Hw,e),Ft.removeEventListener("test",Hw,e)}catch(t){}return n}();function Ji(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function py(n,e){if(Ji.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(aR){e:{try{DI(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:DV[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&py.Z.h.call(this)}}Ji.prototype.h=function(){this.defaultPrevented=!0},ki(py,Ji);var DV={2:"touch",3:"pen",4:"mouse"};py.prototype.h=function(){py.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gy="closure_listenable_"+(1e6*Math.random()|0),EV=0;function TV(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++EV,this.ca=this.fa=!1}function Zw(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Yw(n){this.src=n,this.g={},this.h=0}function AI(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=QO(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Zw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function NI(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}Yw.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=NI(n,e,r,i);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new TV(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var MI="closure_lm_"+(1e6*Math.random()|0),OI={};function cR(n,e,t,r,i){if(r&&r.once)return hR(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)cR(n,e[u],t,r,i);return null}return t=PI(t),n&&n[gy]?n.N(e,t,fy(r)?!!r.capture:!!r,i):dR(n,e,t,!1,r,i)}function dR(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var h=fy(i)?!!i.capture:!!i,g=xI(n);if(g||(n[MI]=g=new Yw(n)),(t=g.add(e,t,r,h,u)).proxy)return t;if(r=function CV(){var e=IV;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)wV||(i=h),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(pR(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hR(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)hR(n,e[u],t,r,i);return null}return t=PI(t),n&&n[gy]?n.O(e,t,fy(r)?!!r.capture:!!r,i):dR(n,e,t,!0,r,i)}function fR(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)fR(n,e[u],t,r,i);else r=fy(r)?!!r.capture:!!r,t=PI(t),n&&n[gy]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=NI(u=n.g[e],t,r,i))&&(Zw(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=xI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=NI(e,t,r,i)),(t=-1<n?e[n]:null)&&RI(t))}function RI(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[gy])AI(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(pR(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xI(e))?(AI(t,n),0==t.h&&(t.src=null,e[MI]=null)):Zw(n)}}}function pR(n){return n in OI?OI[n]:OI[n]="on"+n}function IV(n,e){if(n.ca)n=!0;else{e=new py(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&RI(n),n=t.call(r,e)}return n}function xI(n){return(n=n[MI])instanceof Yw?n:null}var kI="__closure_events_fn_"+(1e9*Math.random()>>>0);function PI(n){return"function"==typeof n?n:(n[kI]||(n[kI]=function(e){return n.handleEvent(e)}),n[kI])}function vi(){fd.call(this),this.i=new Yw(this),this.P=this,this.I=null}function Pi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ji(e,n);else if(e instanceof Ji)e.target=e.target||n;else{var i=e;sR(e=new Ji(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];i=Kw(h,r,!0,e)&&i}if(i=Kw(h=e.g=n,r,!0,e)&&i,i=Kw(h,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Kw(h=e.g=t[u],r,!1,e)&&i}function Kw(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var g=h.listener,v=h.ia||h.src;h.fa&&AI(n.i,h),i=!1!==g.call(v,r)&&i}}return i&&!r.defaultPrevented}ki(vi,fd),vi.prototype[gy]=!0,vi.prototype.removeEventListener=function(n,e,t,r){fR(this,n,e,t,r)},vi.prototype.M=function(){if(vi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Zw(t[r]);delete n.g[e],n.h--}}this.I=null},vi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},vi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var FI=Ft.JSON.stringify;function SV(){var n=mR;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var VI,gR=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new NV,n=>n.reset());class NV{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function MV(n){Ft.setTimeout(()=>{throw n},0)}function LI(n,e){VI||function OV(){var n=Ft.Promise.resolve(void 0);VI=function(){n.then(RV)}}(),UI||(VI(),UI=!0),mR.add(n,e)}var UI=!1,mR=new class AV{constructor(){this.h=this.g=null}add(e,t){const r=gR.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function RV(){for(var n;n=SV();){try{n.h.call(n.g)}catch(t){MV(t)}var e=gR;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}UI=!1}function Qw(n,e){vi.call(this),this.h=n||1,this.g=e||Ft,this.j=xi(this.kb,this),this.l=Date.now()}function BI(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function jI(n,e,t){if("function"==typeof n)t&&(n=xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function _R(n){n.g=jI(()=>{n.g=null,n.i&&(n.i=!1,_R(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ki(Qw,vi),(dt=Qw.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pi(this,"tick"),this.da&&(BI(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){Qw.Z.M.call(this),BI(this),delete this.g};class xV extends fd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_R(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function my(n){fd.call(this),this.h=n,this.g={}}ki(my,fd);var yR=[];function vR(n,e,t,r){Array.isArray(t)||(t&&(yR[0]=t.toString()),t=yR);for(var i=0;i<t.length;i++){var u=cR(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function bR(n){wI(n.g,function(e,t){this.g.hasOwnProperty(t)&&RI(e)},n),n.g={}}function Jw(){this.g=!0}function Xp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function LV(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<i.length;h++)i[h]=""}}}return FI(t)}catch(g){return e}}(n,t)+(r?" "+r:"")})}my.prototype.M=function(){my.Z.M.call(this),bR(this)},my.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jw.prototype.Aa=function(){this.g=!1},Jw.prototype.info=function(){};var nf={},wR=null;function Xw(){return wR=wR||new vi}function DR(n){Ji.call(this,nf.Ma,n)}function _y(n){const e=Xw();Pi(e,new DR(e,n))}function ER(n,e){Ji.call(this,nf.STAT_EVENT,n),this.stat=e}function _s(n){const e=Xw();Pi(e,new ER(e,n))}function TR(n,e){Ji.call(this,nf.Na,n),this.size=e}function yy(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}nf.Ma="serverreachability",ki(DR,Ji),nf.STAT_EVENT="statevent",ki(ER,Ji),nf.Na="timingevent",ki(TR,Ji);var eD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},CR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function GI(){}function SR(){}GI.prototype.h=null;var WI,vy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $I(){Ji.call(this,"d")}function HI(){Ji.call(this,"c")}function tD(){}function by(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new my(this),this.P=VV,this.W=new Qw(n=EI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new AR}function AR(){this.i=null,this.g="",this.h=!1}ki($I,Ji),ki(HI,Ji),ki(tD,GI),tD.prototype.g=function(){return new XMLHttpRequest},tD.prototype.i=function(){return{}},WI=new tD;var VV=45e3,zI={},nD={};function qI(n,e,t){n.K=1,n.v=aD(Yl(e)),n.s=t,n.U=!0,NR(n,null)}function NR(n,e){n.F=Date.now(),wy(n),n.A=Yl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),VR(t.h,"t",r),n.C=0,t=n.l.H,n.h=new AR,n.g=ax(n.l,t?e:null,!n.s),0<n.O&&(n.L=new xV(xi(n.Ia,n,n.g),n.O)),vR(n.V,n.g,"readystatechange",n.gb),e=n.H?rR(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),_y(1),function kV(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var h="",g=u.split("&"),v=0;v<g.length;v++){var T=g[v].split("=");if(1<T.length){var A=T[0];T=T[1];var M=A.split("_");h=2<=M.length&&"type"==M[1]?h+(A+"=")+T+"&":h+(A+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function MR(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function OR(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=UV(n,t),i==nD){4==e&&(n.o=4,_s(14),r=!1),Xp(n.j,n.m,null,"[Incomplete Response]");break}if(i==zI){n.o=4,_s(15),Xp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Xp(n.j,n.m,i,null),ZI(n,i)}MR(n)&&i!=nD&&i!=zI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,_s(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),sS(e),e.L=!0,_s(11))):(Xp(n.j,n.m,t,"[Invalid Chunked Response]"),rf(n),Dy(n))}function UV(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?nD:(t=Number(e.substring(t,r)),isNaN(t)?zI:(r+=1)+t>e.length?nD:(e=e.substr(r,t),n.C=r+t,e))}function wy(n){n.Y=Date.now()+n.P,RR(n,n.P)}function RR(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yy(xi(n.eb,n),e)}function rD(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function Dy(n){0==n.l.G||n.I||rx(n.l,n)}function rf(n){rD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,BI(n.W),bR(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ZI(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||QI(t.i,n)))if(t.I=n.N,!n.J&&QI(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=yy(xi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;fD(t),dD(t)}iS(t),_s(18)}if(1>=jR(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else uf(t,11)}else if((n.J||t.g==n)&&fD(t),!zw(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let T=i[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const A=T[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const M=T[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=T[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const X=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var u=r.i;!u.g&&(gs(X,"spdy")||gs(X,"quic")||gs(X,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(JI(u,u.h),u.h=null))}if(r.D){const De=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;De&&(r.sa=De,dr(r.F,r.D,De))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=ox(r,r.H?r.la:null,r.W),h.J){GR(r.i,h);var g=h,v=r.K;v&&g.setTimeout(v),g.B&&(rD(g),wy(g)),r.g=h}else tx(r);0<t.l.length&&hD(t)}else"stop"!=T[0]&&"close"!=T[0]||uf(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?uf(t,7):nS(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}_y(4)}catch(T){}}function YI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(_I(n)||"string"==typeof n)JO(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(_I(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function BV(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(_I(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function eg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof eg)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function KI(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];sf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)sf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function sf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dt=by.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const e=this.L;e&&3==Kl(n)?e.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const A=Kl(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>A)&&(3!=A||EI||this.g&&(this.h.h||this.g.ga()||KR(this.g)))){this.I||4!=A||7==e||_y(8==e||0>=M?3:2),rD(this);var t=this.g.ba();this.N=t;t:if(MR(this)){var r=KR(this.g);n="";var i=r.length,u=4==Kl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){rf(this),Dy(this);var h="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function PV(n,e,t,r,i,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zw(g)){var T=g;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,_s(12),rf(this),Dy(this);break e}Xp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ZI(this,t)}this.U?(OR(this,A,h),EI&&this.i&&3==A&&(vR(this.V,this.W,"tick",this.fb),this.W.start())):(Xp(this.j,this.m,h,null),ZI(this,h)),4==A&&rf(this),this.i&&!this.I&&(4==A?rx(this.l,this):(this.i=!1,wy(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,_s(12)):(this.o=0,_s(13)),rf(this),Dy(this)}}}catch(A){}},dt.fb=function(){if(this.g){var n=Kl(this.g),e=this.g.ga();this.C<e.length&&(rD(this),OR(this,n,e),this.i&&4!=n&&wy(this))}},dt.cancel=function(){this.I=!0,rf(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function FV(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_y(3),_s(17)),rf(this),this.o=2,Dy(this)):RR(this,this.Y-n)},(dt=eg.prototype).R=function(){KI(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dt.T=function(){return KI(this),this.g.concat()},dt.get=function(n,e){return sf(this.h,n)?this.h[n]:e},dt.set=function(n,e){sf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var xR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function af(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof af){this.g=void 0!==e?e:n.g,iD(this,n.j),this.s=n.s,sD(this,n.i),oD(this,n.m),this.l=n.l,e=n.h;var t=new Cy;t.i=e.i,e.g&&(t.g=new eg(e.g),t.h=e.h),kR(this,t),this.o=n.o}else n&&(t=String(n).match(xR))?(this.g=!!e,iD(this,t[1]||"",!0),this.s=Ey(t[2]||""),sD(this,t[3]||"",!0),oD(this,t[4]),this.l=Ey(t[5]||"",!0),kR(this,t[6]||"",!0),this.o=Ey(t[7]||"")):(this.g=!!e,this.h=new Cy(null,this.g))}function Yl(n){return new af(n)}function iD(n,e,t){n.j=t?Ey(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sD(n,e,t){n.i=t?Ey(e,!0):e}function oD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kR(n,e,t){e instanceof Cy?(n.h=e,function YV(n,e){e&&!n.j&&(pd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(FR(this,r),VR(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ty(e,qV)),n.h=new Cy(e,n.g))}function dr(n,e,t){n.h.set(e,t)}function aD(n){return dr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ey(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ty(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,HV),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function HV(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}af.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ty(e,PR,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ty(e,PR,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ty(t,"/"==t.charAt(0)?zV:WV,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ty(t,ZV)),n.join("")};var PR=/[#\/\?@]/g,WV=/[#\?:]/g,zV=/[#\?]/g,qV=/[#\?@]/g,ZV=/#/g;function Cy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function pd(n){n.g||(n.g=new eg,n.h=0,n.i&&function jV(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function FR(n,e){pd(n),e=tg(n,e),sf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,sf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&KI(n)))}function LR(n,e){return pd(n),e=tg(n,e),sf(n.g.h,e)}function VR(n,e,t){FR(n,e),0<t.length&&(n.i=null,n.g.set(tg(n,e),vI(t)),n.h+=t.length)}function tg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function UR(n){this.l=n||QV,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Cy.prototype).add=function(n,e){pd(this),this.i=null,n=tg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){pd(this),this.g.forEach(function(t,r){JO(t,function(i){n.call(e,i,r,this)},this)},this)},dt.T=function(){pd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},dt.R=function(n){pd(this);var e=[];if("string"==typeof n)LR(this,n)&&(e=XO(e,this.g.get(tg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=XO(e,n[t])}return e},dt.set=function(n,e){return pd(this),this.i=null,LR(this,n=tg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var h=i;""!==r[u]&&(h+="="+encodeURIComponent(String(r[u]))),n.push(h)}}return this.i=n.join("&")};var QV=10;function BR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jR(n){return n.h?1:n.g?n.g.size:0}function QI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function JI(n,e){n.g?n.g.add(e):n.h=e}function GR(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function $R(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vI(n.i)}function XI(){}function JV(){this.g=new XI}function XV(n,e,t){const r=t||"";try{YI(n,function(i,u){let h=i;fy(i)&&(h=FI(i)),e.push(r+u+"="+encodeURIComponent(h))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function Iy(n){this.l=n.$b||null,this.j=n.ib||!1}function lD(n,e){vi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=eS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}UR.prototype.cancel=function(){if(this.i=$R(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},XI.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},XI.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},ki(Iy,GI),Iy.prototype.g=function(){return new lD(this.l,this.j)},Iy.prototype.i=function(n){return function(){return n}}({}),ki(lD,vi);var eS=0;function HR(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Sy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ay(n)}function Ay(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=lD.prototype).open=function(n,e){if(this.readyState!=eS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ay(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sy(this)),this.readyState=eS},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ay(this)),this.g&&(this.readyState=3,Ay(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HR(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sy(this):Ay(this),3==this.readyState&&HR(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,Sy(this))},dt.Ta=function(n){this.g&&(this.response=n,Sy(this))},dt.ha=function(){this.g&&Sy(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var t2=Ft.JSON.parse;function Wr(n){vi.call(this),this.headers=new eg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WR,this.K=this.L=!1}ki(Wr,vi);var WR="",n2=/^https?$/i,r2=["POST","PUT"];function o2(n){return"content-type"==n.toLowerCase()}function zR(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qR(n),cD(n)}function qR(n){n.D||(n.D=!0,Pi(n,"complete"),Pi(n,"error"))}function ZR(n){if(n.h&&void 0!==mI&&(!n.C[1]||4!=Kl(n)||2!=n.ba()))if(n.v&&4==Kl(n))jI(n.Fa,0,n);else if(Pi(n,"readystatechange"),4==Kl(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(xR)[1]||null;if(!i&&Ft.self&&Ft.self.location){var u=Ft.self.location.protocol;i=u.substr(0,u.length-1)}r=!n2.test(i?i.toLowerCase():"")}t=r}if(t)Pi(n,"complete"),Pi(n,"success");else{n.m=6;try{var h=2<Kl(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",qR(n)}}finally{cD(n)}}}function cD(n,e){if(n.g){YR(n);const t=n.g,r=n.C[0]?Hw:null;n.g=null,n.C=null,e||Pi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function YR(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function Kl(n){return n.g?n.g.readyState:0}function KR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case WR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function a2(n){let e="";return wI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):dr(n,e,t))}function Ny(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function QR(n){this.za=0,this.l=[],this.h=new Jw,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ny("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ny("baseRetryDelayMs",5e3,n),this.$a=Ny("retryDelaySeedMs",1e4,n),this.Ya=Ny("forwardChannelMaxRetries",2,n),this.ra=Ny("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new UR(n&&n.concurrentRequestLimit),this.Ca=new JV,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function nS(n){if(JR(n),3==n.G){var e=n.V++,t=Yl(n.F);dr(t,"SID",n.J),dr(t,"RID",e),dr(t,"TYPE","terminate"),My(n,t),(e=new by(n,n.h,e,void 0)).K=2,e.v=aD(Yl(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=ax(e.l,null),e.g.ea(e.v)),e.F=Date.now(),wy(e)}sx(n)}function dD(n){n.g&&(sS(n),n.g.cancel(),n.g=null)}function JR(n){dD(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),fD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function rS(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hD(n)}function hD(n){BR(n.i)||n.m||(n.m=!0,LI(n.Ha,n),n.C=0)}function XR(n,e){var t;t=e?e.m:n.V++;const r=Yl(n.F);dr(r,"SID",n.J),dr(r,"RID",t),dr(r,"AID",n.U),My(n,r),n.o&&n.s&&tS(r,n.o,n.s),t=new by(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ex(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),JI(n.i,t),qI(t,r,e)}function My(n,e){n.j&&YI({},function(t,r){dr(e,r,t)})}function ex(n,e,t){t=Math.min(n.l.length,t);var r=n.j?xi(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=i[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let T=i[v].h;const A=i[v].g;if(T-=u,0>T)u=Math.max(0,i[v].h-100),g=!1;else try{XV(A,h,"req"+T+"_")}catch(M){r&&r(A)}}if(g){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function tx(n){n.g||n.u||(n.Y=1,LI(n.Ga,n),n.A=0)}function iS(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=yy(xi(n.Ga,n),ix(n,n.A)),n.A++,0))}function sS(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function nx(n){n.g=new by(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Yl(n.oa);dr(e,"RID","rpc"),dr(e,"SID",n.J),dr(e,"CI",n.N?"0":"1"),dr(e,"AID",n.U),My(n,e),dr(e,"TYPE","xmlhttp"),n.o&&n.s&&tS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=aD(Yl(e)),t.s=null,t.U=!0,NR(t,n)}function fD(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function rx(n,e){var t=null;if(n.g==e){fD(n),sS(n),n.g=null;var r=2}else{if(!QI(n.i,e))return;t=e.D,GR(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Pi(r=Xw(),new TR(r,t,e,i)),hD(n)}else tx(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function u2(n,e){return!(jR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=yy(xi(n.Ha,n,e),ix(n,n.C)),n.C++,0)))}(n,e)||2==r&&iS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:uf(n,5);break;case 4:uf(n,10);break;case 3:uf(n,6);break;default:uf(n,2)}}function ix(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function uf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=xi(n.jb,n);t||(t=new af("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||iD(t,"https"),aD(t)),function e2(n,e){const t=new Jw;if(Ft.Image){const r=new Image;r.onload=Ww(uD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ww(uD,t,r,"TestLoadImage: error",!1,e),r.onabort=Ww(uD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ww(uD,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else _s(2);n.G=0,n.j&&n.j.va(e),sx(n),JR(n)}function sx(n){n.G=0,n.I=-1,n.j&&((0!=$R(n.i).length||0!=n.l.length)&&(n.i.i.length=0,vI(n.l),n.l.length=0),n.j.ua())}function ox(n,e,t){let r=function GV(n){return n instanceof af?Yl(n):new af(n,void 0)}(t);if(""!=r.i)e&&sD(r,e+"."+r.i),oD(r,r.m);else{const i=Ft.location;r=function $V(n,e,t,r){var i=new af(null,void 0);return n&&iD(i,n),e&&sD(i,e),t&&oD(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&wI(n.aa,function(i,u){dr(r,u,i)}),t=n.sa,(e=n.D)&&t&&dr(r,e,t),dr(r,"VER",n.ma),My(n,r),r}function ax(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&n.Ba&&!n.qa?new Iy({ib:!0}):n.qa)).L=n.H,e}function ux(){}function pD(){if(Jp&&!(10<=Number(bV)))throw Error("Environmental error: no available transport.")}function Ao(n,e){vi.call(this),this.g=new QR(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!zw(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zw(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ng(this)}function lx(n){$I.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function cx(){HI.call(this),this.status=1}function ng(n){this.g=n}(dt=Wr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():WI.g(),this.C=function IR(n){return n.h||(n.h=n.i())}(this.u?this.u:WI),this.g.onreadystatechange=xi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void zR(this,u)}n=t||"";const i=new eg(this.headers);r&&YI(r,function(u,h){i.set(h,u)}),r=function pV(n){e:{var e=o2;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ft.FormData&&n instanceof Ft.FormData,!(0<=QO(r2,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{YR(this),0<this.B&&((this.K=function s2(n){return Jp&&function vV(){return function gV(n){var e=yV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=eR(String(qw)).split("."),t=eR("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var i=e[h]||"",u=t[h]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=bI(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||bI(0==i[2].length,0==u[2].length)||bI(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xi(this.pa,this)):this.A=jI(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){zR(this,u)}},dt.pa=function(){void 0!==mI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pi(this,"complete"),Pi(this,"abort"),cD(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cD(this,!0)),Wr.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?ZR(this):this.cb())},dt.cb=function(){ZR(this)},dt.ba=function(){try{return 2<Kl(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),t2(e)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=QR.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new by(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=rR(u),sR(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ex(this,i,e),dr(t=Yl(this.F),"RID",n),dr(t,"CVER",22),this.D&&dr(t,"X-HTTP-Session-Id",this.D),My(this,t),this.o&&u&&tS(t,this.o,u),JI(this.i,i),this.Ra&&dr(t,"TYPE","init"),this.ja?(dr(t,"$req",e),dr(t,"SID","null"),i.$=!0,qI(i,t,null)):qI(i,t,e),this.G=2}}else 3==this.G&&(n?XR(this,n):0==this.l.length||BR(this.i)||XR(this))},dt.Ga=function(){if(this.u=null,nx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=yy(xi(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_s(10),dD(this),nx(this))},dt.ab=function(){null!=this.v&&(this.v=null,dD(this),iS(this),_s(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),_s(2)):(this.h.info("Failed to ping google.com"),_s(1))},(dt=ux.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},pD.prototype.g=function(n,e){return new Ao(n,e)},ki(Ao,vi),Ao.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),LI(xi(n.hb,n,e))),_s(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ox(n,null,n.W),hD(n)},Ao.prototype.close=function(){nS(this.g)},Ao.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,rS(this.g,e)}else this.v?((e={}).__data__=FI(n),rS(this.g,e)):rS(this.g,n)},Ao.prototype.M=function(){this.g.j=null,delete this.j,nS(this.g),delete this.g,Ao.Z.M.call(this)},ki(lx,$I),ki(cx,HI),ki(ng,ux),ng.prototype.xa=function(){Pi(this.g,"a")},ng.prototype.wa=function(n){Pi(this.g,new lx(n))},ng.prototype.va=function(n){Pi(this.g,new cx(n))},ng.prototype.ua=function(){Pi(this.g,"b")},pD.prototype.createWebChannel=pD.prototype.g,Ao.prototype.send=Ao.prototype.u,Ao.prototype.open=Ao.prototype.m,Ao.prototype.close=Ao.prototype.close,eD.NO_ERROR=0,eD.TIMEOUT=8,eD.HTTP_ERROR=6,CR.COMPLETE="complete",SR.EventType=vy,vy.OPEN="a",vy.CLOSE="b",vy.ERROR="c",vy.MESSAGE="d",vi.prototype.listen=vi.prototype.N,Wr.prototype.listenOnce=Wr.prototype.O,Wr.prototype.getLastError=Wr.prototype.La,Wr.prototype.getLastErrorCode=Wr.prototype.Da,Wr.prototype.getStatus=Wr.prototype.ba,Wr.prototype.getResponseJson=Wr.prototype.Qa,Wr.prototype.getResponseText=Wr.prototype.ga,Wr.prototype.send=Wr.prototype.ea;var l2=Zl.createWebChannelTransport=function(){return new pD},c2=Zl.getStatEventTarget=function(){return Xw()},oS=Zl.ErrorCode=eD,d2=Zl.EventType=CR,h2=Zl.Event=nf,dx=Zl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},f2=Zl.FetchXmlHttpFactory=Iy,gD=Zl.WebChannel=SR,p2=Zl.XhrIo=Wr;const hx="@firebase/firestore";class Fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");let rg="9.6.3";const gd=new zl.Yd("@firebase/firestore");function aS(){return gd.logLevel}function He(n,...e){if(gd.logLevel<=zl.in.DEBUG){const t=e.map(uS);gd.debug(`Firestore (${rg}): ${n}`,...t)}}function zr(n,...e){if(gd.logLevel<=zl.in.ERROR){const t=e.map(uS);gd.error(`Firestore (${rg}): ${n}`,...t)}}function Oy(n,...e){if(gd.logLevel<=zl.in.WARN){const t=e.map(uS);gd.warn(`Firestore (${rg}): ${n}`,...t)}}function uS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function wt(n="Unexpected state"){const e=`FIRESTORE (${rg}) INTERNAL ASSERTION FAILED: `+n;throw zr(e),new Error(e)}function Ot(n,e){n||wt()}function Xe(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fi.UNAUTHENTICATED))}shutdown(){}}class y2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class v2{constructor(e){this.t=e,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=T=>this.i!==i?(i=this.i,t(T)):Promise.resolve();let h=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new bi,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const T=h;e.enqueueRetryable((0,l.Z)(function*(){yield T.promise,yield u(r.currentUser)}))},v=T=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(T=>v(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new bi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot("string"==typeof r.accessToken),new fx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new Fi(e)}}class b2{constructor(e,t,r){this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class w2{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new b2(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class px{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D2{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(u=i).error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`),t(u.token);var u})};const r=i=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),new px(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class No{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function E2(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}No.I=-1;class gx{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=E2(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Jt(n,e){return n<e?-1:n>e?1:0}function ig(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function mx(n){return n+"\0"}class wi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new wi(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function _x(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ry{constructor(e,t,r){void 0===t?t=0:t>e.length&&wt(),void 0===r?r=e.length-t:r>e.length-t&&wt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ry.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ry?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),h=t.get(i);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends Ry{construct(e,t,r){return new En(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new En(t)}static emptyPath(){return new En([])}}const T2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends Ry{construct(e,t,r){return new Li(e,t,r)}static isValidIdentifier(e){return T2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Li(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Fe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new Fe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Fe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===g?(h=!h,i++):"."!==g||h?(r+=g,i++):(u(),i++)}if(u(),h)throw new Fe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Li(t)}static emptyPath(){return new Li([])}}class sg{constructor(e){this.fields=e,e.sort(Li.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ig(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ai(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const I2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function md(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=I2.exec(n);if(Ot(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qr(n.seconds),nanos:qr(n.nanos)}}function qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function og(n){return"string"==typeof n?ai.fromBase64String(n):ai.fromUint8Array(n)}function lS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vx(n){const e=n.mapValue.fields.__previous_value__;return lS(e)?vx(e):e}function xy(n){const e=md(n.mapValue.fields.__local_write_time__.timestampValue);return new wi(e.seconds,e.nanos)}function cf(n){return null==n}function mD(n){return 0===n&&1/n==-1/0}function bx(n){return"number"==typeof n&&Number.isInteger(n)&&!mD(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(En.fromString(e))}static fromName(e){return new _t(En.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new En(e.slice()))}}function df(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lS(n)?4:10:wt()}function Au(n,e){if(n===e)return!0;const t=df(n);if(t!==df(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xy(n).isEqual(xy(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=md(r.timestampValue),h=md(i.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,og(n.bytesValue).isEqual(og(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return qr(r.geoPointValue.latitude)===qr(i.geoPointValue.latitude)&&qr(r.geoPointValue.longitude)===qr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qr(r.integerValue)===qr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=qr(r.doubleValue),h=qr(i.doubleValue);return u===h?mD(u)===mD(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ig(n.arrayValue.values||[],e.arrayValue.values||[],Au);case 10:return function(r,i){const u=r.mapValue.fields||{},h=i.mapValue.fields||{};if(_x(u)!==_x(h))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===h[g]||!Au(u[g],h[g])))return!1;return!0}(n,e);default:return wt()}var i}function ky(n,e){return void 0!==(n.values||[]).find(t=>Au(t,e))}function ag(n,e){if(n===e)return 0;const t=df(n),r=df(e);if(t!==r)return Jt(t,r);switch(t){case 0:return 0;case 1:return Jt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const h=qr(i.integerValue||i.doubleValue),g=qr(u.integerValue||u.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return wx(n.timestampValue,e.timestampValue);case 4:return wx(xy(n),xy(e));case 5:return Jt(n.stringValue,e.stringValue);case 6:return function(i,u){const h=og(i),g=og(u);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const h=i.split("/"),g=u.split("/");for(let v=0;v<h.length&&v<g.length;v++){const T=Jt(h[v],g[v]);if(0!==T)return T}return Jt(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const h=Jt(qr(i.latitude),qr(u.latitude));return 0!==h?h:Jt(qr(i.longitude),qr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const h=i.values||[],g=u.values||[];for(let v=0;v<h.length&&v<g.length;++v){const T=ag(h[v],g[v]);if(T)return T}return Jt(h.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){const h=i.fields||{},g=Object.keys(h),v=u.fields||{},T=Object.keys(v);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const M=Jt(g[A],T[A]);if(0!==M)return M;const F=ag(h[g[A]],v[T[A]]);if(0!==F)return F}return Jt(g.length,T.length)}(n.mapValue,e.mapValue);default:throw wt()}}function wx(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Jt(n,e);const t=md(n),r=md(e),i=Jt(t.seconds,r.seconds);return 0!==i?i:Jt(t.nanos,r.nanos)}function cS(n){return dS(n)}function dS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=md(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?og(n.bytesValue).toBase64():"referenceValue"in n?_t.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const h of r.values||[])u?u=!1:i+=",",i+=dS(h);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const g of i)h?h=!1:u+=",",u+=`${g}:${dS(r.fields[g])}`;return u+"}"}(n.mapValue):wt();var e}function _D(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hS(n){return!!n&&"integerValue"in n}function fS(n){return!!n&&"arrayValue"in n}function Dx(n){return!!n&&"nullValue"in n}function Ex(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yD(n){return!!n&&"mapValue"in n}function Py(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return lf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Py(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Py(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Py(t)}setAll(e){let t=Li.emptyPath(),r={},i=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=g.popLast()}h?r[g.lastSegment()]=Py(h):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());yD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Au(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){lf(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Xi(Py(this.value))}}function Tx(n){const e=[];return lf(n.fields,(t,r)=>{const i=new Li([t]);if(yD(r)){const u=Tx(r.mapValue).fields;if(0===u.length)e.push(i);else for(const h of u)e.push(i.child(h))}else e.push(i)}),new sg(e)}class hr{constructor(e,t,r,i,u){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=u}static newInvalidDocument(e){return new hr(e,0,Ut.min(),Xi.empty(),0)}static newFoundDocument(e,t,r){return new hr(e,1,t,r,0)}static newNoDocument(e,t){return new hr(e,2,t,Xi.empty(),0)}static newUnknownDocument(e,t){return new hr(e,3,t,Xi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class S2{constructor(e,t=null,r=[],i=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=h,this.endAt=g,this.R=null}}function Cx(n,e=null,t=[],r=[],i=null,u=null,h=null){return new S2(n,e,t,r,i,u,h)}function Fy(n){const e=Xe(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function N2(n){return n.field.canonicalString()+n.op.toString()+cS(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=wD(e.startAt)),e.endAt&&(t+="|ub:",t+=wD(e.endAt)),e.R=t}return e.R}function vD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!L2(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Au(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ax(n.startAt,e.startAt)&&Ax(n.endAt,e.endAt)}function bD(n){return _t.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ys extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new M2(e,t,r):"array-contains"===t?new x2(e,r):"in"===t?new k2(e,r):"not-in"===t?new P2(e,r):"array-contains-any"===t?new F2(e,r):new ys(e,t,r)}static P(e,t,r){return"in"===t?new O2(e,r):new R2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ag(t,this.value)):null!==t&&df(this.value)===df(t)&&this.v(ag(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class M2 extends ys{constructor(e,t,r){super(e,t,r),this.key=_t.fromName(r.referenceValue)}matches(e){const t=_t.comparator(e.key,this.key);return this.v(t)}}class O2 extends ys{constructor(e,t){super(e,"in",t),this.keys=Ix(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class R2 extends ys{constructor(e,t){super(e,"not-in",t),this.keys=Ix(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ix(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>_t.fromName(r.referenceValue))}class x2 extends ys{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fS(t)&&ky(t.arrayValue,this.value)}}class k2 extends ys{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ky(this.value.arrayValue,t)}}class P2 extends ys{constructor(e,t){super(e,"not-in",t)}matches(e){if(ky(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ky(this.value.arrayValue,t)}}class F2 extends ys{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fS(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ky(this.value.arrayValue,r))}}class Ly{constructor(e,t){this.position=e,this.before=t}}function wD(n){return`${n.before?"b":"a"}:${n.position.map(e=>cS(e)).join(",")}`}class ug{constructor(e,t="asc"){this.field=e,this.dir=t}}function L2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Sx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],h=n.position[i];if(r=u.field.isKeyField()?_t.comparator(_t.fromName(h.referenceValue),t.key):ag(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Ax(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Au(n.position[t],e.position[t]))return!1;return!0}class Ql{constructor(e,t=null,r=[],i=[],u=null,h="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=v,this.S=null,this.D=null}}function Nx(n,e,t,r,i,u,h,g){return new Ql(n,e,t,r,i,u,h,g)}function lg(n){return new Ql(n)}function DD(n){return!cf(n.limit)&&"F"===n.limitType}function ED(n){return!cf(n.limit)&&"L"===n.limitType}function pS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gS(n){for(const e of n.filters)if(e.V())return e.field;return null}function mS(n){return null!==n.collectionGroup}function cg(n){const e=Xe(n);if(null===e.S){e.S=[];const t=gS(e),r=pS(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new ug(t)),e.S.push(new ug(Li.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.S.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new ug(Li.keyField(),u))}}}return e.S}function ra(n){const e=Xe(n);if(!e.D)if("F"===e.limitType)e.D=Cx(e.path,e.collectionGroup,cg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of cg(e))t.push(new ug(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Ly(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Ly(e.startAt.position,!e.startAt.before):null;e.D=Cx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function Mx(n,e,t){return new Ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vy(n,e){return vD(ra(n),ra(e))&&n.limitType===e.limitType}function Ox(n){return`${Fy(ra(n))}|lt:${n.limitType}`}function _S(n){return`Query(target=${function A2(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${cS(r.value)}`;var r}).join(", ")}]`),cf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+wD(n.startAt)),n.endAt&&(e+=", endAt: "+wD(n.endAt)),`Target(${e})`}(ra(n))}; limitType=${n.limitType})`}function Uy(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):_t.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!Sx(t.startAt,cg(t),r)||t.endAt&&Sx(t.endAt,cg(t),r)));var t,r}function Rx(n){return(e,t)=>{let r=!1;for(const i of cg(n)){const u=V2(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function V2(n,e,t){const r=n.field.isKeyField()?_t.comparator(e.key,t.key):function(i,u,h){const g=u.data.field(i),v=h.data.field(i);return null!==g&&null!==v?ag(g,v):wt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}function xx(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mD(e)?"-0":e}}function kx(n){return{integerValue:""+n}}function Px(n,e){return bx(e)?kx(e):xx(n,e)}class TD{constructor(){this._=void 0}}function U2(n,e,t){return n instanceof dg?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof hf?Lx(n,e):n instanceof ff?Vx(n,e):function(r,i){const u=Fx(r,i),h=Ux(u)+Ux(r.N);return hS(u)&&hS(r.N)?kx(h):xx(r.k,h)}(n,e)}function B2(n,e,t){return n instanceof hf?Lx(n,e):n instanceof ff?Vx(n,e):t}function Fx(n,e){return n instanceof hg?hS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class dg extends TD{}class hf extends TD{constructor(e){super(),this.elements=e}}function Lx(n,e){const t=Bx(e);for(const r of n.elements)t.some(i=>Au(i,r))||t.push(r);return{arrayValue:{values:t}}}class ff extends TD{constructor(e){super(),this.elements=e}}function Vx(n,e){let t=Bx(e);for(const r of n.elements)t=t.filter(i=>!Au(i,r));return{arrayValue:{values:t}}}class hg extends TD{constructor(e,t){super(),this.k=e,this.N=t}}function Ux(n){return qr(n.integerValue||n.doubleValue)}function Bx(n){return fS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class By{constructor(e,t){this.field=e,this.transform=t}}class G2{constructor(e,t){this.version=e,this.transformResults=t}}class Zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function CD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ID{}function $2(n,e,t){n instanceof jy?function(r,i,u){const h=r.value.clone(),g=Hx(r.fieldTransforms,i,u.transformResults);h.setAll(g),i.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof _d?function(r,i,u){if(!CD(r.precondition,i))return void i.convertToUnknownDocument(u.version);const h=Hx(r.fieldTransforms,i,u.transformResults),g=i.data;g.setAll($x(r)),g.setAll(h),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yS(n,e,t){var i;n instanceof jy?function(r,i,u){if(!CD(r.precondition,i))return;const h=r.value.clone(),g=Wx(r.fieldTransforms,u,i);h.setAll(g),i.convertToFoundDocument(Gx(i),h).setHasLocalMutations()}(n,e,t):n instanceof _d?function(r,i,u){if(!CD(r.precondition,i))return;const h=Wx(r.fieldTransforms,u,i),g=i.data;g.setAll($x(r)),g.setAll(h),i.convertToFoundDocument(Gx(i),g).setHasLocalMutations()}(n,e,t):CD(n.precondition,i=e)&&i.convertToNoDocument(Ut.min())}function H2(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=Fx(r.transform,i||null);null!=u&&(null==t&&(t=Xi.empty()),t.set(r.field,u))}return t||null}function jx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ig(t,r,(i,u)=>function j2(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof hf&&r instanceof hf||t instanceof ff&&r instanceof ff?ig(t.elements,r.elements,Au):t instanceof hg&&r instanceof hg?Au(t.N,r.N):t instanceof dg&&r instanceof dg);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Gx(n){return n.isFoundDocument()?n.version:Ut.min()}class jy extends ID{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class _d extends ID{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function $x(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Hx(n,e,t){const r=new Map;Ot(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],h=u.transform,g=e.data.field(u.field);r.set(u.field,B2(h,g,t[i]))}return r}function Wx(n,e,t){const r=new Map;for(const i of n){const u=i.transform,h=t.data.field(i.field);r.set(i.field,U2(u,h,e))}return r}class Gy extends ID{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class vS extends ID{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class W2{constructor(e){this.count=e}}var Yr,sn;function zx(n){switch(n){default:return wt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function qx(n){if(void 0===n)return zr("GRPC error has no .code"),de.UNKNOWN;switch(n){case Yr.OK:return de.OK;case Yr.CANCELLED:return de.CANCELLED;case Yr.UNKNOWN:return de.UNKNOWN;case Yr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Yr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Yr.INTERNAL:return de.INTERNAL;case Yr.UNAVAILABLE:return de.UNAVAILABLE;case Yr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Yr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Yr.NOT_FOUND:return de.NOT_FOUND;case Yr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Yr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Yr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Yr.ABORTED:return de.ABORTED;case Yr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Yr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Yr.DATA_LOSS:return de.DATA_LOSS;default:return wt()}}(sn=Yr||(Yr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class ui{constructor(e,t){this.comparator=e,this.root=t||Vi.EMPTY}insert(e,t){return new ui(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(e){return new ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SD(this.root,e,this.comparator,!1)}getReverseIterator(){return new SD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SD(this.root,e,this.comparator,!0)}}class SD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:Vi.RED,this.left=null!=i?i:Vi.EMPTY,this.right=null!=u?u:Vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Vi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Vi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1,Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Vi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Or{constructor(e){this.comparator=e,this.data=new ui(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zx(this.data.getIterator())}getIteratorFrom(e){return new Zx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Or(this.comparator);return t.data=e,t}}class Zx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const z2=new ui(_t.comparator);function ia(){return z2}const q2=new ui(_t.comparator);function bS(){return q2}const Z2=new ui(_t.comparator);function Yx(){return Z2}const Y2=new Or(_t.comparator);function Rn(...n){let e=Y2;for(const t of n)e=e.add(t);return e}const K2=new Or(Jt);function AD(){return K2}class $y{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Hy.createSynthesizedTargetChangeForCurrentChange(e,t)),new $y(Ut.min(),r,AD(),ia(),Rn())}}class Hy{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Hy(ai.EMPTY_BYTE_STRING,t,Rn(),Rn(),Rn())}}class ND{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.O=i}}class Kx{constructor(e,t){this.targetId=e,this.M=t}}class Qx{constructor(e,t,r=ai.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Jx{constructor(){this.F=0,this.L=ek(),this.B=ai.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Rn(),t=Rn(),r=Rn();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:wt()}}),new Hy(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=ek()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Q2{constructor(e){this.et=e,this.nt=new Map,this.st=ia(),this.it=Xx(),this.rt=new Or(Jt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:wt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.M.count,i=this.wt(t);if(i){const u=i.target;if(bD(u))if(0===r){const h=new _t(u.path);this.at(t,h,hr.newNoDocument(h,Ut.min()))}else Ot(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((u,h)=>{const g=this.wt(h);if(g){if(u.current&&bD(g.target)){const v=new _t(g.target.path);null!==this.st.get(v)||this.yt(h,v)||this.at(h,v,hr.newNoDocument(v,e))}u.j&&(t.set(h,u.G()),u.H())}});let r=Rn();this.it.forEach((u,h)=>{let g=!0;h.forEachWhile(v=>{const T=this.wt(v);return!T||2===T.purpose||(g=!1,!1)}),g&&(r=r.add(u))});const i=new $y(e,t,this.rt,this.st,r);return this.st=ia(),this.it=Xx(),this.rt=new Or(Jt),i}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new Jx,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Or(Jt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new Jx),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Xx(){return new ui(_t.comparator)}function ek(){return new ui(_t.comparator)}const J2={asc:"ASCENDING",desc:"DESCENDING"},X2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class eU{constructor(e,t){this.databaseId=e,this.C=t}}function Wy(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tk(n,e){return n.C?e.toBase64():e.toUint8Array()}function tU(n,e){return Wy(n,e.toTimestamp())}function Di(n){return Ot(!!n),Ut.fromTimestamp(function(e){const t=md(e);return new wi(t.seconds,t.nanos)}(n))}function wS(n,e){return(t=n,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nk(n){const e=En.fromString(n);return Ot(pk(e)),e}function zy(n,e){return wS(n.databaseId,e.path)}function Nu(n,e){const t=nk(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _t(ik(t))}function DS(n,e){return wS(n.databaseId,e)}function rk(n){const e=nk(n);return 4===e.length?En.emptyPath():ik(e)}function qy(n){return new En(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ik(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sk(n,e,t){return{name:zy(n,e),fields:t.value.mapValue.fields}}function ok(n,e,t){const r=Nu(n,e.name),i=Di(e.updateTime),u=new Xi({mapValue:{fields:e.fields}}),h=hr.newFoundDocument(r,i,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function MD(n,e){let t;if(e instanceof jy)t={update:sk(n,e.key,e.value)};else if(e instanceof Gy)t={delete:zy(n,e.key)};else if(e instanceof _d)t={update:sk(n,e.key,e.data),updateMask:cU(e.fieldMask)};else{if(!(e instanceof vS))return wt();t={verify:zy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const h=u.transform;if(h instanceof dg)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof hf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ff)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof hg)return{fieldPath:u.field.canonicalString(),increment:h.N};throw wt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:tU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:wt()),t;var i}function ak(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Zr.updateTime(Di(i.updateTime)):void 0!==i.exists?Zr.exists(i.exists):Zr.none():Zr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let g=null;"setToServerValue"in h?(Ot("REQUEST_TIME"===h.setToServerValue),g=new dg):"appendMissingElements"in h?g=new hf(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new ff(h.removeAllFromArray.values||[]):"increment"in h?g=new hg(u,h.increment):wt();const v=Li.fromServerFormat(h.fieldPath);return new By(v,g)}(n,i)):[];var i;if(e.update){const i=Nu(n,e.update.name),u=new Xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new sg((e.updateMask.fieldPaths||[]).map(T=>Li.fromServerFormat(T)));return new _d(i,u,h,t,r)}return new jy(i,u,t,r)}if(e.delete){const i=Nu(n,e.delete);return new Gy(i,t)}if(e.verify){const i=Nu(n,e.verify);return new vS(i,t)}return wt()}function uk(n,e){return{documents:[DS(n,e.path)]}}function lk(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=DS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=DS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0===g.length)return;const v=g.map(T=>function(A){if("=="===A.op){if(Ex(A.value))return{unaryFilter:{field:fg(A.field),op:"IS_NAN"}};if(Dx(A.value))return{unaryFilter:{field:fg(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(Ex(A.value))return{unaryFilter:{field:fg(A.field),op:"IS_NOT_NAN"}};if(Dx(A.value))return{unaryFilter:{field:fg(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fg(A.field),op:aU(A.op),value:A.value}}}(T));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(g){if(0!==g.length)return g.map(v=>{return{field:fg((T=v).field),direction:oU(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(v=e.limit,n.C||cf(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=hk(e.startAt)),e.endAt&&(t.structuredQuery.endAt=hk(e.endAt)),t}function ck(n){let e=rk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ot(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=dk(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(A=>{return new ug(pg((M=A).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let g=null;t.limit&&(g=function(A){let M;return M="object"==typeof A?A.value:A,cf(M)?null:M}(t.limit));let v=null;t.startAt&&(v=fk(t.startAt));let T=null;return t.endAt&&(T=fk(t.endAt)),Nx(e,i,h,u,g,"F",v,T)}function dk(n){return n?void 0!==n.unaryFilter?[lU(n)]:void 0!==n.fieldFilter?[uU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>dk(e)).reduce((e,t)=>e.concat(t)):wt():[]}function hk(n){return{before:n.before,values:n.position}}function fk(n){return new Ly(n.values||[],!!n.before)}function oU(n){return J2[n]}function aU(n){return X2[n]}function fg(n){return{fieldPath:n.canonicalString()}}function pg(n){return Li.fromServerFormat(n.fieldPath)}function uU(n){return ys.create(pg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}function lU(n){switch(n.unaryFilter.op){case"IS_NAN":const e=pg(n.unaryFilter.field);return ys.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=pg(n.unaryFilter.field);return ys.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pg(n.unaryFilter.field);return ys.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=pg(n.unaryFilter.field);return ys.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}function cU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Za(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gk(e)),e=dU(n.get(t),e);return gk(e)}function dU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function gk(n){return n+"\x01\x01"}function Jl(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),En.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&wt(),n.charAt(h+1)){case"\x01":const g=n.substring(u,h);let v;0===i.length?v=g:(i+=g,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(u,h),i+="\0";break;case"\x11":i+=n.substring(u,h+1);break;default:wt()}u=h+2}return new En(r)}class hU{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Mo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Mo.store="owner",Mo.key="owner";class yd{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}yd.store="mutationQueues",yd.keyPath="userId";class rr{constructor(e,t,r,i,u){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=u}}rr.store="mutations",rr.keyPath="batchId",rr.userMutationsIndex="userMutationsIndex",rr.userMutationsKeyPath=["userId","batchId"];class es{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Za(t)]}static key(e,t,r){return[e,Za(t),r]}}es.store="documentMutations",es.PLACEHOLDER=new es;class fU{constructor(e,t){this.path=e,this.readTime=t}}class pU{constructor(e,t){this.path=e,this.version=t}}class Rr{constructor(e,t,r,i,u,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=u,this.parentPath=h}}Rr.store="remoteDocuments",Rr.readTimeIndex="readTimeIndex",Rr.readTimeIndexPath="readTime",Rr.collectionReadTimeIndex="collectionReadTimeIndex",Rr.collectionReadTimeIndexPath=["parentPath","readTime"];class Mu{constructor(e){this.byteSize=e}}Mu.store="remoteDocumentGlobal",Mu.key="remoteDocumentGlobalKey";class $s{constructor(e,t,r,i,u,h,g){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=h,this.query=g}}$s.store="targets",$s.keyPath="targetId",$s.queryTargetsIndexName="queryTargetsIndex",$s.queryTargetsKeyPath=["canonicalId","targetId"];class Ui{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Ui.store="targetDocuments",Ui.keyPath=["targetId","path"],Ui.documentTargetsIndex="documentTargetsIndex",Ui.documentTargetsKeyPath=["path","targetId"];class Oo{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Oo.key="targetGlobalKey",Oo.store="targetGlobal";class pf{constructor(e,t){this.collectionId=e,this.parent=t}}pf.store="collectionParents",pf.keyPath=["collectionId","parent"];class Xl{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}Xl.store="clientMetadata",Xl.keyPath="clientId";class gg{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}gg.store="bundles",gg.keyPath="bundleId";class mg{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}mg.store="namedQueries",mg.keyPath="name";const gU=[yd.store,rr.store,es.store,Rr.store,$s.store,Mo.store,Oo.store,Ui.store,Xl.store,Mu.store,pf.store,gg.store,mg.store],mk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _k{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,r)=>{t(e)})}static reject(e){return new Pe((t,r)=>{r(e)})}static waitFor(e){return new Pe((t,r)=>{let i=0,u=0,h=!1;e.forEach(g=>{++i,g.next(()=>{++u,h&&u===i&&t()},v=>r(v))}),h=!0,u===i&&t()})}static or(e){let t=Pe.resolve(!1);for(const r of e)t=t.next(i=>i?Pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class OD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new bi,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Zy(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const i=ES(r.target.error);this.It.reject(new Zy(e,i))}}static open(e,t,r,i){try{return new OD(t,e.transaction(i,r))}catch(u){throw new Zy(t,u)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new _U(t)}}class Ya{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===Ya.bt((0,Ht.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),mf(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Ht.hl)())return!1;if(Ya.vt())return!0;const e=(0,Ht.z$)(),t=Ya.bt(e),r=0<t&&t<10,i=Ya.Vt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,l.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{i(new Zy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const g=h.target.error;i("VersionError"===g.name?new Fe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Fe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Zy(e,g))},u.onupgradeneeded=h=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,l.Z)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.Ct(e);const v=OD.open(u.db,e,h?"readonly":"readwrite",r),T=i(v).catch(A=>(v.abort(A),Pe.reject(A))).toPromise();return T.catch(()=>{}),yield v.At,T}catch(v){const T="FirebaseError"!==v.name&&g<3;if(He("SimpleDb","Transaction failed with error:",v.message,"Retrying:",T),u.close(),!T)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class mU{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return mf(this.$t.delete())}}class Zy extends Fe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gf(n){return"IndexedDbTransactionError"===n.name}class _U{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mf(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),mf(this.store.add(e))}get(e){return mf(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),mf(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),mf(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),i=[];return this.Ut(r,(u,h)=>{i.push(h)}).next(()=>i)}qt(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const i=this.cursor(r);return this.Ut(i,(u,h,g)=>g.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new Pe((r,i)=>{t.onerror=u=>{const h=ES(u.target.error);i(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new Pe((i,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void i();const v=new mU(g),T=t(g.primaryKey,g.value,v);if(T instanceof Pe){const A=T.catch(M=>(v.done(),Pe.reject(M)));r.push(A)}v.isDone?i():null===v.Ft?g.continue():g.continue(v.Ft)}}).next(()=>Pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mf(n){return new Pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=ES(r.target.error);t(i)}})}let yk=!1;function ES(n){const e=Ya.bt((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yk||(yk=!0,setTimeout(()=>{throw r},0)),r}}return n}class vk extends _k{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Hs(n,e){const t=Xe(n);return Ya.Dt(t.Wt,e)}class TS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&$2(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&yS(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&yS(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ut.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rn())}isEqual(e){return this.batchId===e.batchId&&ig(this.mutations,e.mutations,(t,r)=>jx(t,r))&&ig(this.baseMutations,e.baseMutations,(t,r)=>jx(t,r))}}class CS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ot(e.mutations.length===r.length);let i=Yx();const u=e.mutations;for(let h=0;h<u.length;h++)i=i.insert(u[h].key,r[h].version);return new CS(e,t,r,i)}}class vd{constructor(e,t,r,i,u=Ut.min(),h=Ut.min(),g=ai.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(e){return new vd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bk{constructor(e){this.Gt=e}}function IS(n,e){if(e.document)return ok(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=_t.fromSegments(e.noDocument.path),r=yg(e.noDocument.readTime),i=hr.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=_t.fromSegments(e.unknownDocument.path),r=yg(e.unknownDocument.version);return hr.newUnknownDocument(t,r)}return wt()}function wk(n,e,t){const r=SS(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const u={name:zy(g=n.Gt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:Wy(g,v.version.toTimestamp())};return new Rr(null,null,u,e.hasCommittedMutations,r,i)}var g,v;if(e.isNoDocument()){const u=e.key.path.toArray(),h=_g(e.version),g=e.hasCommittedMutations;return new Rr(null,new fU(u,h),null,g,r,i)}if(e.isUnknownDocument()){const u=e.key.path.toArray(),h=_g(e.version);return new Rr(new pU(u,h),null,null,!0,r,i)}return wt()}function SS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Dk(n){const e=new wi(n[0],n[1]);return Ut.fromTimestamp(e)}function _g(n){const e=n.toTimestamp();return new hU(e.seconds,e.nanoseconds)}function yg(n){const e=new wi(n.seconds,n.nanoseconds);return Ut.fromTimestamp(e)}function vg(n,e){const t=(e.baseMutations||[]).map(u=>ak(n.Gt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>ak(n.Gt,u)),i=wi.fromMillis(e.localWriteTimeMs);return new TS(e.batchId,i,t,r)}function Yy(n){const e=yg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?yg(n.lastLimboFreeSnapshotVersion):Ut.min();let r;var i;return void 0!==n.query.documents?(Ot(1===(i=n.query).documents.length),r=ra(lg(rk(i.documents[0])))):r=ra(ck(n.query)),new vd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ai.fromBase64String(n.resumeToken))}function Ek(n,e){const t=_g(e.snapshotVersion),r=_g(e.lastLimboFreeSnapshotVersion);let i;i=bD(e.target)?uk(n.Gt,e.target):lk(n.Gt,e.target);const u=e.resumeToken.toBase64();return new $s(e.targetId,Fy(e.target),t,u,e.sequenceNumber,r,i)}function AS(n){const e=ck({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Mx(e,e.limit,"L"):e}class yU{getBundleMetadata(e,t){return Tk(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:yg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Tk(e).put({bundleId:(r=t).id,createTime:_g(Di(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Ck(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:AS(i.bundledQuery),readTime:yg(i.readTime)};var i})}saveNamedQuery(e,t){return Ck(e).put({name:(r=t).name,readTime:_g(Di(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Tk(n){return Hs(n,gg.store)}function Ck(n){return Hs(n,mg.store)}class vU{constructor(){this.zt=new NS}addToCollectionParentIndex(e,t){return this.zt.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.zt.getEntries(t))}}class NS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Or(En.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Or(En.comparator)).toArray()}}class bU{constructor(){this.Ht=new NS}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const u={collectionId:r,parent:Za(i)};return Ik(e).put(u)}return Pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[mx(t),""],!1,!0);return Ik(e).Bt(i).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(Jl(h.parent))}return r})}}function Ik(n){return Hs(n,pf.store)}const Sk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ws(e,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ak(n,e,t){const r=n.store(rr.store),i=n.store(es.store),u=[],h=IDBKeyRange.only(t.batchId);let g=0;const v=r.jt({range:h},(A,M,F)=>(g++,F.delete()));u.push(v.next(()=>{Ot(1===g)}));const T=[];for(const A of t.mutations){const M=es.key(e,A.key.path,t.batchId);u.push(i.delete(M)),T.push(A.key)}return Pe.waitFor(u).next(()=>T)}function RD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw wt();e=n.noDocument}return JSON.stringify(e).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class MS{constructor(e,t,r,i){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,r,i){Ot(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new MS(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bd(e).jt({index:rr.userMutationsIndex,range:r},(i,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=bg(e),h=bd(e);return h.add({}).next(g=>{Ot("number"==typeof g);const v=new TS(g,t,r,i),T=function(F,j,X){const De=X.baseMutations.map(Oe=>MD(F.Gt,Oe)),ye=X.mutations.map(Oe=>MD(F.Gt,Oe));return new rr(j,X.batchId,X.localWriteTime.toMillis(),De,ye)}(this.k,this.userId,v),A=[];let M=new Or((F,j)=>Jt(F.canonicalString(),j.canonicalString()));for(const F of i){const j=es.key(this.userId,F.key.path,g);M=M.add(F.key.path.popLast()),A.push(h.put(T)),A.push(u.put(j,es.PLACEHOLDER))}return M.forEach(F=>{A.push(this.Jt.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.Yt[g]=v.keys()}),Pe.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return bd(e).get(t).next(r=>r?(Ot(r.userId===this.userId),vg(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Pe.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Yt[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return bd(e).jt({index:rr.userMutationsIndex,range:i},(h,g,v)=>{g.userId===this.userId&&(Ot(g.batchId>=r),u=vg(this.k,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return bd(e).jt({index:rr.userMutationsIndex,range:t,reverse:!0},(i,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bd(e).Bt(rr.userMutationsIndex,t).next(r=>r.map(i=>vg(this.k,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=es.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return bg(e).jt({range:i},(h,g,v)=>{const[T,A,M]=h,F=Jl(A);if(T===this.userId&&t.path.isEqual(F))return bd(e).get(M).next(j=>{if(!j)throw wt();Ot(j.userId===this.userId),u.push(vg(this.k,j))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Or(Jt);const i=[];return t.forEach(u=>{const h=es.prefixForPath(this.userId,u.path),g=IDBKeyRange.lowerBound(h),v=bg(e).jt({range:g},(T,A,M)=>{const[F,j,X]=T,De=Jl(j);F===this.userId&&u.path.isEqual(De)?r=r.add(X):M.done()});i.push(v)}),Pe.waitFor(i).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=es.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(u);let g=new Or(Jt);return bg(e).jt({range:h},(v,T,A)=>{const[M,F,j]=v,X=Jl(F);M===this.userId&&r.isPrefixOf(X)?X.length===i&&(g=g.add(j)):A.done()}).next(()=>this.te(e,g))}te(e,t){const r=[],i=[];return t.forEach(u=>{i.push(bd(e).get(u).next(h=>{if(null===h)throw wt();Ot(h.userId===this.userId),r.push(vg(this.k,h))}))}),Pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Ak(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Pe.resolve();const r=IDBKeyRange.lowerBound(es.prefixForUser(this.userId)),i=[];return bg(e).jt({range:r},(u,h,g)=>{if(u[0]===this.userId){const v=Jl(u[1]);i.push(v)}else g.done()}).next(()=>{Ot(0===i.length)})})}containsKey(e,t){return Nk(e,this.userId,t)}ne(e){return Mk(e).get(this.userId).next(t=>t||new yd(this.userId,-1,""))}}function Nk(n,e,t){const r=es.prefixForPath(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return bg(n).jt({range:u,Kt:!0},(g,v,T)=>{const[A,M,F]=g;A===e&&M===i&&(h=!0),T.done()}).next(()=>h)}function bd(n){return Hs(n,rr.store)}function bg(n){return Hs(n,es.store)}function Mk(n){return Hs(n,yd.store)}class _f{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new _f(0)}static re(){return new _f(-1)}}class wU{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new _f(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Ut.fromTimestamp(new wi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ce(e,i)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wg(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(Ot(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return wg(e).jt((h,g)=>{const v=Yy(g);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,u.push(this.removeTargetData(e,v)))}).next(()=>Pe.waitFor(u)).next(()=>i)}forEachTarget(e,t){return wg(e).jt((r,i)=>{const u=Yy(i);t(u)})}oe(e){return Ok(e).get(Oo.key).next(t=>(Ot(null!==t),t))}ce(e,t){return Ok(e).put(Oo.key,t)}ae(e,t){return wg(e).put(Ek(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Fy(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return wg(e).jt({range:i,index:$s.queryTargetsIndexName},(h,g,v)=>{const T=Yy(g);vD(t,T.target)&&(u=T,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=wd(e);return t.forEach(h=>{const g=Za(h.path);i.push(u.put(new Ui(r,g))),i.push(this.referenceDelegate.addReference(e,r,h))}),Pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=wd(e);return Pe.forEach(t,u=>{const h=Za(u.path);return Pe.waitFor([i.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=wd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=wd(e);let u=Rn();return i.jt({range:r,Kt:!0},(h,g,v)=>{const T=Jl(h[1]),A=new _t(T);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=Za(t.path),i=IDBKeyRange.bound([r],[mx(r)],!1,!0);let u=0;return wd(e).jt({index:Ui.documentTargetsIndex,Kt:!0,range:i},([h,g],v,T)=>{0!==h&&(u++,T.done())}).next(()=>u>0)}Et(e,t){return wg(e).get(t).next(r=>r?Yy(r):null)}}function wg(n){return Hs(n,$s.store)}function Ok(n){return Hs(n,Oo.store)}function wd(n){return Hs(n,Ui.store)}function yf(n){return OS.apply(this,arguments)}function OS(){return OS=(0,l.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==mk)throw n;He("LocalStore","Unexpectedly lost primary lease")}),OS.apply(this,arguments)}function Rk([n,e],[t,r]){const i=Jt(n,t);return 0===i?Jt(e,r):i}class DU{constructor(e){this.he=e,this.buffer=new Or(Rk),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Rk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class EU{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;He("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,l.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){gf(i)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield yf(i)}yield t.me(e)}))}}class TU{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Pe.resolve(No.I);const r=new DU(t);return this.ge.forEachTarget(e,i=>r.de(i.sequenceNumber)).next(()=>this.ge.pe(e,i=>r.de(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(Sk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sk):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,i,u,h,g,v,T;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,h=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,g=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(T=Date.now(),aS()<=zl.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-A}ms\n\tDetermined least recently used ${i} in `+(g-h)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${M} documents in `+(T-v)+`ms\nTotal Duration: ${T-A}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class CU{constructor(e,t){this.db=e,this.garbageCollector=new TU(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,i)=>t(i))}addReference(e,t,r){return xD(e,r)}removeReference(e,t,r){return xD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return xD(e,t)}Ae(e,t){return function(r,i){let u=!1;return Mk(r).Qt(h=>Nk(r,h,i).next(g=>(g&&(u=!0),Pe.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Ie(e,(h,g)=>{if(g<=t){const v=this.Ae(e,h).next(T=>{if(!T)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h),wd(e).delete([0,Za(h.path)])))});i.push(v)}}).next(()=>Pe.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return xD(e,t)}Ie(e,t){const r=wd(e);let i,u=No.I;return r.jt({index:Ui.documentTargetsIndex},([h,g],{path:v,sequenceNumber:T})=>{0===h?(u!==No.I&&t(new _t(Jl(i)),u),u=T,i=v):u=No.I}).next(()=>{u!==No.I&&t(new _t(Jl(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xD(n,e){return wd(n).put((r=n.currentSequenceNumber,new Ui(0,Za(e.path),r)));var r}class Dg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){lf(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return yx(this.inner)}}class xk{constructor(){this.changes=new Dg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ut.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:hr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Pe.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IU{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return Dd(e).put(kD(t),r)}removeEntry(e,t){const r=Dd(e),i=kD(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return Dd(e).get(kD(t)).next(r=>this.be(t,r))}Pe(e,t){return Dd(e).get(kD(t)).next(r=>({document:this.be(t,r),size:RD(r)}))}getEntries(e,t){let r=ia();return this.ve(e,t,(i,u)=>{const h=this.be(i,u);r=r.insert(i,h)}).next(()=>r)}Ve(e,t){let r=ia(),i=new ui(_t.comparator);return this.ve(e,t,(u,h)=>{const g=this.be(u,h);r=r.insert(u,g),i=i.insert(u,RD(h))}).next(()=>({documents:r,Se:i}))}ve(e,t,r){if(t.isEmpty())return Pe.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),u=t.getIterator();let h=u.getNext();return Dd(e).jt({range:i},(g,v,T)=>{const A=_t.fromSegments(g);for(;h&&_t.comparator(h,A)<0;)r(h,null),h=u.getNext();h&&h.isEqual(A)&&(r(h,v),h=u.hasNext()?u.getNext():null),h?T.Lt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r){let i=ia();const u=t.path.length+1,h={};if(r.isEqual(Ut.min())){const g=t.path.toArray();h.range=IDBKeyRange.lowerBound(g)}else{const g=t.path.toArray(),v=SS(r);h.range=IDBKeyRange.lowerBound([g,v],!0),h.index=Rr.collectionReadTimeIndex}return Dd(e).jt(h,(g,v,T)=>{if(g.length!==u)return;const A=IS(this.k,v);t.path.isPrefixOf(A.key.path)?Uy(t,A)&&(i=i.insert(A.key,A)):T.done()}).next(()=>i)}newChangeBuffer(e){return new SU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kk(e).get(Mu.key).next(t=>(Ot(!!t),t))}Re(e,t){return kk(e).put(Mu.key,t)}be(e,t){if(t){const r=IS(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Ut.min()))return r}return hr.newInvalidDocument(e)}}class SU extends xk{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Dg(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Or((u,h)=>Jt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const g=this.Ce.get(u);if(h.document.isValidDocument()){const v=wk(this.De.k,h.document,this.getReadTime(u));i=i.add(u.path.popLast()),r+=RD(v)-g,t.push(this.De.addEntry(e,u,v))}else if(r-=g,this.trackRemovals){const v=wk(this.De.k,hr.newNoDocument(u,Ut.min()),this.getReadTime(u));t.push(this.De.addEntry(e,u,v))}else t.push(this.De.removeEntry(e,u))}),i.forEach(u=>{t.push(this.De.Jt.addToCollectionParentIndex(e,u))}),t.push(this.De.updateMetadata(e,r)),Pe.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:i})=>(i.forEach((u,h)=>{this.Ce.set(u,h)}),r))}}function kk(n){return Hs(n,Mu.store)}function Dd(n){return Hs(n,Rr.store)}function kD(n){return n.path.toArray()}class AU{constructor(e){this.k=e}Nt(e,t,r,i){Ot(r<i&&r>=0&&i<=11);const u=new OD("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore(Mo.store),(g=e).createObjectStore(yd.store,{keyPath:yd.keyPath}),g.createObjectStore(rr.store,{keyPath:rr.keyPath,autoIncrement:!0}).createIndex(rr.userMutationsIndex,rr.userMutationsKeyPath,{unique:!0}),g.createObjectStore(es.store),Pk(e),function(g){g.createObjectStore(Rr.store)}(e));let h=Pe.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore(Ui.store),g.deleteObjectStore($s.store),g.deleteObjectStore(Oo.store)}(e),Pk(e)),h=h.next(()=>function(g){const v=g.store(Oo.store),T=new Oo(0,0,Ut.min().toTimestamp(),0);return v.put(Oo.key,T)}(u))),r<4&&i>=4&&(0!==r&&(h=h.next(()=>function(g,v){return v.store(rr.store).Bt().next(T=>{g.deleteObjectStore(rr.store),g.createObjectStore(rr.store,{keyPath:rr.keyPath,autoIncrement:!0}).createIndex(rr.userMutationsIndex,rr.userMutationsKeyPath,{unique:!0});const A=v.store(rr.store),M=T.map(F=>A.put(F));return Pe.waitFor(M)})}(e,u))),h=h.next(()=>{!function(g){g.createObjectStore(Xl.store,{keyPath:Xl.keyPath})}(e)})),r<5&&i>=5&&(h=h.next(()=>this.Ne(u))),r<6&&i>=6&&(h=h.next(()=>(function(g){g.createObjectStore(Mu.store)}(e),this.ke(u)))),r<7&&i>=7&&(h=h.next(()=>this.xe(u))),r<8&&i>=8&&(h=h.next(()=>this.$e(e,u))),r<9&&i>=9&&(h=h.next(()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(e),function(g){const v=g.objectStore(Rr.store);v.createIndex(Rr.readTimeIndex,Rr.readTimeIndexPath,{unique:!1}),v.createIndex(Rr.collectionReadTimeIndex,Rr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(h=h.next(()=>this.Oe(u))),r<11&&i>=11&&(h=h.next(()=>{(function(g){g.createObjectStore(gg.store,{keyPath:gg.keyPath})})(e),function(g){g.createObjectStore(mg.store,{keyPath:mg.keyPath})}(e)})),h}ke(e){let t=0;return e.store(Rr.store).jt((r,i)=>{t+=RD(i)}).next(()=>{const r=new Mu(t);return e.store(Mu.store).put(Mu.key,r)})}Ne(e){const t=e.store(yd.store),r=e.store(rr.store);return t.Bt().next(i=>Pe.forEach(i,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.Bt(rr.userMutationsIndex,h).next(g=>Pe.forEach(g,v=>{Ot(v.userId===u.userId);const T=vg(this.k,v);return Ak(e,u.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(Ui.store),r=e.store(Rr.store);return e.store(Oo.store).get(Oo.key).next(i=>{const u=[];return r.jt((h,g)=>{const v=new En(h),T=[0,Za(v)];u.push(t.get(T).next(A=>A?Pe.resolve():t.put(new Ui(0,Za(v),i.highestListenSequenceNumber))))}).next(()=>Pe.waitFor(u))})}$e(e,t){e.createObjectStore(pf.store,{keyPath:pf.keyPath});const r=t.store(pf.store),i=new NS,u=h=>{if(i.add(h)){const g=h.lastSegment(),v=h.popLast();return r.put({collectionId:g,parent:Za(v)})}};return t.store(Rr.store).jt({Kt:!0},(h,g)=>{const v=new En(h);return u(v.popLast())}).next(()=>t.store(es.store).jt({Kt:!0},([h,g,v],T)=>{const A=Jl(g);return u(A.popLast())}))}Oe(e){const t=e.store($s.store);return t.jt((r,i)=>{const u=Yy(i),h=Ek(this.k,u);return t.put(h)})}}function Pk(n){n.createObjectStore(Ui.store,{keyPath:Ui.keyPath}).createIndex(Ui.documentTargetsIndex,Ui.documentTargetsKeyPath,{unique:!0}),n.createObjectStore($s.store,{keyPath:$s.keyPath}).createIndex($s.queryTargetsIndexName,$s.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Oo.store)}const RS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xS{constructor(e,t,r,i,u,h,g,v,T,A){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=u,this.window=h,this.document=g,this.Fe=T,this.Le=A,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!xS.Pt())throw new Fe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CU(this,i),this.Ge=t+"main",this.k=new bk(v),this.ze=new Ya(this.Ge,11,new AU(this.k)),this.He=new wU(this.referenceDelegate,this.k),this.Jt=new bU,this.Je=new IU(this.k,this.Jt),this.Ye=new yU,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===A&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(de.FAILED_PRECONDITION,RS);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new No(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,l.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,l.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,l.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>PD(e).put(new Xl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(gf(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Ky(e).get(Mo.key).next(t=>Pe.resolve(this.un(t)))}hn(e){return PD(e).delete(this.clientId)}ln(){var e=this;return(0,l.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Hs(r,Xl.store);return i.Bt().next(u=>{const h=e.dn(u,18e5),g=u.filter(v=>-1===h.indexOf(v));return Pe.forEach(g,v=>i.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Pe.resolve(!0):Ky(e).get(Mo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Fe(de.FAILED_PRECONDITION,RS);return!1}}return!(!this.networkEnabled||!this.inForeground)||PD(e).Bt().next(r=>void 0===this.dn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const h=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||h&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,l.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Mo.store,Xl.store],t=>{const r=new vk(t,No.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>PD(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return MS.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let u;return He("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",gU,h=>(u=new vk(h,this.Be?this.Be.next():No.I),"readwrite-primary"===t?this.rn(u).next(g=>!!g||this.on(u)).next(g=>{if(!g)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Fe(de.FAILED_PRECONDITION,mk);return r(u)}).next(g=>this.an(u).next(()=>g)):this.En(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}En(e){return Ky(e).get(Mo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(de.FAILED_PRECONDITION,RS)})}an(e){const t=new Mo(this.clientId,this.allowTabSynchronization,Date.now());return Ky(e).put(Mo.key,t)}static Pt(){return Ya.Pt()}cn(e){const t=Ky(e);return t.get(Mo.key).next(r=>this.un(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete(Mo.key)):Pe.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(zr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Ht.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ky(n){return Hs(n,Mo.store)}function PD(n){return Hs(n,Xl.store)}function kS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class NU{constructor(e,t){this.progress=e,this.In=t}}class Fk{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}Pn(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return _t.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):mS(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new _t(t)).next(r=>{let i=bS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let u=bS();return this.Jt.getCollectionParents(e,i).next(h=>Pe.forEach(h,g=>{const v=(T=t,A=g.child(i),new Ql(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,A;return this.Cn(e,v,r).next(T=>{T.forEach((A,M)=>{u=u.insert(A,M)})})}).next(()=>u))}Cn(e,t,r){let i,u;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(i=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(u=h,this.Nn(e,u,i).next(g=>{i=g;for(const v of u)for(const T of v.mutations){const A=T.key;let M=i.get(A);null==M&&(M=hr.newInvalidDocument(A),i=i.insert(A,M)),yS(T,M,v.localWriteTime),M.isFoundDocument()||(i=i.remove(A))}}))).next(()=>(i.forEach((h,g)=>{Uy(t,g)||(i=i.remove(h))}),i))}Nn(e,t,r){let i=Rn();for(const h of t)for(const g of h.mutations)g instanceof _d&&null===r.get(g.key)&&(i=i.add(g.key));let u=r;return this.Je.getEntries(e,i).next(h=>(h.forEach((g,v)=>{v.isFoundDocument()&&(u=u.insert(g,v))}),u))}}class PS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=Rn(),i=Rn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new PS(e,t.fromCache,r,i)}}class Lk{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ut.min())?this.Fn(e,t):this.Mn.vn(e,i).next(u=>{const h=this.Ln(t,u);return(DD(t)||ED(t))&&this.Bn(t.limitType,h,i,r)?this.Fn(e,t):(aS()<=zl.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_S(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(g=>(h.forEach(v=>{g=g.insert(v.key,v)}),g)))});var u}Ln(e,t){let r=new Or(Rx(e));return t.forEach((i,u)=>{Uy(e,u)&&(r=r.add(u))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Fn(e,t){return aS()<=zl.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",_S(t)),this.Mn.getDocumentsMatchingQuery(e,t,Ut.min())}}class MU{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new ui(Jt),this.Kn=new Dg(u=>Fy(u),vD),this.jn=Ut.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Fk(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function Vk(n,e,t,r){return new MU(n,e,t,r)}function Uk(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,l.Z)(function*(n,e){const t=Xe(n);let r=t.An,i=t.Wn;const u=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let g;return t.An.getAllMutationBatches(h).next(v=>(g=v,r=t.persistence.getMutationQueue(e),i=new Fk(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const T=[],A=[];let M=Rn();for(const F of g){T.push(F.batchId);for(const j of F.mutations)M=M.add(j.key)}for(const F of v){A.push(F.batchId);for(const j of F.mutations)M=M.add(j.key)}return i.vn(h,M).next(F=>({Gn:F,removedBatchIds:T,addedBatchIds:A}))})});return t.An=r,t.Wn=i,t.Un.On(t.Wn),u}),FS.apply(this,arguments)}function OU(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,g,v,T){const A=v.batch,M=A.keys();let F=Pe.resolve();return M.forEach(j=>{F=F.next(()=>T.getEntry(g,j)).next(X=>{const De=v.docVersions.get(j);Ot(null!==De),X.version.compareTo(De)<0&&(A.applyToRemoteDocument(X,v),X.isValidDocument()&&T.addEntry(X,v.commitVersion))})}),F.next(()=>h.An.removeMutationBatch(g,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function Bk(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function RU(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const g=[];e.targetChanges.forEach((T,A)=>{const M=i.get(A);if(!M)return;g.push(t.He.removeMatchingKeys(u,T.removedDocuments,A).next(()=>t.He.addMatchingKeys(u,T.addedDocuments,A)));let F=M.withSequenceNumber(u.currentSequenceNumber);var j,X,De;e.targetMismatches.has(A)?F=F.withResumeToken(ai.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,r)),i=i.insert(A,F),X=F,De=T,(0===(j=M).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&g.push(t.He.updateTargetData(u,F))});let v=ia();if(e.documentUpdates.forEach((T,A)=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(jk(u,h,e.documentUpdates,r,void 0).next(T=>{v=T})),!r.isEqual(Ut.min())){const T=t.He.getLastRemoteSnapshotVersion(u).next(A=>t.He.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(T)}return Pe.waitFor(g).next(()=>h.apply(u)).next(()=>t.Wn.Vn(u,v)).next(()=>v)}).then(u=>(t.qn=i,u))}function jk(n,e,t,r,i){let u=Rn();return t.forEach(h=>u=u.add(h)),e.getEntries(n,u).next(h=>{let g=ia();return t.forEach((v,T)=>{const A=h.get(v),M=(null==i?void 0:i.get(v))||r;T.isNoDocument()&&T.version.isEqual(Ut.min())?(e.removeEntry(v,M),g=g.insert(v,T)):!A.isValidDocument()||T.version.compareTo(A.version)>0||0===T.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(T,M),g=g.insert(v,T)):He("LocalStore","Ignoring outdated watch update for ",v,". Current version:",A.version," Watch version:",T.version)}),g})}function xU(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Eg(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(u=>u?(i=u,Pe.resolve(i)):t.He.allocateTargetId(r).next(h=>(i=new vd(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Tg(n,e,t){return LS.apply(this,arguments)}function LS(){return LS=(0,l.Z)(function*(n,e,t){const r=Xe(n),i=r.qn.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,i)))}catch(h){if(!gf(h))throw h;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),LS.apply(this,arguments)}function FD(n,e,t){const r=Xe(n);let i=Ut.min(),u=Rn();return r.persistence.runTransaction("Execute query","readonly",h=>function(g,v,T){const A=Xe(g),M=A.Kn.get(T);return void 0!==M?Pe.resolve(A.qn.get(M)):A.He.getTargetData(v,T)}(r,h,ra(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,g.targetId).next(v=>{u=v})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?i:Ut.min(),t?u:Rn())).next(g=>({documents:g,zn:u})))}function Gk(n,e){const t=Xe(n),r=Xe(t.He),i=t.qn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(h=>h?h.target:null))}function $k(n){const e=Xe(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,u){const h=Xe(r);let g=ia(),v=SS(u);const T=Dd(i),A=IDBKeyRange.lowerBound(v,!0);return T.jt({index:Rr.readTimeIndex,range:A},(M,F)=>{const j=IS(h.k,F);g=g.insert(j.key,j),v=F.readTime}).next(()=>({In:g,readTime:Dk(v)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function VS(){return VS=(0,l.Z)(function*(n){const e=Xe(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=Dd(r);let u=Ut.min();return i.jt({index:Rr.readTimeIndex,reverse:!0},(h,g,v)=>{g.readTime&&(u=Dk(g.readTime)),v.done()}).next(()=>u)}(t)).then(t=>{e.jn=t})}),VS.apply(this,arguments)}function US(){return US=(0,l.Z)(function*(n,e,t,r){const i=Xe(n);let u=Rn(),h=ia(),g=Yx();for(const A of t){const M=e.Hn(A.metadata.name);A.document&&(u=u.add(M)),h=h.insert(M,e.Jn(A)),g=g.insert(M,e.Yn(A.metadata.readTime))}const v=i.Qn.newChangeBuffer({trackRemovals:!0}),T=yield Eg(i,(A=r,ra(lg(En.fromString(`__bundle__/docs/${A}`)))));var A;return i.persistence.runTransaction("Apply bundle documents","readwrite",A=>jk(A,v,h,Ut.min(),g).next(M=>(v.apply(A),M)).next(M=>i.He.removeMatchingKeysForTargetId(A,T.targetId).next(()=>i.He.addMatchingKeys(A,u,T.targetId)).next(()=>i.Wn.Vn(A,M)).next(()=>M)))}),US.apply(this,arguments)}function FU(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,l.Z)(function*(n,e,t=Rn()){const r=yield Eg(n,ra(AS(e.bundledQuery))),i=Xe(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const h=Di(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return i.Ye.saveNamedQuery(u,e);const g=r.withResumeToken(ai.EMPTY_BYTE_STRING,h);return i.qn=i.qn.insert(g.targetId,g),i.He.updateTargetData(u,g).next(()=>i.He.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.He.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ye.saveNamedQuery(u,e))})}),BS.apply(this,arguments)}class LU{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Pe.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:Di(r.createTime)}),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:AS(r.bundledQuery),readTime:Di(r.readTime)}),Pe.resolve();var r}}class jS{constructor(){this.ts=new Or(Ei.es),this.ns=new Or(Ei.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Ei(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Ei(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new _t(new En([])),r=new Ei(t,e),i=new Ei(t,e+1),u=[];return this.ns.forEachInRange([r,i],h=>{this.os(h),u.push(h.key)}),u}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new _t(new En([])),r=new Ei(t,e),i=new Ei(t,e+1);let u=Rn();return this.ns.forEachInRange([r,i],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ei(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ei{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return _t.comparator(e.key,t.key)||Jt(e.fs,t.fs)}static ss(e,t){return Jt(e.fs,t.fs)||_t.comparator(e.key,t.key)}}class VU{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Or(Ei.es)}checkEmpty(e){return Pe.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const u=this.ds;this.ds++;const h=new TS(u,t,r,i);this.An.push(h);for(const g of i)this.ws=this.ws.add(new Ei(g.key,u)),this.Jt.addToCollectionParentIndex(e,g.key.path.popLast());return Pe.resolve(h)}lookupMutationBatch(e,t){return Pe.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),u=i<0?0:i;return Pe.resolve(this.An.length>u?this.An[u]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Pe.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ei(t,0),i=new Ei(t,Number.POSITIVE_INFINITY),u=[];return this.ws.forEachInRange([r,i],h=>{const g=this._s(h.fs);u.push(g)}),Pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Or(Jt);return t.forEach(i=>{const u=new Ei(i,0),h=new Ei(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([u,h],g=>{r=r.add(g.fs)})}),Pe.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;_t.isDocumentKey(u)||(u=u.child(""));const h=new Ei(new _t(u),0);let g=new Or(Jt);return this.ws.forEachWhile(v=>{const T=v.key.path;return!!r.isPrefixOf(T)&&(T.length===i&&(g=g.add(v.fs)),!0)},h),Pe.resolve(this.ys(g))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ot(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Pe.forEach(t.mutations,i=>{const u=new Ei(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Ei(t,0),i=this.ws.firstAfterOrEqual(r);return Pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Pe.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class UU{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new ui(_t.comparator),this.size=0}addEntry(e,t,r){const i=t.key,u=this.docs.get(i),h=u?u.size:0,g=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:g,readTime:r}),this.size+=g-h,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Pe.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(t))}getEntries(e,t){let r=ia();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():hr.newInvalidDocument(i))}),Pe.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=ia();const u=new _t(t.path.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:g,value:{document:v,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(g.path))break;T.compareTo(r)<=0||Uy(t,v)&&(i=i.insert(v.key,v.mutableCopy()))}return Pe.resolve(i)}Es(e,t){return Pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new BU(this)}getSize(e){return Pe.resolve(this.size)}}class BU extends xk{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),Pe.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class jU{constructor(e){this.persistence=e,this.Is=new Dg(t=>Fy(t),vD),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.As=0,this.Rs=new jS,this.targetCount=0,this.bs=_f.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Pe.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new _f(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.ae(t),Pe.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Is.forEach((h,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Is.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),Pe.waitFor(u).next(()=>i)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Pe.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Pe.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(h=>{u.push(i.markPotentiallyOrphaned(e,h))}),Pe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Pe.resolve(r)}containsKey(e,t){return Pe.resolve(this.Rs.containsKey(t))}}class GU{constructor(e,t){this.Ps={},this.Be=new No(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new jU(this),this.Jt=new vU,this.Je=new UU(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new bk(t),this.Ye=new LU(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new VU(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new $U(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(u=>this.referenceDelegate.Ss(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ds(e,t){return Pe.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class $U extends _k{constructor(e){super(),this.currentSequenceNumber=e}}class GS{constructor(e){this.persistence=e,this.Cs=new jS,this.Ns=null}static ks(e){return new GS(e)}get xs(){if(this.Ns)return this.Ns;throw wt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Pe.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.xs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.xs,r=>{const i=_t.fromPath(r);return this.$s(e,i).next(u=>{u||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Pe.or([()=>Pe.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function Hk(n,e){return`firestore_clients_${n}_${e}`}function Wk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function $S(n,e){return`firestore_targets_${n}_${e}`}class LD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Os(e,t,r){const i=JSON.parse(r);let u,h="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return h&&i.error&&(h="string"==typeof i.error.message&&"string"==typeof i.error.code,h&&(u=new Fe(i.error.code,i.error.message))),h?new LD(e,t,i.state,u):(zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qy{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Fe(r.error.code,r.error.message))),u?new Qy(e,r.state,i):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class VD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=AD();for(let h=0;i&&h<r.activeTargetIds.length;++h)i=bx(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return i?new VD(e,u):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class HS{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new HS(t.clientId,t.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WS{constructor(){this.activeTargetIds=AD()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zS{constructor(e,t,r,i,u){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ui(Jt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Qs=Hk(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new WS),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(g){return`firestore_bundle_loaded_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.Z)(function*(){const t=yield e.syncEngine.Tn();for(const i of t){if(i===e.Bs)continue;const u=e.getItem(Hk(e.persistenceKey,i));if(u){const h=VD.Os(i,u);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const i=e.Zs(r);i&&e.ti(i)}for(const i of e.js)e.qs(i);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem($S(this.persistenceKey,e));if(r){const i=Qy.Os(e,r);i&&(t=i.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($S(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.si(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,l.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const i=t.ai(r.key);return t.ui(i,null)}{const i=t.hi(r.key,r.newValue);if(i)return t.ui(i.clientId,i)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const i=t.li(r.key,r.newValue);if(i)return t.fi(i)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const i=t.di(r.key,r.newValue);if(i)return t.wi(i)}}else if(r.key===t.Js){if(null!==r.newValue){const i=t.Zs(r.newValue);if(i)return t.ti(i)}}else if(r.key===t.Ws){const i=function(u){let h=No.I;if(null!=u)try{const g=JSON.parse(u);Ot("number"==typeof g),h=g}catch(g){zr("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(r.newValue);i!==No.I&&t.sequenceNumberHandler(i)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const i=new LD(this.currentUser,e,t,r),u=Wk(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Ms())}si(e){const t=Wk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const i=$S(this.persistenceKey,e),u=new Qy(e,t,r);this.setItem(i,u.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return VD.Os(r,t)}li(e,t){const r=this.zs.exec(e),i=Number(r[1]);return LD.Os(new Fi(void 0!==r[2]?r[2]:null),i,t)}di(e,t){const r=this.Hs.exec(e),i=Number(r[1]);return Qy.Os(i,t)}Zs(e){return HS.Os(e)}fi(e){var t=this;return(0,l.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),u=this.ei(r),h=[],g=[];return u.forEach(v=>{i.has(v)||h.push(v)}),i.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.yi(h,g).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=AD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class zk{constructor(){this.pi=new WS,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new WS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class HU{Ei(e){}shutdown(){}}class qk{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const WU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class zU{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class qU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,u){const h=this.Ui(e,t);He("RestConnection","Sending: ",h,r);const g={};return this.qi(g,i,u),this.Ki(e,h,g,r).then(v=>(He("RestConnection","Received: ",v),v),v=>{throw Oy("RestConnection",`${e} failed with error: `,v,"url: ",h,"request:",r),v})}ji(e,t,r,i,u){return this.Bi(e,t,r,i,u)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+rg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}Ui(e,t){return`${this.Fi}/v1/${t}:${WU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((u,h)=>{const g=new p2;g.listenOnce(d2.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case oS.NO_ERROR:const T=g.getResponseJson();He("Connection","XHR received:",JSON.stringify(T)),u(T);break;case oS.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),h(new Fe(de.DEADLINE_EXCEEDED,"Request time out"));break;case oS.HTTP_ERROR:const A=g.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',A,"response text:",g.getResponseText()),A>0){const M=g.getResponseJson().error;if(M&&M.status&&M.message){const F=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(X)>=0?X:de.UNKNOWN}(M.status);h(new Fe(F,M.message))}else h(new Fe(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Fe(de.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);g.send(t,"POST",v,r,15)})}Qi(e,t,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=l2(),h=c2(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new f2({})),this.qi(g.initMessageHeaders,t,r),(0,Ht.uI)()||(0,Ht.b$)()||(0,Ht.d)()||(0,Ht.w1)()||(0,Ht.Mn)()||(0,Ht.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");He("Connection","Creating WebChannel: "+v,g);const T=u.createWebChannel(v,g);let A=!1,M=!1;const F=new zU({Vi:X=>{M?He("Connection","Not sending because WebChannel is closed:",X):(A||(He("Connection","Opening WebChannel transport."),T.open(),A=!0),He("Connection","WebChannel sending:",X),T.send(X))},Si:()=>T.close()}),j=(X,De,ye)=>{X.listen(De,Oe=>{try{ye(Oe)}catch(Ne){setTimeout(()=>{throw Ne},0)}})};return j(T,gD.EventType.OPEN,()=>{M||He("Connection","WebChannel transport opened.")}),j(T,gD.EventType.CLOSE,()=>{M||(M=!0,He("Connection","WebChannel transport closed"),F.Oi())}),j(T,gD.EventType.ERROR,X=>{M||(M=!0,Oy("Connection","WebChannel transport errored:",X),F.Oi(new Fe(de.UNAVAILABLE,"The operation could not be completed")))}),j(T,gD.EventType.MESSAGE,X=>{var De;if(!M){const ye=X.data[0];Ot(!!ye);const Oe=ye,Ne=Oe.error||(null===(De=Oe[0])||void 0===De?void 0:De.error);if(Ne){He("Connection","WebChannel received error:",Ne);const xe=Ne.status;let Ue=function(Lt){const jn=Yr[Lt];if(void 0!==jn)return qx(jn)}(xe),et=Ne.message;void 0===Ue&&(Ue=de.INTERNAL,et="Unknown error status: "+xe+" with message "+Ne.message),M=!0,F.Oi(new Fe(Ue,et)),T.close()}else He("Connection","WebChannel received:",ye),F.Mi(ye)}}),j(h,h2.STAT_EVENT,X=>{X.stat===dx.PROXY?He("Connection","Detected buffering proxy"):X.stat===dx.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.$i()},0),F}}function Zk(){return"undefined"!=typeof window?window:null}function UD(){return"undefined"!=typeof document?document:null}function Jy(n){return new eU(n,!0)}class qS{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=u,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Yk{constructor(e,t,r,i,u,h,g,v){this.Me=e,this.nr=r,this.sr=i,this.ir=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new qS(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,l.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,l.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,l.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new Fe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi((0,l.Z)(function*(){e.state=0,e.start()}))}Ar(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZU extends Yk{constructor(e,t,r,i,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,h),this.k=u}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function rU(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:wt(),i=e.targetChange.targetIds||[],u=function(v,T){return v.C?(Ot(void 0===T||"string"==typeof T),ai.fromBase64String(T||"")):(Ot(void 0===T||T instanceof Uint8Array),ai.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(v){const T=void 0===v.code?de.UNKNOWN:qx(v.code);return new Fe(T,v.message||"")}(h);t=new Qx(r,i,u,g||null)}else if("documentChange"in e){const r=e.documentChange,i=Nu(n,r.document.name),u=Di(r.document.updateTime),h=new Xi({mapValue:{fields:r.document.fields}}),g=hr.newFoundDocument(i,u,h);t=new ND(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=Nu(n,r.document),u=r.readTime?Di(r.readTime):Ut.min(),h=hr.newNoDocument(i,u);t=new ND([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,i=Nu(n,r.document);t=new ND([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return wt();{const r=e.filter,u=new W2(r.count||0);t=new Kx(r.targetId,u)}}var v;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return Ut.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Ut.min():u.readTime?Di(u.readTime):Ut.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=qy(this.k),t.addTarget=function(i,u){let h;const g=u.target;return h=bD(g)?{documents:uk(i,g)}:{query:lk(i,g)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=tk(i,u.resumeToken):u.snapshotVersion.compareTo(Ut.min())>0&&(h.readTime=Wy(i,u.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function sU(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=qy(this.k),t.removeTarget=e,this.gr(t)}}class YU extends Yk{constructor(e,t,r,i,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,h),this.k=u,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function iU(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(r,i){let u=Di(r.updateTime?r.updateTime:i);return u.isEqual(Ut.min())&&(u=Di(i)),new G2(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.Cr(r,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=qy(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>MD(this.k,r))};this.gr(t)}}class KU extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new Fe(de.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.ir.Bi(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(de.UNKNOWN,i.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.ir.ji(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(de.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class QU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(zr(t),this.Lr=!1):He("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class JU{constructor(e,t,r,i,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=u,this.Hr.Ei(g=>{r.enqueueAndForget((0,l.Z)(function*(){var v;Ed(h)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,l.Z)(function*(T){const A=Xe(T);A.Gr.add(4),yield Cg(A),A.Jr.set("Unknown"),A.Gr.delete(4),yield Xy(A)}),function(T){return v.apply(this,arguments)})(h))}))}),this.Jr=new QU(r,i)}}function Xy(n){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,l.Z)(function*(n){if(Ed(n))for(const e of n.zr)yield e(!0)}),ZS.apply(this,arguments)}function Cg(n){return YS.apply(this,arguments)}function YS(){return YS=(0,l.Z)(function*(n){for(const e of n.zr)yield e(!1)}),YS.apply(this,arguments)}function BD(n,e){const t=Xe(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),JS(t)?QS(t):Sg(t).lr()&&KS(t,e))}function ev(n,e){const t=Xe(n),r=Sg(t);t.Wr.delete(e),r.lr()&&Kk(t,e),0===t.Wr.size&&(r.lr()?r._r():Ed(t)&&t.Jr.set("Unknown"))}function KS(n,e){n.Yr.X(e.targetId),Sg(n).Pr(e)}function Kk(n,e){n.Yr.X(e),Sg(n).vr(e)}function QS(n){n.Yr=new Q2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Sg(n).start(),n.Jr.Br()}function JS(n){return Ed(n)&&!Sg(n).hr()&&n.Wr.size>0}function Ed(n){return 0===Xe(n).Gr.size}function Qk(n){n.Yr=void 0}function XU(n){return XS.apply(this,arguments)}function XS(){return XS=(0,l.Z)(function*(n){n.Wr.forEach((e,t)=>{KS(n,e)})}),XS.apply(this,arguments)}function eB(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,l.Z)(function*(n,e){Qk(n),JS(n)?(n.Jr.Kr(e),QS(n)):n.Jr.set("Unknown")}),eA.apply(this,arguments)}function tB(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,l.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof Qx&&2===e.state&&e.cause)try{yield(r=(0,l.Z)(function*(i,u){const h=u.cause;for(const g of u.targetIds)i.Wr.has(g)&&(yield i.remoteSyncer.rejectListen(g,h),i.Wr.delete(g),i.Yr.removeTarget(g))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jD(n,r)}else if(e instanceof ND?n.Yr.ot(e):e instanceof Kx?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Ut.min()))try{const r=yield Bk(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const h=i.Yr.gt(u);return h.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const T=i.Wr.get(v);T&&i.Wr.set(v,T.withResumeToken(g.resumeToken,u))}}),h.targetMismatches.forEach(g=>{const v=i.Wr.get(g);if(!v)return;i.Wr.set(g,v.withResumeToken(ai.EMPTY_BYTE_STRING,v.snapshotVersion)),Kk(i,g);const T=new vd(v.target,g,1,v.sequenceNumber);KS(i,T)}),i.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield jD(n,r)}var r}),tA.apply(this,arguments)}function jD(n,e,t){return nA.apply(this,arguments)}function nA(){return nA=(0,l.Z)(function*(n,e,t){if(!gf(e))throw e;n.Gr.add(1),yield Cg(n),n.Jr.set("Offline"),t||(t=()=>Bk(n.localStore)),n.asyncQueue.enqueueRetryable((0,l.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Xy(n)}))}),nA.apply(this,arguments)}function Jk(n,e){return e().catch(t=>jD(n,t,e))}function Ig(n){return rA.apply(this,arguments)}function rA(){return rA=(0,l.Z)(function*(n){const e=Xe(n),t=Td(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;nB(e);)try{const i=yield xU(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,rB(e,i)}catch(i){yield jD(e,i)}Xk(e)&&eP(e)}),rA.apply(this,arguments)}function nB(n){return Ed(n)&&n.Qr.length<10}function rB(n,e){n.Qr.push(e);const t=Td(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function Xk(n){return Ed(n)&&!Td(n).hr()&&n.Qr.length>0}function eP(n){Td(n).start()}function iB(n){return iA.apply(this,arguments)}function iA(){return iA=(0,l.Z)(function*(n){Td(n).kr()}),iA.apply(this,arguments)}function sB(n){return sA.apply(this,arguments)}function sA(){return sA=(0,l.Z)(function*(n){const e=Td(n);for(const t of n.Qr)e.Dr(t.mutations)}),sA.apply(this,arguments)}function oB(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,l.Z)(function*(n,e,t){const r=n.Qr.shift(),i=CS.from(r,e,t);yield Jk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ig(n)}),oA.apply(this,arguments)}function aB(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,l.Z)(function*(n,e){var t;e&&Td(n).Sr&&(yield(t=(0,l.Z)(function*(r,i){if(zx(u=i.code)&&u!==de.ABORTED){const h=r.Qr.shift();Td(r).wr(),yield Jk(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,i)),yield Ig(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),Xk(n)&&eP(n)}),aA.apply(this,arguments)}function uA(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,l.Z)(function*(n,e){const t=Xe(n);e?(t.Gr.delete(2),yield Xy(t)):e||(t.Gr.add(2),yield Cg(t),t.Jr.set("Unknown"))}),lA.apply(this,arguments)}function Sg(n){return n.Xr||(n.Xr=function(e,t,r){const i=Xe(e);return i.Or(),new ZU(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:XU.bind(null,n),Ni:eB.bind(null,n),br:tB.bind(null,n)}),n.zr.push(function(){var e=(0,l.Z)(function*(t){t?(n.Xr.wr(),JS(n)?QS(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),Qk(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Td(n){return n.Zr||(n.Zr=function(e,t,r){const i=Xe(e);return i.Or(),new YU(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:iB.bind(null,n),Ni:aB.bind(null,n),Nr:sB.bind(null,n),Cr:oB.bind(null,n)}),n.zr.push(function(){var e=(0,l.Z)(function*(t){t?(n.Zr.wr(),yield Ig(n)):(yield n.Zr.stop(),n.Qr.length>0&&(He("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class cA{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,i,u){const h=Date.now()+r,g=new cA(e,t,h,i,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(n,e){if(zr("AsyncQueue",`${e}: ${n}`),gf(n))return new Fe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Ng{constructor(e){this.comparator=e?(t,r)=>e(t,r)||_t.comparator(t.key,r.key):(t,r)=>_t.comparator(t.key,r.key),this.keyedMap=bS(),this.sortedSet=new ui(this.comparator)}static emptySet(e){return new Ng(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ng)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ng;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class tP{constructor(){this.eo=new ui(_t.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):wt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Mg{constructor(e,t,r,i,u,h,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Mg(e,t,Ng.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class uB{constructor(){this.so=void 0,this.listeners=[]}}class lB{constructor(){this.queries=new Dg(e=>Ox(e),Vy),this.onlineState="Unknown",this.io=new Set}}function dA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,l.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new uB),i)try{u.so=yield t.onListen(r)}catch(h){const g=Ag(h,`Initialization of query '${_S(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.ro(t.onlineState),u.so&&e.oo(u.so)&&gA(t)}),hA.apply(this,arguments)}function fA(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,l.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),pA.apply(this,arguments)}function cB(n,e){const t=Xe(n);let r=!1;for(const i of e){const h=t.queries.get(i.query);if(h){for(const g of h.listeners)g.oo(i)&&(r=!0);h.so=i}}r&&gA(t)}function dB(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function gA(n){n.io.forEach(e=>{e.next()})}class mA{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Mg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Mg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class hB{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class nP{constructor(e){this.k=e}Hn(e){return Nu(this.k,e)}Jn(e){return e.metadata.exists?ok(this.k,e.document,!1):hr.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Di(e)}}class fB{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=rP(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new nP(this.k);for(const i of e)if(i.metadata.queries){const u=r.Hn(i.metadata.name);for(const h of i.metadata.queries){const g=(t.get(h)||Rn()).add(u);t.set(h,g)}}return t}complete(){var e=this;return(0,l.Z)(function*(){const t=yield function PU(n,e,t,r){return US.apply(this,arguments)}(e.localStore,new nP(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const i of e.queries)yield FU(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new NU(Object.assign({},e.progress),t)})()}}function rP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class iP{constructor(e){this.key=e}}class sP{constructor(e){this.key=e}}class oP{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Rn(),this.mutatedKeys=Rn(),this.Ao=Rx(e),this.Ro=new Ng(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new tP,i=t?t.Ro:this.Ro;let u=t?t.mutatedKeys:this.mutatedKeys,h=i,g=!1;const v=DD(this.query)&&i.size===this.query.limit?i.last():null,T=ED(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,M)=>{const F=i.get(A),j=Uy(this.query,M)?M:null,X=!!F&&this.mutatedKeys.has(F.key),De=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let ye=!1;F&&j?F.data.isEqual(j.data)?X!==De&&(r.track({type:3,doc:j}),ye=!0):this.Vo(F,j)||(r.track({type:2,doc:j}),ye=!0,(v&&this.Ao(j,v)>0||T&&this.Ao(j,T)<0)&&(g=!0)):!F&&j?(r.track({type:0,doc:j}),ye=!0):F&&!j&&(r.track({type:1,doc:F}),ye=!0,(v||T)&&(g=!0)),ye&&(j?(h=h.add(j),u=De?u.add(A):u.delete(A)):(h=h.delete(A),u=u.delete(A)))}),DD(this.query)||ED(this.query))for(;h.size>this.query.limit;){const A=DD(this.query)?h.last():h.first();h=h.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Ro:h,vo:r,Bn:g,mutatedKeys:u}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const u=e.vo.no();u.sort((T,A)=>function(M,F){const j=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return j(M)-j(F)}(T.type,A.type)||this.Ao(T.doc,A.doc)),this.So(r);const h=t?this.Do():[],g=0===this.Io.size&&this.current?1:0,v=g!==this.Eo;return this.Eo=g,0!==u.length||v?{snapshot:new Mg(this.query,e.Ro,i,u,e.mutatedKeys,0===g,v,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new tP,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Rn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new sP(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new iP(r))}),t}ko(e){this.To=e.zn,this.Io=Rn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return Mg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class pB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gB{constructor(e){this.key=e,this.$o=!1}}class mB{constructor(e,t,r,i,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new Dg(g=>Ox(g),Vy),this.Fo=new Map,this.Lo=new Set,this.Bo=new ui(_t.comparator),this.Uo=new Map,this.qo=new jS,this.Ko={},this.jo=new Map,this.Qo=_f.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function _B(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,l.Z)(function*(n,e){const t=BA(n);let r,i;const u=t.Mo.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.xo();else{const h=yield Eg(t.localStore,ra(e)),g=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,i=yield yA(t,e,r,"current"===g),t.isPrimaryClient&&BD(t.remoteStore,h)}return i}),_A.apply(this,arguments)}function yA(n,e,t,r){return vA.apply(this,arguments)}function vA(){return vA=(0,l.Z)(function*(n,e,t,r){n.Go=(A,M,F)=>{return(j=(0,l.Z)(function*(X,De,ye,Oe){let Ne=De.view.Po(ye);Ne.Bn&&(Ne=yield FD(X.localStore,De.query,!1).then(({documents:et})=>De.view.Po(et,Ne)));const xe=Oe&&Oe.targetChanges.get(De.targetId),Ue=De.view.applyChanges(Ne,X.isPrimaryClient,xe);return NA(X,De.targetId,Ue.Co),Ue.snapshot}),function(X,De,ye,Oe){return j.apply(this,arguments)})(n,A,M,F);var j};const i=yield FD(n.localStore,e,!0),u=new oP(e,i.zn),h=u.Po(i.documents),g=Hy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(h,n.isPrimaryClient,g);NA(n,t,v.Co);const T=new pB(e,t,u);return n.Mo.set(e,T),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot}),vA.apply(this,arguments)}function yB(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,l.Z)(function*(n,e){const t=Xe(n),r=t.Mo.get(e),i=t.Fo.get(r.targetId);if(i.length>1)return t.Fo.set(r.targetId,i.filter(u=>!Vy(u,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Tg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ev(t.remoteStore,r.targetId),Og(t,r.targetId)}).catch(yf))):(Og(t,r.targetId),yield Tg(t.localStore,r.targetId,!0))}),bA.apply(this,arguments)}function wA(){return wA=(0,l.Z)(function*(n,e,t){const r=jA(n);try{const i=yield function(u,h){const g=Xe(u),v=wi.now(),T=h.reduce((M,F)=>M.add(F.key),Rn());let A;return g.persistence.runTransaction("Locally write mutations","readwrite",M=>g.Wn.vn(M,T).next(F=>{A=F;const j=[];for(const X of h){const De=H2(X,A.get(X.key));null!=De&&j.push(new _d(X.key,De,Tx(De.value.mapValue),Zr.exists(!0)))}return g.An.addMutationBatch(M,v,j,h)})).then(M=>(M.applyToLocalDocumentSet(A),{batchId:M.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,g){let v=u.Ko[u.currentUser.toKey()];v||(v=new ui(Jt)),v=v.insert(h,g),u.Ko[u.currentUser.toKey()]=v}(r,i.batchId,t),yield ec(r,i.changes),yield Ig(r.remoteStore)}catch(i){const u=Ag(i,"Failed to persist write");t.reject(u)}}),wA.apply(this,arguments)}function aP(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,l.Z)(function*(n,e){const t=Xe(n);try{const r=yield RU(t.localStore,e);e.targetChanges.forEach((i,u)=>{const h=t.Uo.get(u);h&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?h.$o=!0:i.modifiedDocuments.size>0?Ot(h.$o):i.removedDocuments.size>0&&(Ot(h.$o),h.$o=!1))}),yield ec(t,r,e)}catch(r){yield yf(r)}}),DA.apply(this,arguments)}function uP(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Mo.forEach((u,h)=>{const g=h.view.ro(e);g.snapshot&&i.push(g.snapshot)}),function(u,h){const g=Xe(u);g.onlineState=h;let v=!1;g.queries.forEach((T,A)=>{for(const M of A.listeners)M.ro(h)&&(v=!0)}),v&&gA(g)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bB(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,l.Z)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),u=i&&i.key;if(u){let h=new ui(_t.comparator);h=h.insert(u,hr.newNoDocument(u,Ut.min()));const g=Rn().add(u),v=new $y(Ut.min(),new Map,new Or(Jt),h,g);yield aP(r,v),r.Bo=r.Bo.remove(u),r.Uo.delete(e),MA(r)}else yield Tg(r.localStore,e,!1).then(()=>Og(r,e,t)).catch(yf)}),EA.apply(this,arguments)}function wB(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,l.Z)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=yield OU(t.localStore,e);AA(t,r,null),SA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ec(t,i)}catch(i){yield yf(i)}}),TA.apply(this,arguments)}function DB(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,l.Z)(function*(n,e,t){const r=Xe(n);try{const i=yield function(u,h){const g=Xe(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return g.An.lookupMutationBatch(v,h).next(A=>(Ot(null!==A),T=A.keys(),g.An.removeMutationBatch(v,A))).next(()=>g.An.performConsistencyCheck(v)).next(()=>g.Wn.vn(v,T))})}(r.localStore,e);AA(r,e,t),SA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ec(r,i)}catch(i){yield yf(i)}}),CA.apply(this,arguments)}function IA(){return IA=(0,l.Z)(function*(n,e){const t=Xe(n);Ed(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=Xe(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.An.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.jo.get(r)||[];i.push(e),t.jo.set(r,i)}catch(r){const i=Ag(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),IA.apply(this,arguments)}function SA(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function AA(n,e,t){const r=Xe(n);let i=r.Ko[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function Og(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||lP(n,r)})}function lP(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(ev(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),MA(n))}function NA(n,e,t){for(const r of t)r instanceof iP?(n.qo.addReference(r.key,e),TB(n,r)):r instanceof sP?(He("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||lP(n,r.key)):wt()}function TB(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(He("SyncEngine","New document in limbo: "+t),n.Lo.add(r),MA(n))}function MA(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new _t(En.fromString(e)),r=n.Qo.next();n.Uo.set(r,new gB(t)),n.Bo=n.Bo.insert(t,r),BD(n.remoteStore,new vd(ra(lg(t.path)),r,2,No.I))}}function ec(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,l.Z)(function*(n,e,t){const r=Xe(n),i=[],u=[],h=[];var g;r.Mo.isEmpty()||(r.Mo.forEach((g,v)=>{h.push(r.Go(v,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,T.fromCache?"not-current":"current"),i.push(T);const A=PS.$n(v.targetId,T);u.push(A)}}))}),yield Promise.all(h),r.Oo.br(i),yield(g=(0,l.Z)(function*(v,T){const A=Xe(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Pe.forEach(T,F=>Pe.forEach(F.kn,j=>A.persistence.referenceDelegate.addReference(M,F.targetId,j)).next(()=>Pe.forEach(F.xn,j=>A.persistence.referenceDelegate.removeReference(M,F.targetId,j)))))}catch(M){if(!gf(M))throw M;He("LocalStore","Failed to update sequence numbers: "+M)}for(const M of T){const F=M.targetId;if(!M.fromCache){const j=A.qn.get(F),De=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);A.qn=A.qn.insert(F,De)}}}),function(v,T){return g.apply(this,arguments)})(r.localStore,u))}),OA.apply(this,arguments)}function CB(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,l.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield Uk(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(h=>{h.forEach(g=>{g.reject(new Fe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ec(t,r.Gn)}var i}),RA.apply(this,arguments)}function IB(n,e){const t=Xe(n),r=t.Uo.get(e);if(r&&r.$o)return Rn().add(r.key);{let i=Rn();const u=t.Fo.get(e);if(!u)return i;for(const h of u){const g=t.Mo.get(h);i=i.unionWith(g.view.bo)}return i}}function SB(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,l.Z)(function*(n,e){const t=Xe(n),r=yield FD(t.localStore,e.query,!0),i=e.view.ko(r);return t.isPrimaryClient&&NA(t,e.targetId,i.Co),i}),xA.apply(this,arguments)}function AB(n){return kA.apply(this,arguments)}function kA(){return kA=(0,l.Z)(function*(n){const e=Xe(n);return $k(e.localStore).then(t=>ec(e,t))}),kA.apply(this,arguments)}function NB(n,e,t,r){return PA.apply(this,arguments)}function PA(){return PA=(0,l.Z)(function*(n,e,t,r){const i=Xe(n),u=yield function(h,g){const v=Xe(h),T=Xe(v.An);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>T.Zt(A,g).next(M=>M?v.Wn.vn(A,M):Pe.resolve(null)))}(i.localStore,e);var g;null!==u?("pending"===t?yield Ig(i.remoteStore):"acknowledged"===t||"rejected"===t?(AA(i,e,r||null),SA(i,e),g=e,Xe(Xe(i.localStore).An).ee(g)):wt(),yield ec(i,u)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),PA.apply(this,arguments)}function FA(){return FA=(0,l.Z)(function*(n,e){const t=Xe(n);if(BA(t),jA(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield cP(t,r.toArray());t.Wo=!0,yield uA(t.remoteStore,!0);for(const u of i)BD(t.remoteStore,u)}else if(!1===e&&!1!==t.Wo){const r=[];let i=Promise.resolve();t.Fo.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):i=i.then(()=>(Og(t,h),Tg(t.localStore,h,!0))),ev(t.remoteStore,h)}),yield i,yield cP(t,r),function(u){const h=Xe(u);h.Uo.forEach((g,v)=>{ev(h.remoteStore,v)}),h.qo.hs(),h.Uo=new Map,h.Bo=new ui(_t.comparator)}(t),t.Wo=!1,yield uA(t.remoteStore,!1)}}),FA.apply(this,arguments)}function cP(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,l.Z)(function*(n,e,t){const r=Xe(n),i=[],u=[];for(const h of e){let g;const v=r.Fo.get(h);if(v&&0!==v.length){g=yield Eg(r.localStore,ra(v[0]));for(const T of v){const A=r.Mo.get(T),M=yield SB(r,A);M.snapshot&&u.push(M.snapshot)}}else{const T=yield Gk(r.localStore,h);g=yield Eg(r.localStore,T),yield yA(r,dP(T),h,!1)}i.push(g)}return r.Oo.br(u),i}),LA.apply(this,arguments)}function dP(n){return Nx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function OB(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).Tn()}function RB(n,e,t,r){return VA.apply(this,arguments)}function VA(){return VA=(0,l.Z)(function*(n,e,t,r){const i=Xe(n);if(i.Wo)He("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(e))switch(t){case"current":case"not-current":{const u=yield $k(i.localStore),h=$y.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ec(i,u,h);break}case"rejected":yield Tg(i.localStore,e,!0),Og(i,e,r);break;default:wt()}}),VA.apply(this,arguments)}function xB(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,l.Z)(function*(n,e,t){const r=BA(n);if(r.Wo){for(const i of e){if(r.Fo.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const u=yield Gk(r.localStore,i),h=yield Eg(r.localStore,u);yield yA(r,dP(u),h.targetId,!1),BD(r.remoteStore,h)}for(const i of t)r.Fo.has(i)&&(yield Tg(r.localStore,i,!1).then(()=>{ev(r.remoteStore,i),Og(r,i)}).catch(yf))}}),UA.apply(this,arguments)}function BA(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bB.bind(null,e),e.Oo.br=cB.bind(null,e.eventManager),e.Oo.zo=dB.bind(null,e.eventManager),e}function jA(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DB.bind(null,e),e}class hP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,l.Z)(function*(){t.k=Jy(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return Vk(this.persistence,new Lk,e.initialUser,this.k)}Yo(e){return new GU(GS.ks,this.k)}Jo(e){return new zk}terminate(){var e=this;return(0,l.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fP extends hP{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,l.Z)(function*(){yield t().call(r,e),yield function kU(n){return VS.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield jA(r.tc.syncEngine),yield Ig(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return Vk(this.persistence,new Lk,e.initialUser,this.k)}Xo(e){return new EU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=kS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new xS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Zk(),UD(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new zk}}class PB extends fP{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,l.Z)(function*(){yield t().call(r,e);const i=r.tc.syncEngine;r.sharedClientState instanceof zS&&(r.sharedClientState.syncEngine={mi:NB.bind(null,i),gi:RB.bind(null,i),yi:xB.bind(null,i),Tn:OB.bind(null,i),_i:AB.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var u=(0,l.Z)(function*(h){yield function MB(n,e){return FA.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}Jo(e){const t=Zk();if(!zS.Pt(t))throw new Fe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=kS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class GA{initialize(e,t){var r=this;return(0,l.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>uP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=CB.bind(null,r.syncEngine),yield uA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new lB}createDatastore(e){const t=Jy(e.databaseInfo.databaseId),r=new qU(e.databaseInfo);return new KU(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=g=>uP(this.syncEngine,g,0),h=qk.Pt()?new qk:new HU,new JU(t,r,i,u,h);var t,r,i,u,h}createSyncEngine(e,t){return function(r,i,u,h,g,v,T){const A=new mB(r,i,u,h,g,v);return T&&(A.Wo=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,l.Z)(function*(t){const r=Xe(t);He("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Cg(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pP(n,e=10240){let t=0;return{read:()=>(0,l.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,l.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class GD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class FB{constructor(e,t){this.sc=e,this.k=t,this.metadata=new bi,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,l.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,l.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,l.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),i=Number(r);isNaN(i)&&e.cc(`length string (${r}) is not valid number`);const u=yield e.ac(i);return new hB(JSON.parse(u),t.length+i)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,l.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,l.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,l.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class LB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,l.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,l.Z)(function*(u,h){const g=Xe(u),v=qy(g.k)+"/documents",T={documents:h.map(j=>zy(g.k,j))},A=yield g.ji("BatchGetDocuments",v,T),M=new Map;A.forEach(j=>{const X=function nU(n,e){return"found"in e?function(t,r){Ot(!!r.found);const i=Nu(t,r.found.name),u=Di(r.found.updateTime),h=new Xi({mapValue:{fields:r.found.fields}});return hr.newFoundDocument(i,u,h)}(n,e):"missing"in e?function(t,r){Ot(!!r.missing),Ot(!!r.readTime);const i=Nu(t,r.missing),u=Di(r.readTime);return hr.newNoDocument(i,u)}(n,e):wt()}(g.k,j);M.set(X.key.toString(),X)});const F=[];return h.forEach(j=>{const X=M.get(j.toString());Ot(!!X),F.push(X)}),F}),function(u,h){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=_t.fromPath(i);e.mutations.push(new vS(u,e.precondition(u)))}),yield(r=(0,l.Z)(function*(i,u){const h=Xe(i),g=qy(h.k)+"/documents",v={writes:u.map(T=>MD(h.k,T))};yield h.Bi("Commit",g,v)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wt();t=Ut.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zr.updateTime(t):Zr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ut.min()))throw new Fe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zr.updateTime(t)}return Zr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VB{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new qS(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,l.Z)(function*(){const t=new LB(e.datastore),r=e.dc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.wc(u)}))}).catch(i=>{e.wc(i)})}))}dc(e){try{const t=this.updateFunction(e);return!cf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!zx(t)}return!1}}class UB{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fi.UNAUTHENTICATED,this.clientId=gx.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,l.Z)(function*(g){He("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,l.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ag(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function gP(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,l.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,l.Z)(function*(u){r.isEqual(u)||(yield Uk(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),$A.apply(this,arguments)}function mP(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,l.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield WA(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(u=(0,l.Z)(function*(h,g){const v=Xe(h);v.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const T=Ed(v);v.Gr.add(3),yield Cg(v),T&&v.Jr.set("Unknown"),yield v.remoteSyncer.handleCredentialChange(g),v.Gr.delete(3),yield Xy(v)}),function(h,g){return u.apply(this,arguments)})(e.remoteStore,i);var u}),n.onlineComponents=e}),HA.apply(this,arguments)}function WA(n){return zA.apply(this,arguments)}function zA(){return zA=(0,l.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield gP(n,new hP)),n.offlineComponents}),zA.apply(this,arguments)}function $D(n){return qA.apply(this,arguments)}function qA(){return qA=(0,l.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield mP(n,new GA)),n.onlineComponents}),qA.apply(this,arguments)}function _P(n){return WA(n).then(e=>e.persistence)}function ZA(n){return WA(n).then(e=>e.localStore)}function yP(n){return $D(n).then(e=>e.remoteStore)}function YA(n){return $D(n).then(e=>e.syncEngine)}function Rg(n){return KA.apply(this,arguments)}function KA(){return KA=(0,l.Z)(function*(n){const e=yield $D(n),t=e.eventManager;return t.onListen=_B.bind(null,e.syncEngine),t.onUnlisten=yB.bind(null,e.syncEngine),t}),KA.apply(this,arguments)}function vP(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(i,u,h,g,v){const T=new GD({next:M=>{u.enqueueAndForget(()=>fA(i,A));const F=M.docs.has(h);!F&&M.fromCache?v.reject(new Fe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&g&&"server"===g.source?v.reject(new Fe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new mA(lg(h.path),T,{includeMetadataChanges:!0,wo:!0});return dA(i,A)}(yield Rg(n),n.asyncQueue,e,t,r)})),r.promise}function bP(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(i,u,h,g,v){const T=new GD({next:M=>{u.enqueueAndForget(()=>fA(i,A)),M.fromCache&&"server"===g.source?v.reject(new Fe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),A=new mA(h,T,{includeMetadataChanges:!0,wo:!0});return dA(i,A)}(yield Rg(n),n.asyncQueue,e,t,r)})),r.promise}class ZB{constructor(e,t,r,i,u,h,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=v}}class xg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xg&&e.projectId===this.projectId&&e.database===this.database}}const wP=new Map;function QA(n,e,t){if(!t)throw new Fe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DP(n,e,t,r){if(!0===e&&!0===r)throw new Fe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function EP(n){if(!_t.isDocumentKey(n))throw new Fe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TP(n){if(_t.isDocumentKey(n))throw new Fe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":wt()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=HD(n);throw new Fe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function CP(n,e){if(e<=0)throw new Fe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class IP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,DP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IP({}),this._settingsFrozen=!1,e instanceof xg?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Fe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xg(i.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _2;switch(t.type){case"gapi":const r=t.client;return Ot(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new w2(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wP.get(e);t&&(He("ComponentProvider","Removing Datastore"),wP.delete(e),t.terminate())}(this),Promise.resolve()}}class ir{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class ts{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class Ou extends ts{constructor(e,t,r){super(e,t,lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new _t(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function SP(n,e,...t){if(n=(0,Ht.m9)(n),QA("collection","path",e),n instanceof tv){const r=En.fromString(e,...t);return TP(r),new Ou(n,null,r)}{if(!(n instanceof ir||n instanceof Ou))throw new Fe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return TP(r),new Ou(n.firestore,null,r)}}function WD(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=gx.A()),QA("doc","path",e),n instanceof tv){const r=En.fromString(e,...t);return EP(r),new ir(n,null,new _t(r))}{if(!(n instanceof ir||n instanceof Ou))throw new Fe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(En.fromString(e,...t));return EP(r),new ir(n.firestore,n instanceof Ou?n.converter:null,new _t(r))}}function AP(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof ir||n instanceof Ou)&&(e instanceof ir||e instanceof Ou)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function NP(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof ts&&e instanceof ts&&n.firestore===e.firestore&&Vy(n._query,e._query)&&n.converter===e.converter}class QB{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new qS(this,"async_queue_retry"),this.bc=()=>{const t=UD();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=UD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=UD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new bi;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,l.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!gf(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,zr("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const i=cA.createAndSchedule(this,e,t,r,u=>this.Sc(u));return this.Tc.push(i),i}Pc(){this.Ec&&wt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,l.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function JA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class JB{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wr extends tv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new QB,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||MP(this),this._firestoreClient.terminate()}}function ej(n=(0,Su.getApp)()){return(0,Su._getProvider)(n,"firestore").getImmediate()}function li(n){return n._firestoreClient||MP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function MP(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ZB(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new UB(n._authCredentials,n._appCheckCredentials,n._queue,r)}function OP(n,e,t){const r=new bi;return n.asyncQueue.enqueue((0,l.Z)(function*(){try{yield gP(n,t),yield mP(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function RP(n){if(n._initialized||n._terminated)throw new Fe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ru(ai.fromBase64String(e))}catch(t){throw new Fe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ru(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vf{constructor(e){this._methodName=e}}class zD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const lj=/^__.*__$/;class cj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new _d(e,this.data,this.fieldMask,t,this.fieldTransforms):new jy(e,this.data,t,this.fieldTransforms)}}class xP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _d(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class qD{constructor(e,t,r,i,u,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===u&&this.xc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new qD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return YD(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(kP(this.$c)&&lj.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class dj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||Jy(e)}Qc(e,t,r,i=!1){return new qD({$c:e,methodName:t,jc:r,path:Li.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function bf(n){const e=n._freezeSettings(),t=Jy(n._databaseId);return new dj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZD(n,e,t,r,i,u={}){const h=n.Qc(u.merge||u.mergeFields?2:0,e,t,i);nN("Data must be an object, but it was:",h,r);const g=LP(r,h);let v,T;if(u.merge)v=new sg(h.fieldMask),T=h.fieldTransforms;else if(u.mergeFields){const A=[];for(const M of u.mergeFields){const F=rN(e,M,t);if(!h.contains(F))throw new Fe(de.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);UP(A,F)||A.push(F)}v=new sg(A),T=h.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,T=h.fieldTransforms;return new cj(new Xi(g),v,T)}class nv extends vf{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nv}}function PP(n,e,t){return new qD({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class XA extends vf{_toFieldTransform(e){return new By(e.path,new dg)}isEqual(e){return e instanceof XA}}class hj extends vf{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=PP(this,e,!0),r=this.Wc.map(u=>wf(u,t)),i=new hf(r);return new By(e.path,i)}isEqual(e){return this===e}}class fj extends vf{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=PP(this,e,!0),r=this.Wc.map(u=>wf(u,t)),i=new ff(r);return new By(e.path,i)}isEqual(e){return this===e}}class pj extends vf{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new hg(e.k,Px(e.k,this.Gc));return new By(e.path,t)}isEqual(e){return this===e}}function eN(n,e,t,r){const i=n.Qc(1,e,t);nN("Data must be an object, but it was:",i,r);const u=[],h=Xi.empty();lf(r,(v,T)=>{const A=iN(e,v,t);T=(0,Ht.m9)(T);const M=i.Bc(A);if(T instanceof nv)u.push(A);else{const F=wf(T,M);null!=F&&(u.push(A),h.set(A,F))}});const g=new sg(u);return new xP(h,g,i.fieldTransforms)}function tN(n,e,t,r,i,u){const h=n.Qc(1,e,t),g=[rN(e,r,t)],v=[i];if(u.length%2!=0)throw new Fe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)g.push(rN(e,u[F])),v.push(u[F+1]);const T=[],A=Xi.empty();for(let F=g.length-1;F>=0;--F)if(!UP(T,g[F])){const j=g[F];let X=v[F];X=(0,Ht.m9)(X);const De=h.Bc(j);if(X instanceof nv)T.push(j);else{const ye=wf(X,De);null!=ye&&(T.push(j),A.set(j,ye))}}const M=new sg(T);return new xP(A,M,h.fieldTransforms)}function FP(n,e,t,r=!1){return wf(t,n.Qc(r?4:3,e))}function wf(n,e){if(VP(n=(0,Ht.m9)(n)))return nN("Unsupported field value:",e,n),LP(n,e);if(n instanceof vf)return function(t,r){if(!kP(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const h of t){let g=wf(h,r.Uc(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Px(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=wi.fromDate(t);return{timestampValue:Wy(r.k,i)}}if(t instanceof wi){const i=new wi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wy(r.k,i)}}if(t instanceof zD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ru)return{bytesValue:tk(r.k,t._byteString)};if(t instanceof ir){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.qc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${HD(t)}`)}(n,e)}function LP(n,e){const t={};return yx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lf(n,(r,i)=>{const u=wf(i,e.Mc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function VP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wi||n instanceof zD||n instanceof Ru||n instanceof ir||n instanceof vf)}function nN(n,e,t){if(!VP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=HD(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function rN(n,e,t){if((e=(0,Ht.m9)(e))instanceof tc)return e._internalPath;if("string"==typeof e)return iN(n,e);throw YD("Field path arguments must be of type string or ",n,!1,void 0,t)}const gj=new RegExp("[~\\*/\\[\\]]");function iN(n,e,t){if(e.search(gj)>=0)throw YD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tc(...e.split("."))._internalPath}catch(r){throw YD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function YD(n,e,t,r,i){const u=r&&!r.isEmpty(),h=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||h)&&(v+=" (found",u&&(v+=` in field ${r}`),h&&(v+=` in document ${i}`),v+=")"),new Fe(de.INVALID_ARGUMENT,g+n+v)}function UP(n,e){return n.some(t=>t.isEqual(e))}class rv{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(KD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mj extends rv{data(){return super.data()}}function KD(n,e){return"string"==typeof e?iN(n,e):e instanceof tc?e._internalPath:e._delegate._internalPath}class Df{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nc extends rv{constructor(e,t,r,i,u,h){super(e,t,r,i,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(KD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class iv extends nc{data(e={}){return super.data(e)}}class Cd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Df(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new iv(this._firestore,this._userDataWriter,r.key,r,new Df(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new iv(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Df(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>i||3!==h.type).map(h=>{const g=new iv(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Df(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,T=-1;return 0!==h.type&&(v=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),T=u.indexOf(h.doc.key)),{type:_j(h.type),doc:g,oldIndex:v,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _j(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function BP(n,e){return n instanceof nc&&e instanceof nc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Cd&&e instanceof Cd&&n._firestore===e._firestore&&NP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function jP(n){if(ED(n)&&0===n.explicitOrderBy.length)throw new Fe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sv{}function Id(n,...e){for(const t of e)n=t._apply(n);return n}class yj extends sv{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=bf(e.firestore),r=function(i,u,h,g,v,T,A){let M;if(v.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Fe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){qP(A,T);const j=[];for(const X of A)j.push(zP(g,i,X));M={arrayValue:{values:j}}}else M=zP(g,i,A)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||qP(A,T),M=FP(h,"where",A,"in"===T||"not-in"===T);const F=ys.create(v,T,M);return function(j,X){if(X.V()){const ye=gS(j);if(null!==ye&&!ye.isEqual(X.field))throw new Fe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ye.toString()}' and '${X.field.toString()}'`);const Oe=pS(j);null!==Oe&&ZP(0,X.field,Oe)}const De=function(ye,Oe){for(const Ne of ye.filters)if(Oe.indexOf(Ne.op)>=0)return Ne.op;return null}(j,function(ye){switch(ye){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==De)throw new Fe(de.INVALID_ARGUMENT,De===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${De.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new ts(e.firestore,e.converter,function(i,u){const h=i.filters.concat([u]);return new Ql(i.path,i.collectionGroup,i.explicitOrderBy.slice(),h,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class bj extends sv{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Fe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new ug(i,u);return function(g,v){if(null===pS(g)){const T=gS(g);null!==T&&ZP(0,T,v.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new ts(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new Ql(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class GP extends sv{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new ts(e.firestore,e.converter,Mx(e._query,this.Xc,this.Zc))}}class $P extends sv{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=WP(e,this.type,this.ta,this.ea);return new ts(e.firestore,e.converter,(i=t,new Ql((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class HP extends sv{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=WP(e,this.type,this.ta,this.ea);return new ts(e.firestore,e.converter,(i=t,new Ql((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function WP(n,e,t,r){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof rv)return function(i,u,h,g,v){if(!g)throw new Fe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const A of cg(i))if(A.field.isKeyField())T.push(_D(u,g.key));else{const M=g.data.field(A.field);if(lS(M))throw new Fe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=A.field.canonicalString();throw new Fe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}T.push(M)}return new Ly(T,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=bf(n.firestore);return function(u,h,g,v,T,A){const M=u.explicitOrderBy;if(T.length>M.length)throw new Fe(de.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let j=0;j<T.length;j++){const X=T[j];if(M[j].field.isKeyField()){if("string"!=typeof X)throw new Fe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof X}`);if(!mS(u)&&-1!==X.indexOf("/"))throw new Fe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${X}' contains a slash.`);const De=u.path.child(En.fromString(X));if(!_t.isDocumentKey(De))throw new Fe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${De}' is not because it contains an odd number of segments.`);const ye=new _t(De);F.push(_D(h,ye))}else{const De=FP(g,v,X);F.push(De)}}return new Ly(F,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function zP(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Fe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mS(e)&&-1!==t.indexOf("/"))throw new Fe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(En.fromString(t));if(!_t.isDocumentKey(r))throw new Fe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _D(n,new _t(r))}if(t instanceof ir)return _D(n,t._key);throw new Fe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HD(t)}.`)}function qP(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ZP(n,e,t){if(!t.isEqual(e))throw new Fe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sN{convertValue(e,t="none"){switch(df(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(og(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wt()}}convertObject(e,t){const r={};return lf(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new zD(qr(e.latitude),qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vx(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xy(e));default:return null}}convertTimestamp(e){const t=md(e);return new wi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=En.fromString(e);Ot(pk(r));const i=new xg(r.get(1),r.get(3)),u=new _t(r.popFirst(5));return i.isEqual(t)||zr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function QD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Aj extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}class YP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bf(e)}set(e,t,r){this._verifyNotCommitted();const i=Sd(e,this._firestore),u=QD(i.converter,t,r),h=ZD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(h.toMutation(i._key,Zr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Sd(e,this._firestore);let h;return h="string"==typeof(t=(0,Ht.m9)(t))||t instanceof tc?tN(this._dataReader,"WriteBatch.update",u._key,t,r,i):eN(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Zr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sd(e,this._firestore);return this._mutations=this._mutations.concat(new Gy(t._key,Zr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sd(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Fe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ef extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function KP(n,e,t){n=on(n,ir);const r=on(n.firestore,wr),i=QD(n.converter,e,t);return kg(r,[ZD(bf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Zr.none())])}function QP(n,e,t,...r){n=on(n,ir);const i=on(n.firestore,wr),u=bf(i);let h;return h="string"==typeof(e=(0,Ht.m9)(e))||e instanceof tc?tN(u,"updateDoc",n._key,e,t,r):eN(u,"updateDoc",n._key,e),kg(i,[h.toMutation(n._key,Zr.exists(!0))])}function JP(n,...e){var t,r,i;n=(0,Ht.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||JA(e[h])||(u=e[h],h++);const g={includeMetadataChanges:u.includeMetadataChanges};if(JA(e[h])){const M=e[h];e[h]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[h+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let v,T,A;if(n instanceof ir)T=on(n.firestore,wr),A=lg(n._key.path),v={next:M=>{e[h]&&e[h](oN(T,n,M))},error:e[h+1],complete:e[h+2]};else{const M=on(n,ts);T=on(M.firestore,wr),A=M._query;const F=new Ef(T);v={next:j=>{e[h]&&e[h](new Cd(T,F,M,j))},error:e[h+1],complete:e[h+2]},jP(n._query)}return function(M,F,j,X){const De=new GD(X),ye=new mA(F,De,j);return M.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return dA(yield Rg(M),ye)})),()=>{De.nc(),M.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return fA(yield Rg(M),ye)}))}}(li(T),A,g,v)}function kg(n,e){return function(t,r){const i=new bi;return t.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function vB(n,e,t){return wA.apply(this,arguments)}(yield YA(t),r,i)})),i.promise}(li(n),e)}function oN(n,e,t){const r=t.docs.get(e._key),i=new Ef(n);return new nc(n,i,e._key,r,new Df(t.hasPendingWrites,t.fromCache),e.converter)}class Vj extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bf(e)}get(e){const t=Sd(e,this._firestore),r=new Aj(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return wt();const u=i[0];if(u.isFoundDocument())return new rv(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new rv(this._firestore,r,t._key,null,t.converter);throw wt()})}set(e,t,r){const i=Sd(e,this._firestore),u=QD(i.converter,t,r),h=ZD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,h),this}update(e,t,r,...i){const u=Sd(e,this._firestore);let h;return h="string"==typeof(t=(0,Ht.m9)(t))||t instanceof tc?tN(this._dataReader,"Transaction.update",u._key,t,r,i):eN(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=Sd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sd(e,this._firestore),r=new Ef(this._firestore);return super.get(e).then(i=>new nc(this._firestore,r,t._key,i._document,new Df(!1,!1),t.converter))}}!function(n,e=!0){rg=Su.SDK_VERSION,(0,Su._registerComponent)(new ty.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new wr(i,new v2(t.getProvider("auth-internal")),new D2(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Su.registerVersion)(hx,"3.4.3",n),(0,Su.registerVersion)(hx,"3.4.3","esm2017")}();class aN{constructor(e){return e}}const XP="firestore",uN=new c.OlP("angularfire2.firestore-instances");function qj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new aN(r)}}const Zj={provide:class Wj{constructor(){return(0,nr.vb)(XP)}},deps:[[new c.FiY,uN]]},Yj={provide:aN,useFactory:function zj(n,e){const t=(0,nr.JM)(XP,n,e);return t&&new aN(t)},deps:[[new c.FiY,uN],class Wl{constructor(e){return e}}]};let Kj=(()=>{class n{constructor(){(0,Mw.KN)("angularfire",nr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Yj,Zj]}),n})();function Qj(n,...e){return{ngModule:Kj,providers:[{provide:uN,useFactory:qj(n),multi:!0,deps:[c.R0b,c.zs3,nr.HU,ey,[new c.FiY,kw],[new c.FiY,$w],...e]}]}}const Jj=(0,nr.u3)(ej,!0);var Ka=k(2011),xu=(()=>(function(n){n.LOAD_ALL_USUARIOS="[USUARIO] Load All Usuarios",n.LOAD_ALL_USUARIOS_SUCCESS="[USUARIO] Load All Usuarios Success",n.LOGIN_USER="[USUARIO] Login User",n.LOGOUT_USER="[USUARIO] Logout User",n.LOGIN_USER_SUCCESS="[USUARIO] Login User Success",n.LOGOUT_USER_SUCCESS="[USUARIO] Logout User Success",n.LOGIN_USER_ERROR="[USUARIO] Login User Error"}(xu||(xu={})),xu))();const eF=Ki(xu.LOAD_ALL_USUARIOS),tF=Ki(xu.LOAD_ALL_USUARIOS_SUCCESS,{_as:"props",_p:void 0}),nF=Ki(xu.LOGIN_USER,{_as:"props",_p:void 0}),rF=Ki(xu.LOGOUT_USER),Xj=Ki(xu.LOGIN_USER_SUCCESS),eG=Ki(xu.LOGIN_USER_ERROR),tG=Ki(xu.LOGOUT_USER_SUCCESS),JD=u_(),{selectIds:nG,selectEntities:rG,selectAll:iG,selectTotal:sG}=JD.getSelectors(),aG=r_(JD.getInitialState({selectedUsuarioId:""}),kh(tF,(n,{payload:e})=>(n=JD.removeAll(Object.assign(Object.assign({},n),{selectedUsuarioId:""})),JD.addMany(e.usuarios,n)))),ov=Jm("usuarioState"),cG=(cr(ov,nG),cr(ov,rG)),iF=cr(ov,iG),dG=(cr(ov,sG),cr(ov,n=>n.selectedUsuarioId));function lN(){return(0,Ir.e)((n,e)=>{let t,r=!1;n.subscribe(new Yt.Q(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}cr(cG,dG,(n,e)=>n[e]),cr(iF,n=>{const e=JSON.parse(localStorage.getItem("loguedUser")||"null");console.log(e);let t=n.filter(r=>r.nombre===localStorage.getItem("loguedUSer"));return 0==t.length?null:t[0]}),k(5881);var hG=k(3942);function cN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sF(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function oF(){if(!function C2(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class av{constructor(e){this._delegate=e}static fromBase64String(e){return oF(),new av(Ru.fromBase64String(e))}static fromUint8Array(e){return sF(),new av(Ru.fromUint8Array(e))}toBase64(){return oF(),this._delegate.toBase64()}toUint8Array(){return sF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dN(n){return function gG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class mG{enableIndexedDbPersistence(e,t){return function tj(n,e){RP(n=on(n,wr));const t=li(n),r=n._freezeSettings(),i=new GA;return OP(t,i,new fP(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function nj(n){RP(n=on(n,wr));const e=li(n),t=n._freezeSettings(),r=new GA;return OP(e,r,new PB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function rj(n){if(n._initialized&&!n._terminated)throw new Fe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{yield(t=(0,l.Z)(function*(r){if(!Ya.Pt())return Promise.resolve();const i=r+"main";yield Ya.delete(i)}),function(r){return t.apply(this,arguments)})(kS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class aF{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof xg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Oy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function YB(n,e,t,r={}){var i;const u=(n=on(n,tv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Oy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,g;if("string"==typeof r.mockUserToken)h=r.mockUserToken,g=Fi.MOCK_USER;else{h=(0,Ht.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Fe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Fi(v)}n._authCredentials=new y2(new fx(h,g))}}(this._delegate,e,t,r)}enableNetwork(){return function sj(n){return function BB(n){return n.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield _P(n),t=yield yP(n);return e.setNetworkEnabled(!0),function(r){const i=Xe(r);return i.Gr.delete(0),Xy(i)}(t)}))}(li(n=on(n,wr)))}(this._delegate)}disableNetwork(){return function oj(n){return function jB(n){return n.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield _P(n),t=yield yP(n);return e.setNetworkEnabled(!1),(r=(0,l.Z)(function*(i){const u=Xe(i);u.Gr.add(0),yield Cg(u),u.Jr.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(li(n=on(n,wr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,DP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ij(n){return function(e){const t=new bi;return e.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function EB(n,e){return IA.apply(this,arguments)}(yield YA(e),t)})),t.promise}(li(n=on(n,wr)))}(this._delegate)}onSnapshotsInSync(e){return function Lj(n,e){return function HB(n,e){const t=new GD(e);return n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return r=yield Rg(n),i=t,Xe(r).io.add(i),void i.next();var r,i})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return r=yield Rg(n),i=t,void Xe(r).io.delete(i);var r,i}))}}(li(n=on(n,wr)),JA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pg(this,SP(this._delegate,e))}catch(t){throw vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,WD(this._delegate,e))}catch(t){throw vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bs(this,function KB(n,e){if(n=on(n,tv),QA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ts(n,null,(t=e,new Ql(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Uj(n,e){return function WB(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){const r=yield(i=n,$D(i).then(u=>u.datastore));var i;new VB(n.asyncQueue,r,e,t).run()})),t.promise}(li(n=on(n,wr)),t=>e(new Vj(n,t)))}(this._delegate,t=>e(new uF(this,t)))}batch(){return li(this._delegate),new lF(new YP(this._delegate,e=>kg(this._delegate,e)))}loadBundle(e){return function aj(n,e){const t=li(n=on(n,wr)),r=new JB;return function zB(n,e,t,r){const i=function(u,h){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,T){if(v instanceof Uint8Array)return pP(v,T);if(v instanceof ArrayBuffer)return pP(new Uint8Array(v),T);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new FB(v,h);var v}(t,Jy(e));n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){!function kB(n,e,t){const r=Xe(n);var i;(i=(0,l.Z)(function*(u,h,g){try{const v=yield h.getMetadata();if(yield function(F,j){const X=Xe(F),De=Di(j.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",ye=>X.Ye.getBundleMetadata(ye,j.id)).then(ye=>!!ye&&ye.createTime.compareTo(De)>=0)}(u.localStore,v))return yield h.close(),void g._completeWith((F=v,{taskState:"Success",documentsLoaded:F.totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}));g._updateProgress(rP(v));const T=new fB(v,u.localStore,h.k);let A=yield h.Ho();for(;A;){const F=yield T.yo(A);F&&g._updateProgress(F),A=yield h.Ho()}const M=yield T.complete();yield ec(u,M.In,void 0),yield function(F,j){const X=Xe(F);return X.persistence.runTransaction("Save bundle","readwrite",De=>X.Ye.saveBundleMetadata(De,j))}(u.localStore,v),g._completeWith(M.progress)}catch(v){Oy("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v)}var F}),function(u,h,g){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield YA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function uj(n,e){return function qB(n,e){return n.asyncQueue.enqueue((0,l.Z)(function*(){return function(t,r){const i=Xe(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ye.getNamedQuery(u,r))}(yield ZA(n),e)}))}(li(n=on(n,wr)),e).then(t=>t?new ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new bs(this,t):null)}}class XD extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new av(new Ru(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class uF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new XD(e)}get(e){const t=Cf(e);return this._delegate.get(t).then(r=>new uv(this._firestore,new nc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Cf(e);return r?(cN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Cf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Cf(e);return this._delegate.delete(t),this}}class lF{constructor(e){this._delegate=e}set(e,t,r){const i=Cf(e);return r?(cN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Cf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Cf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Tf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new iv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Tf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Tf(e,new XD(e),t),i.set(t,u)),u}}Tf.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new ir(t._delegate,r,new _t(e)))}static forKey(e,t,r){return new sa(t,new ir(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Pg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pg(this.firestore,SP(this._delegate,e))}catch(t){throw vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof ir&&AP(this._delegate,e)}set(e,t){t=cN("DocumentReference.set",t);try{return t?KP(this._delegate,e,t):KP(this._delegate,e)}catch(r){throw vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?QP(this._delegate,e):QP(this._delegate,e,t,...r)}catch(i){throw vs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Pj(n){return kg(on(n.firestore,wr),[new Gy(n._key,Zr.none())])}(this._delegate)}onSnapshot(...e){const t=cF(e),r=dF(e,i=>new uv(this.firestore,new nc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return JP(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Mj(n){n=on(n,ir);const e=on(n.firestore,wr),t=li(e),r=new Ef(e);return function GB(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(r=(0,l.Z)(function*(i,u,h){try{const g=yield function(v,T){const A=Xe(v);return A.persistence.runTransaction("read document","readonly",M=>A.Wn.Rn(M,T))}(i,u);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new Fe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=Ag(g,`Failed to get document '${u} from cache`);h.reject(v)}}),function(i,u,h){return r.apply(this,arguments)})(yield ZA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new nc(e,r,n._key,i,new Df(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Oj(n){n=on(n,ir);const e=on(n.firestore,wr);return vP(li(e),n._key,{source:"server"}).then(t=>oN(e,n,t))}(this._delegate):function Nj(n){n=on(n,ir);const e=on(n.firestore,wr);return vP(li(e),n._key).then(t=>oN(e,n,t))}(this._delegate),t.then(r=>new uv(this.firestore,new nc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?Tf.getInstance(this.firestore,e):null))}}function vs(n,e,t){return n.message=n.message.replace(e,t),n}function cF(n){for(const e of n)if("object"==typeof e&&!dN(e))return e;return{}}function dF(n,e){var t,r;let i;return i=dN(n[0])?n[0]:dN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class uv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return BP(this._delegate,e._delegate)}}class lv extends uv{data(e){const t=this._delegate.data(e);return function m2(n,e){n||wt()}(void 0!==t),t}}class bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new XD(e)}where(e,t,r){try{return new bs(this.firestore,Id(this._delegate,function vj(n,e,t){const r=e,i=KD("where",n);return new yj(i,r,t)}(e,t,r)))}catch(i){throw vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bs(this.firestore,Id(this._delegate,function wj(n,e="asc"){const t=e,r=KD("orderBy",n);return new bj(r,t)}(e,t)))}catch(r){throw vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bs(this.firestore,Id(this._delegate,function Dj(n){return CP("limit",n),new GP("limit",n,"F")}(e)))}catch(t){throw vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bs(this.firestore,Id(this._delegate,function Ej(n){return CP("limitToLast",n),new GP("limitToLast",n,"L")}(e)))}catch(t){throw vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bs(this.firestore,Id(this._delegate,function Tj(...n){return new $P("startAt",n,!0)}(...e)))}catch(t){throw vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bs(this.firestore,Id(this._delegate,function Cj(...n){return new $P("startAfter",n,!1)}(...e)))}catch(t){throw vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bs(this.firestore,Id(this._delegate,function Ij(...n){return new HP("endBefore",n,!0)}(...e)))}catch(t){throw vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bs(this.firestore,Id(this._delegate,function Sj(...n){return new HP("endAt",n,!1)}(...e)))}catch(t){throw vs(t,"endAt()","Query.endAt()")}}isEqual(e){return NP(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function xj(n){n=on(n,ts);const e=on(n.firestore,wr),t=li(e),r=new Ef(e);return function $B(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(r=(0,l.Z)(function*(i,u,h){try{const g=yield FD(i,u,!0),v=new oP(u,g.zn),T=v.Po(g.documents),A=v.applyChanges(T,!1);h.resolve(A.snapshot)}catch(g){const v=Ag(g,`Failed to execute query '${u} against cache`);h.reject(v)}}),function(i,u,h){return r.apply(this,arguments)})(yield ZA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Cd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function kj(n){n=on(n,ts);const e=on(n.firestore,wr),t=li(e),r=new Ef(e);return bP(t,n._query,{source:"server"}).then(i=>new Cd(e,r,n,i))}(this._delegate):function Rj(n){n=on(n,ts);const e=on(n.firestore,wr),t=li(e),r=new Ef(e);return jP(n._query),bP(t,n._query).then(i=>new Cd(e,r,n,i))}(this._delegate),t.then(r=>new hN(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=cF(e),r=dF(e,i=>new hN(this.firestore,new Cd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return JP(this._delegate,t,r)}withConverter(e){return new bs(this.firestore,this._delegate.withConverter(e?Tf.getInstance(this.firestore,e):null))}}class yG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new yG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lv(this._firestore,r))})}isEqual(e){return BP(this._delegate,e._delegate)}}class Pg extends bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?WD(this._delegate):WD(this._delegate,e))}catch(t){throw vs(t,"doc()","CollectionReference.doc()")}}add(e){return function Fj(n,e){const t=on(n.firestore,wr),r=WD(n),i=QD(n.converter,e);return kg(t,[ZD(bf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Zr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return AP(this._delegate,e._delegate)}withConverter(e){return new Pg(this.firestore,this._delegate.withConverter(e?Tf.getInstance(this.firestore,e):null))}}function Cf(n){return on(n,ir)}class fN{constructor(...e){this._delegate=new tc(...e)}static documentId(){return new fN(Li.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof tc&&this._delegate._internalPath.isEqual(e._internalPath)}}class If{constructor(e){this._delegate=e}static serverTimestamp(){const e=function jj(){return new XA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new If(e)}static delete(){const e=function Bj(){return new nv("deleteField")}();return e._methodName="FieldValue.delete",new If(e)}static arrayUnion(...e){const t=function Gj(...n){return new hj("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new If(t)}static arrayRemove(...e){const t=function $j(...n){return new fj("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new If(t)}static increment(e){const t=function Hj(n){return new pj("increment",n)}(e);return t._methodName="FieldValue.increment",new If(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const vG={Firestore:aF,GeoPoint:zD,Timestamp:wi,Blob:av,Transaction:uF,WriteBatch:lF,DocumentReference:sa,DocumentSnapshot:uv,Query:bs,QueryDocumentSnapshot:lv,QuerySnapshot:hN,CollectionReference:Pg,FieldPath:fN,FieldValue:If,setLogLevel:function _G(n){!function g2(n){gd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function wG(n){(function bG(n,e){n.INTERNAL.registerComponent(new ty.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},vG)))})(n,(e,t)=>new aF(e,t,new mG)),n.registerVersion("@firebase/firestore-compat","0.1.12")}(hG.Z);var pN=k(6451),DG=k(6063);class EG extends tn.x{constructor(e=1/0,t=1/0,r=DG.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!i&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const h=t.now();let g=0;for(let v=1;v<r.length&&r[v]<=h;v+=2)g=v;g&&r.splice(0,g+1)}}}var TG=k(3099);function hF(n,e,t){var r,i;let u,h=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,h=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,TG.B)({connector:()=>new EG(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function fF(n,e){return(0,go.m)(e)?lr(()=>n,e):lr(()=>n)}var gN=k(9468);k(127);const pF=new c.OlP("angularfire2.auth.use-emulator"),gF=new c.OlP("angularfire2.auth.settings"),mF=new c.OlP("angularfire2.auth.tenant-id"),_F=new c.OlP("angularfire2.auth.langugage-code"),yF=new c.OlP("angularfire2.auth.use-device-language"),vF=new c.OlP("angularfire.auth.persistence"),bF=(n,e,t,r,i,u,h,g)=>(0,Ka.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,u&&v.useDeviceLanguage(),h)for(const[T,A]of Object.entries(h))v.settings[T]=A;return g&&v.setPersistence(g),v},[t,r,i,u,h,g]);let wF=(()=>{class n{constructor(t,r,i,u,h,g,v,T,A,M,F,j){const X=new tn.x,De=nt(void 0).pipe((0,Yc.Q)(h.outsideAngular),lr(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,5881)))),(0,st.U)(()=>(0,Ka.on)(t,u,r)),(0,st.U)(ye=>bF(ye,u,g,T,A,M,v,F)),hF({bufferSize:1,refCount:!1}));if(Vu(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{De.pipe(mi()).subscribe();const Oe=De.pipe(lr(Ue=>Ue.getRedirectResult().then(et=>et,()=>null)),nr.iC,hF({bufferSize:1,refCount:!1})),Ne=De.pipe(lr(Ue=>new gn.y(et=>({unsubscribe:u.runOutsideAngular(()=>Ue.onAuthStateChanged(Lt=>et.next(Lt),Lt=>et.error(Lt),()=>et.complete()))})))),xe=De.pipe(lr(Ue=>new gn.y(et=>({unsubscribe:u.runOutsideAngular(()=>Ue.onIdTokenChanged(Lt=>et.next(Lt),Lt=>et.error(Lt),()=>et.complete()))}))));this.authState=Oe.pipe(fF(Ne),(0,gN.R)(h.outsideAngular),(0,Yc.Q)(h.insideAngular)),this.user=Oe.pipe(fF(xe),(0,gN.R)(h.outsideAngular),(0,Yc.Q)(h.insideAngular)),this.idToken=this.user.pipe(lr(Ue=>Ue?(0,On.D)(Ue.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(lr(Ue=>Ue?(0,On.D)(Ue.getIdTokenResult()):nt(null))),this.credential=(0,pN.T)(Oe,X,this.authState.pipe(Sr(Ue=>!Ue))).pipe((0,st.U)(Ue=>(null==Ue?void 0:Ue.user)?Ue:null),(0,gN.R)(h.outsideAngular),(0,Yc.Q)(h.insideAngular))}return(0,Ka.pX)(this,De,u,{spy:{apply:(ye,Oe,Ne)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&Ne.then(xe=>X.next(xe))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ka.Dh),c.LFG(Ka.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(nr.HU),c.LFG(pF,8),c.LFG(gF,8),c.LFG(mF,8),c.LFG(_F,8),c.LFG(yF,8),c.LFG(vF,8),c.LFG($w,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function DF(n,e){return function IG(n,e=eb.z){return new gn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function mN(n,e){return DF(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function eE(n,e){return mN(n,e).pipe(vl(void 0),lN(),(0,st.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,g)=>{const v=i.find(A=>A.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),u}))}function EF(n,e,t){return eE(n,t).pipe(kc((r,i)=>function AG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function NG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _N(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _N(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _N(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),Ih(),(0,st.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function _N(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function TF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class CF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=eE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(vl(void 0),lN(),Sr(([r,i])=>i.length>0||!r),(0,st.U)(([r,i])=>i),nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(kc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TF(e);return EF(this.query,t,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return mN(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),nr.iC)}get(e){return(0,On.D)(this.query.get(e)).pipe(nr.iC)}add(e){return this.ref.add(e)}doc(e){return new IF(this.ref.doc(e),this.afs)}}class IF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=SF(r,t);return new CF(i,u,this.afs)}snapshotChanges(){return function SG(n,e){return DF(n,e).pipe(vl(void 0),lN(),(0,st.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,On.D)(this.ref.get(e)).pipe(nr.iC)}}class MG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?eE(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Sr(t=>t.length>0),nr.iC):eE(this.query,this.afs.schedulers.outsideAngular).pipe(nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(kc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TF(e);return EF(this.query,t,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return mN(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),nr.iC)}get(e){return(0,On.D)(this.query.get(e)).pipe(nr.iC)}}const OG=new c.OlP("angularfire2.enableFirestorePersistence"),RG=new c.OlP("angularfire2.firestore.persistenceSettings"),xG=new c.OlP("angularfire2.firestore.settings"),kG=new c.OlP("angularfire2.firestore.use-emulator");function SF(n,e=(t=>t)){return{query:e(n),ref:n}}let AF=(()=>{class n{constructor(t,r,i,u,h,g,v,T,A,M,F,j,X,De,ye,Oe,Ne){this.schedulers=v;const xe=(0,Ka.on)(t,g,r),Ue=A;M&&bF(xe,g,F,X,De,ye,j,Oe),[this.firestore,this.persistenceEnabled$]=(0,Ka.cc)(`${xe.name}.firestore`,"AngularFirestore",xe.name,()=>{const et=g.runOutsideAngular(()=>xe.firestore());if(u&&et.settings(u),Ue&&et.useEmulator(...Ue),i&&!Vu(h)){const Lt=()=>{try{return(0,On.D)(et.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(jn){return"undefined"!=typeof console&&console.warn(jn),nt(!1)}};return[et,g.runOutsideAngular(Lt)]}return[et,nt(!1)]},[u,Ue,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=SF(i,r),g=this.schedulers.ngZone.run(()=>u);return new CF(g,h,this)}collectionGroup(t,r){const i=r||(h=>h),u=this.firestore.collectionGroup(t);return new MG(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new IF(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ka.Dh),c.LFG(Ka.xv,8),c.LFG(OG,8),c.LFG(xG,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(nr.HU),c.LFG(RG,8),c.LFG(kG,8),c.LFG(wF,8),c.LFG(pF,8),c.LFG(gF,8),c.LFG(mF,8),c.LFG(_F,8),c.LFG(yF,8),c.LFG(vF,8),c.LFG($w,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yN=(()=>{class n{constructor(t){this.afs=t,this.dbpath="/datos",this.storageVar="loguedUser",this.loggedIn=!1,this.logger=new tn.x,this.firestoreRef=t.collection(this.dbpath)}getAllUsuarios(){return this.firestoreRef.valueChanges({idField:"id"})}isLoggedIn(){let t=localStorage.getItem(this.storageVar);return this.loggedIn=null!=t,this.logger.next(this.loggedIn),nt(this.loggedIn)}logIn(t,r){return this.getAllUsuarios().forEach(i=>{i.forEach(u=>{t===u.nombre&&r===u.password&&(localStorage.setItem(this.storageVar,JSON.stringify(u)),this.loggedIn=!0,this.logger.next(this.loggedIn))})}),nt(this.loggedIn)}logOut(){return localStorage.removeItem(this.storageVar),this.loggedIn=!1,this.logger.next(this.loggedIn),nt(this.loggedIn)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(AF))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),vN=(()=>{class n{constructor(t){this.afs=t,this.dbpath="/articulos",this.firestoreRef=t.collection(this.dbpath)}getAllArticles(){return this.firestoreRef.valueChanges({idField:"id"}).pipe((0,st.U)(t=>t.map(r=>{for(let i=0;i<r.Imagenes.length;i++)r.Imagenes[i]=r.Imagenes[i].trim().replace("https://drive.google.com/file/d/","https://drive.google.com/uc?id=").replace("/view?usp=sharing","");return r})))}create(t){var r=this;return(0,l.Z)(function*(){return new Promise((i,u)=>{r.firestoreRef.add(t)})})()}update(t,r){return this.firestoreRef.doc(t).update(r)}delete(t){return this.firestoreRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(AF))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const PG=["myModalLogin"],FG=["myModalNuevoArticulo"];function LG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",6),c.NdJ("click",function(){return c.CHM(t),c.oxw().abrirModalLogin()}),c._uU(1," Entrar\n"),c.qZA()}}function VG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",7),c.TgZ(1,"a",8),c.NdJ("click",function(){return c.CHM(t),c.oxw().abrirModalArticulo()}),c._uU(2," Agregar art\xedculo"),c.qZA(),c.qZA(),c.TgZ(3,"li",7),c.TgZ(4,"a",8),c.NdJ("click",function(){return c.CHM(t),c.oxw().logout()}),c._uU(5," Salir "),c.qZA(),c.qZA()}}function UG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",9),c.TgZ(1,"div",10),c.TgZ(2,"h5",11),c._uU(3,"Iniciar sesi\xf3n"),c.qZA(),c.TgZ(4,"button",12),c.NdJ("click",function(){return c.CHM(t).$implicit.close()}),c.TgZ(5,"span",13),c._uU(6,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"div",14),c.TgZ(8,"form",15),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().onLoginSubmit()}),c.TgZ(9,"div",16),c.TgZ(10,"label"),c._uU(11,"Usuario"),c.qZA(),c._UZ(12,"input",17),c.qZA(),c.TgZ(13,"div",16),c.TgZ(14,"label"),c._uU(15,"Password"),c.qZA(),c._UZ(16,"input",18),c.qZA(),c.TgZ(17,"div",19),c.TgZ(18,"button",20),c.NdJ("click",function(){return c.CHM(t).$implicit.close()}),c._uU(19,"Cancelar"),c.qZA(),c.TgZ(20,"button",21),c._uU(21,"Entrar"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=c.oxw();c.xp6(8),c.Q6J("formGroup",t.loginForm)}}function BG(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",22),c.TgZ(1,"div",10),c.TgZ(2,"h5",11),c._uU(3,"Agregar art\xedculo"),c.qZA(),c.TgZ(4,"button",12),c.NdJ("click",function(){return c.CHM(t).$implicit.close()}),c.TgZ(5,"span",13),c._uU(6,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"div",14),c.TgZ(8,"form",15),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().onNuevoArticuloSubmit()}),c.TgZ(9,"div",16),c.TgZ(10,"label"),c._uU(11,"Descripci\xf3n"),c.qZA(),c._UZ(12,"input",23),c.qZA(),c.TgZ(13,"div",16),c.TgZ(14,"label"),c._uU(15,"Precio"),c.qZA(),c._UZ(16,"input",24),c.qZA(),c.TgZ(17,"div",16),c.TgZ(18,"label"),c._uU(19,"Imagen 1"),c.qZA(),c._UZ(20,"input",25),c.qZA(),c.TgZ(21,"div",16),c.TgZ(22,"label"),c._uU(23,"Imagen 2"),c.qZA(),c._UZ(24,"input",26),c.qZA(),c.TgZ(25,"div",19),c.TgZ(26,"button",20),c.NdJ("click",function(){return c.CHM(t).$implicit.close()}),c._uU(27,"Cancelar"),c.qZA(),c.TgZ(28,"button",21),c._uU(29,"Guardar"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=c.oxw();c.xp6(8),c.Q6J("formGroup",t.nuevoArticuloForm)}}let jG=(()=>{class n{constructor(t,r,i,u){this.store=t,this.modalService=r,this.usuarioService=i,this.articuloService=u,this.isLoggued$=!1,this.loginForm=new ll({username:new Fs(""),password:new Fs("")}),this.nuevoArticuloForm=new ll({descripcion:new Fs(""),precio:new Fs(""),imagen1:new Fs(""),imagen2:new Fs("")}),this.usuarios$=t.select(iF),i.isLoggedIn().subscribe(h=>{console.log("loggedIn",h),this.isLoggued$=h})}ngOnInit(){this.store.dispatch(eF())}abrirModalLogin(){this.modalService.open(this.myModalLogin)}abrirModalArticulo(){this.modalService.open(this.myModalNuevoArticulo)}onLoginSubmit(){if(this.loginForm){let t=this.loginForm.get("username"),r=this.loginForm.get("password");t&&r&&this.store.dispatch(nF({username:t.value,password:r.value}))}this.modalService.dismissAll(),this.loginForm.reset()}onNuevoArticuloSubmit(){let t=this.nuevoArticuloForm.get("descripcion"),r=this.nuevoArticuloForm.get("precio"),i=this.nuevoArticuloForm.get("imagen1"),u=this.nuevoArticuloForm.get("imagen2");if(t&&r&&i){let h={Descripcion:t.value,Precio:r.value,Imagenes:[i.value]};(null==u?void 0:u.value)&&h.Imagenes.push(u.value),this.store.dispatch(Op({articulo:h})),this.modalService.dismissAll(),this.nuevoArticuloForm.reset()}}logout(){this.store.dispatch(rF())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(js),c.Y36(U_),c.Y36(yN),c.Y36(vN))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(t,r){if(1&t&&(c.Gf(PG,5),c.Gf(FG,5)),2&t){let i;c.iGM(i=c.CRH())&&(r.myModalLogin=i.first),c.iGM(i=c.CRH())&&(r.myModalNuevoArticulo=i.first)}},decls:9,vars:2,consts:[["id","navbarSupportedContent",1,"collapse","navbar-collapse"],["id","nav",1,"navbar-nav","ml-auto"],["class","nav-item active",3,"click",4,"ngIf","ngIfElse"],["loggedIn",""],["myModalLogin",""],["myModalNuevoArticulo",""],[1,"nav-item","active",3,"click"],[1,"nav-item","active"],["href","#",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","name","usuario","placeholder","Usuario","formControlName","username",1,"form-control"],["type","text","name","password","placeholder","Password","formControlName","password",1,"form-control"],["role","group",1,"btn-group","btn-group-lg","d-flex"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"modal-content","modal-lg"],["type","text","name","descripcion","placeholder","Descripci\xf3n del art\xedculo","formControlName","descripcion",1,"form-control"],["type","number","name","precio","placeholder","Precio","formControlName","precio",1,"form-control"],["type","text","name","imagen1","placeholder","Imagen 1","formControlName","imagen1",1,"form-control"],["type","text","name","imagen2","placeholder","Imagen 2","formControlName","imagen2",1,"form-control"]],template:function(t,r){if(1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"ul",1),c.YNc(2,LG,2,0,"li",2),c.YNc(3,VG,6,0,"ng-template",null,3,c.W1O),c.qZA(),c.qZA(),c.YNc(5,UG,22,1,"ng-template",null,4,c.W1O),c.YNc(7,BG,30,1,"ng-template",null,5,c.W1O)),2&t){const i=c.MAs(4);c.xp6(2),c.Q6J("ngIf",!r.isLoggued$)("ngIfElse",i)}},directives:[zn,Ac,lo,Mc,As,cu,Wi,Qd],styles:[""]}),n})();const GG={articuloState:function I1(n,e){return G0(n,e)},usuarioState:function uG(n,e){return aG(n,e)}};class rc{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){return NF(this,e)}do(e,t,r){const{kind:i,value:u,error:h}=this;return"N"===i?null==e?void 0:e(u):"E"===i?null==t?void 0:t(h):null==r?void 0:r()}accept(e,t,r){var i;return(0,go.m)(null===(i=e)||void 0===i?void 0:i.next)?this.observe(e):this.do(e,t,r)}toObservable(){const{kind:e,value:t,error:r}=this,i="N"===e?nt(t):"E"===e?function $G(n,e){const t=(0,go.m)(n)?n:()=>n,r=i=>i.error(t());return new gn.y(e?i=>e.schedule(r,0,i):r)}(()=>r):"C"===e?Ua.E:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new rc("N",e)}static createError(e){return new rc("E",void 0,e)}static createComplete(){return rc.completeNotification}}function NF(n,e){var t,r,i;const{kind:u,value:h,error:g}=n;if("string"!=typeof u)throw new TypeError('Invalid notification, missing "kind"');"N"===u?null===(t=e.next)||void 0===t||t.call(e,h):"E"===u?null===(r=e.error)||void 0===r||r.call(e,g):null===(i=e.complete)||void 0===i||i.call(e)}function MF(n,e,t,r){return(0,Ir.e)((i,u)=>{let h;e&&"function"!=typeof e?({duration:t,element:h,connector:r}=e):h=e;const g=new Map,v=F=>{g.forEach(F),F(u)},T=F=>v(j=>j.error(F)),A=new WG(u,F=>{try{const j=n(F);let X=g.get(j);if(!X){g.set(j,X=r?r():new tn.x);const De=function M(F,j){const X=new gn.y(De=>{A.activeGroups++;const ye=j.subscribe(De);return()=>{ye.unsubscribe(),0==--A.activeGroups&&A.teardownAttempted&&A.unsubscribe()}});return X.key=F,X}(j,X);if(u.next(De),t){const ye=new Yt.Q(X,()=>{X.complete(),null==ye||ye.unsubscribe()},void 0,void 0,()=>g.delete(j));A.add((0,$r.Xf)(t(De)).subscribe(ye))}}X.next(h?h(F):F)}catch(j){T(j)}},()=>v(F=>F.complete()),T,()=>g.clear());i.subscribe(A)})}rc.completeNotification=new rc("C");class WG extends Yt.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}function OF(n,e){return e?t=>t.pipe(OF((r,i)=>(0,$r.Xf)(n(r,i)).pipe((0,st.U)((u,h)=>e(r,u,i,h))))):(0,Ir.e)((t,r)=>{let i=0,u=null,h=!1;t.subscribe(new Yt.Q(r,g=>{u||(u=new Yt.Q(r,void 0,()=>{u=null,h&&r.complete()}),(0,$r.Xf)(n(g,i++)).subscribe(u))},()=>{h=!0,!u&&r.complete()}))})}const RF={dispatch:!0,useEffectsErrorHandler:!0},tE="__@ngrx/effects_create__";function cv(n,e){const t=n(),r=Object.assign(Object.assign({},RF),e);return Object.defineProperty(t,tE,{value:r}),t}function qG(n){return Object.getOwnPropertyNames(n).filter(r=>!(!n[r]||!n[r].hasOwnProperty(tE))&&n[r][tE].hasOwnProperty("dispatch")).map(r=>Object.assign({propertyName:r},n[r][tE]))}function bN(n){return Object.getPrototypeOf(n)}const nE="__@ngrx/effects__";function ZG(n){return Eu(KG,bN)(n)}function KG(n){return function xF(n){return n.constructor.hasOwnProperty(nE)}(n)?n.constructor[nE]:[]}function QG(n,e,t){const r=bN(n).constructor.name,i=function kF(n){return[ZG,qG].reduce((t,r)=>t.concat(r(n)),[])}(n).map(({propertyName:u,dispatch:h,useEffectsErrorHandler:g})=>{const v="function"==typeof n[u]?n[u]():n[u],T=g?t(v,e):v;return!1===h?T.pipe(function Pl(){return(0,Ir.e)((n,e)=>{n.subscribe(new Yt.Q(e,Th.Z))})}()):T.pipe(function HG(){return(0,Ir.e)((n,e)=>{n.subscribe(new Yt.Q(e,t=>{e.next(rc.createNext(t))},()=>{e.next(rc.createComplete()),e.complete()},t=>{e.next(rc.createError(t)),e.complete()}))})}()).pipe((0,st.U)(M=>({effect:n[u],notification:M,propertyName:u,sourceName:r,sourceInstance:n})))});return(0,pN.T)(...i)}function PF(n,e,t=10){return n.pipe(Ba(r=>(e&&e.handleError(r),t<=1?n:PF(n,e,t-1))))}let wN=(()=>{class n extends gn.y{constructor(t){super(),t&&(this.source=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Lr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function dv(...n){return Sr(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function u$(n){return DN(n,"ngrxOnInitEffects")}function DN(n,e){return n&&e in n&&"function"==typeof n[e]}const FF=new c.OlP("@ngrx/effects Internal Root Guard"),rE=new c.OlP("@ngrx/effects User Provided Effects"),EN=new c.OlP("@ngrx/effects Internal Root Effects"),LF=new c.OlP("@ngrx/effects Root Effects"),VF=new c.OlP("@ngrx/effects Internal Feature Effects"),UF=new c.OlP("@ngrx/effects Feature Effects"),BF=new c.OlP("@ngrx/effects Effects Error Handler");let TN=(()=>{class n extends tn.x{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(MF(bN),(0,Ar.z)(t=>t.pipe(MF(l$))),(0,Ar.z)(t=>{const r=t.pipe(OF(u=>function c$(n,e){return t=>{const r=QG(t,n,e);return function o$(n){return DN(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(u)),(0,st.U)(u=>(function XG(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function e$(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function t$({propertyName:n,sourceInstance:e,sourceName:t}){const r="function"==typeof e[n];return`"${t}.${String(n)}${r?"()":""}"`}(n)} dispatched an invalid action: ${function n$(n){try{return JSON.stringify(n)}catch(e){return n}}(t)}`))}}(u,this.errorHandler),u.notification)),Sr(u=>"N"===u.kind&&null!=u.value),function zG(){return(0,Ir.e)((n,e)=>{n.subscribe(new Yt.Q(e,t=>NF(t,e)))})}()),i=t.pipe((0,Oi.q)(1),Sr(u$),(0,st.U)(u=>u.ngrxOnInitEffects()));return(0,pN.T)(r,i)}))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.qLn),c.LFG(BF))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function l$(n){return function i$(n){return DN(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let CN=(()=>{class n{constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(TN),c.LFG(js))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jF="@ngrx/effects/init";Ki(jF);let GF=(()=>{class n{constructor(t,r,i,u,h,g,v){this.sources=t,r.start(),u.forEach(T=>t.addEffects(T)),i.dispatch({type:jF})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(TN),c.LFG(CN),c.LFG(js),c.LFG(LF),c.LFG(xl,8),c.LFG(n_,8),c.LFG(FF,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),d$=(()=>{class n{constructor(t,r,i,u){r.forEach(h=>h.forEach(g=>t.addEffects(g)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(GF),c.LFG(UF),c.LFG(xl,8),c.LFG(n_,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),h$=(()=>{class n{static forFeature(t=[]){return{ngModule:d$,providers:[t,{provide:VF,multi:!0,useValue:t},{provide:rE,multi:!0,useValue:[]},{provide:UF,multi:!0,useFactory:$F,deps:[c.zs3,VF,rE]}]}}static forRoot(t=[]){return{ngModule:GF,providers:[{provide:BF,useValue:PF},CN,TN,wN,t,{provide:EN,useValue:[t]},{provide:FF,useFactory:p$,deps:[[CN,new c.FiY,new c.tp0],[EN,new c.PiD]]},{provide:rE,multi:!0,useValue:[]},{provide:LF,useFactory:$F,deps:[c.zs3,EN,rE]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function $F(n,e,t){const r=[];for(const i of e)r.push(...i);for(const i of t)r.push(...i);return function f$(n,e){return e.map(t=>n.get(t))}(n,r)}function p$(n,e){if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let g$=(()=>{class n{constructor(t,r){this.actions$=t,this.articleService=r,this.loadAllArticles$=cv(()=>this.actions$.pipe(dv(td),lr(()=>this.articleService.getAllArticles().pipe((0,st.U)(i=>s_({payload:{articulos:i}})))))),this.createArticle$=cv(()=>this.actions$.pipe(dv(Op),(0,si.b)(i=>{console.log(i.articulo)}),lr(i=>this.articleService.create(i.articulo).then(u=>u?b1({articulo:u}):i_()))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wN),c.LFG(vN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),m$=(()=>{class n{constructor(t,r){this.actions$=t,this.usuarioService=r,this.loadAllArticles$=cv(()=>this.actions$.pipe(dv(eF),lr(()=>this.usuarioService.getAllUsuarios().pipe((0,st.U)(i=>tF({payload:{usuarios:i}})))))),this.login$=cv(()=>this.actions$.pipe(dv(nF),lr(i=>this.usuarioService.logIn(i.username,i.password).pipe((0,si.b)(()=>window.location.reload()),(0,st.U)(u=>u?Xj():eG()))))),this.logout$=cv(()=>this.actions$.pipe(dv(rF),lr(()=>this.usuarioService.logOut().pipe((0,si.b)(()=>window.location.reload()),(0,st.U)(()=>tG())))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wN),c.LFG(yN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),_$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[jC,jG]}),n.\u0275inj=c.cJS({providers:[vN,yN],imports:[[kd,Lm,Ka.hO.initializeApp(X__firebase),F0.forRoot(GG),h$.forRoot([g$,m$]),Qj(()=>Jj()),LC,Yn]]}),n})();(0,c.G48)(),Hu().bootstrapModule(_$).catch(n=>console.error(n))},5867:(lt,Te,k)=>{"use strict";k.d(Te,{Mq:()=>c.getApp,C6:()=>c.getApps,KN:()=>c.registerVersion});var c=k(9681);(0,c.registerVersion)("firebase","9.6.3","app")},127:(lt,Te,k)=>{"use strict";k.d(Te,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.6.3","app-compat")},5881:(lt,Te,k)=>{"use strict";k.r(Te);var c=k(5861),V=k(3942),x=k(5799),ne=k(2090),ue=(k(9681),k(1877),k(4859));function re(){return window}function G(){return(G=(0,c.Z)(function*(oe,q,H){var Ee;const{BuildInfo:qe}=re();(0,x.ap)(q.sessionId,"AuthEvent did not contain a session ID");const St=yield ie(q.sessionId),gt={};return(0,x.aq)()?gt.ibi=qe.packageName:(0,x.ar)()?gt.apn=qe.packageName:(0,x.as)(oe,"operation-not-supported-in-this-environment"),qe.displayName&&(gt.appDisplayName=qe.displayName),gt.sessionId=St,(0,x.at)(oe,H,q.type,void 0,null!==(Ee=q.eventId)&&void 0!==Ee?Ee:void 0,gt)})).apply(this,arguments)}function Ge(){return(Ge=(0,c.Z)(function*(oe){const{BuildInfo:q}=re(),H={};(0,x.aq)()?H.iosBundleId=q.packageName:(0,x.ar)()?H.androidPackageName=q.packageName:(0,x.as)(oe,"operation-not-supported-in-this-environment"),yield(0,x.au)(oe,H)})).apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(oe,q,H){const{cordova:Ee}=re();let qe=()=>{};try{yield new Promise((St,gt)=>{let Pt=null;function vn(){var Bt;St();const or=null===(Bt=Ee.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof or&&or(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function en(){Pt||(Pt=window.setTimeout(()=>{gt((0,x.av)(oe,"redirect-cancelled-by-user"))},2e3))}function Hn(){"visible"===(null==document?void 0:document.visibilityState)&&en()}q.addPassiveListener(vn),document.addEventListener("resume",en,!1),(0,x.ar)()&&document.addEventListener("visibilitychange",Hn,!1),qe=()=>{q.removePassiveListener(vn),document.removeEventListener("resume",en,!1),document.removeEventListener("visibilitychange",Hn,!1),Pt&&window.clearTimeout(Pt)}})}finally{qe()}})).apply(this,arguments)}function ie(oe){return fe.apply(this,arguments)}function fe(){return(fe=(0,c.Z)(function*(oe){const q=Ce(oe),H=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(H)).map(qe=>qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ce(oe){if((0,x.ap)(/[0-9a-zA-Z]+/.test(oe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(oe);const q=new ArrayBuffer(oe.length),H=new Uint8Array(q);for(let Ee=0;Ee<oe.length;Ee++)H[Ee]=oe.charCodeAt(Ee);return H}class ze extends x.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(q)),super.onEvent(q)}initialized(){var q=this;return(0,c.Z)(function*(){yield q.initPromise})()}}function Ke(oe){return mt.apply(this,arguments)}function mt(){return(mt=(0,c.Z)(function*(oe){const q=yield ge()._get(we(oe));return q&&(yield ge()._remove(we(oe))),q})).apply(this,arguments)}function pe(){const oe=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const Ee=Math.floor(Math.random()*q.length);oe.push(q.charAt(Ee))}return oe.join("")}function ge(){return(0,x.ax)(x.b)}function we(oe){return(0,x.ay)("authEvent",oe.config.apiKey,oe.name)}function It(oe){if(!(null==oe?void 0:oe.includes("?")))return{};const[q,...H]=oe.split("?");return(0,ne.zd)(H.join("?"))}function ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.av)("no-auth-event")}}function Vr(){var oe;return(null===(oe=null==self?void 0:self.location)||void 0===oe?void 0:oe.protocol)||null}function _n(oe=(0,ne.z$)()){return!("file:"!==Vr()&&"ionic:"!==Vr()||!oe.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xr(){try{const oe=self.localStorage,q=x.aG();if(oe)return oe.setItem(q,"1"),oe.removeItem(q),!function Jr(oe=(0,ne.z$)()){return function Kt(){return(0,ne.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ns(oe=(0,ne.z$)()){return/Edge\/\d+/.test(oe)}(oe)}()||(0,ne.hl)()}catch(oe){return Le()&&(0,ne.hl)()}return!1}function Le(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return(function Qr(){return"http:"===Vr()||"https:"===Vr()}()||(0,ne.ru)()||_n())&&!function Sn(){return(0,ne.b$)()||(0,ne.UG)()}()&&Xr()&&!Le()}function Jn(){return _n()&&"undefined"!=typeof document}function Tn(){return(Tn=(0,c.Z)(function*(){return!!Jn()&&new Promise(oe=>{const q=setTimeout(()=>{oe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),oe(!0)})})})).apply(this,arguments)}const qt={LOCAL:"local",NONE:"none",SESSION:"session"},Cn=x.aw,Ur="persistence";function ot(oe){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(oe){yield oe._initializationPromise;const q=Gn(),H=x.ay(Ur,oe.config.apiKey,oe.name);(null==q?void 0:q.sessionStorage)&&q.sessionStorage.setItem(H,oe._getPersistence())})).apply(this,arguments)}function Gn(){return"undefined"!=typeof window?window:null}const xt=x.aw;class tt{constructor(){this.browserResolver=x.ax(x.k),this.cordovaResolver=x.ax(class Qn{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aA}_initialize(q){var H=this;return(0,c.Z)(function*(){const Ee=q._key();let qe=H.eventManagers.get(Ee);return qe||(qe=new ze(q),H.eventManagers.set(Ee,qe),H.attachCallbackListeners(q,qe)),qe})()}_openPopup(q){(0,x.as)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,H,Ee,qe){var St=this;return(0,c.Z)(function*(){!function K(oe){var q,H,Ee,qe,St,gt,Pt,vn,en,Hn;const Bt=re();(0,x.aw)("function"==typeof(null===(q=null==Bt?void 0:Bt.universalLinks)||void 0===q?void 0:q.subscribe),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.aw)(void 0!==(null===(H=null==Bt?void 0:Bt.BuildInfo)||void 0===H?void 0:H.packageName),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.aw)("function"==typeof(null===(St=null===(qe=null===(Ee=null==Bt?void 0:Bt.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===St?void 0:St.openUrl),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aw)("function"==typeof(null===(vn=null===(Pt=null===(gt=null==Bt?void 0:Bt.cordova)||void 0===gt?void 0:gt.plugins)||void 0===Pt?void 0:Pt.browsertab)||void 0===vn?void 0:vn.isAvailable),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.aw)("function"==typeof(null===(Hn=null===(en=null==Bt?void 0:Bt.cordova)||void 0===en?void 0:en.InAppBrowser)||void 0===Hn?void 0:Hn.open),oe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const gt=yield St._initialize(q);yield gt.initialized(),gt.resetRedirect(),(0,x.aB)(),yield St._originValidation(q);const Pt=function Ie(oe,q,H=null){return{type:q,eventId:H,urlResponse:null,sessionId:pe(),postBody:null,tenantId:oe.tenantId,error:(0,x.av)(oe,"no-auth-event")}}(q,Ee,qe);yield function ut(oe,q){return ge()._set(we(oe),q)}(q,Pt);const vn=yield function B(oe,q,H){return G.apply(this,arguments)}(q,Pt,H),en=yield function Se(oe){const{cordova:q}=re();return new Promise(H=>{q.plugins.browsertab.isAvailable(Ee=>{let qe=null;Ee?q.plugins.browsertab.openUrl(oe):qe=q.InAppBrowser.open(oe,(0,x.ao)()?"_blank":"_system","location=yes"),H(qe)})})}(vn);return function ke(oe,q,H){return je.apply(this,arguments)}(q,gt,en)})()}_isIframeWebStorageSupported(q,H){throw new Error("Method not implemented.")}_originValidation(q){const H=q._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ee(oe){return Ge.apply(this,arguments)}(q)),this.originValidationPromises[H]}attachCallbackListeners(q,H){const{universalLinks:Ee,handleOpenURL:qe,BuildInfo:St}=re(),gt=setTimeout((0,c.Z)(function*(){yield Ke(q),H.onEvent(ft())}),500),Pt=function(){var Hn=(0,c.Z)(function*(Bt){clearTimeout(gt);const or=yield Ke(q);let ws=null;or&&(null==Bt?void 0:Bt.url)&&(ws=function J(oe,q){var H,Ee;const qe=function ce(oe){const q=It(oe),H=q.link?decodeURIComponent(q.link):void 0,Ee=It(H).link,qe=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return It(qe).link||qe||Ee||H||oe}(q);if(qe.includes("/__/auth/callback")){const St=It(qe),gt=St.firebaseError?function Ve(oe){try{return JSON.parse(oe)}catch(q){return null}}(decodeURIComponent(St.firebaseError)):null,Pt=null===(Ee=null===(H=null==gt?void 0:gt.code)||void 0===H?void 0:H.split("auth/"))||void 0===Ee?void 0:Ee[1],vn=Pt?(0,x.av)(Pt):null;return vn?{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,error:vn,urlResponse:null,sessionId:null,postBody:null}:{type:oe.type,eventId:oe.eventId,tenantId:oe.tenantId,sessionId:oe.sessionId,urlResponse:qe,postBody:null}}return null}(or,Bt.url)),H.onEvent(ws||ft())});return function(or){return Hn.apply(this,arguments)}}();void 0!==Ee&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,Pt);const vn=qe,en=`${St.packageName.toLowerCase()}://`;re().handleOpenURL=function(){var Hn=(0,c.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(en)&&Pt({url:Bt}),"function"==typeof vn)try{vn(Bt)}catch(or){console.error(or)}});return function(Bt){return Hn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aA}_initialize(q){var H=this;return(0,c.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,H,Ee,qe){var St=this;return(0,c.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openPopup(q,H,Ee,qe)})()}_openRedirect(q,H,Ee,qe){var St=this;return(0,c.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openRedirect(q,H,Ee,qe)})()}_isIframeWebStorageSupported(q,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,H)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return Jn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,c.Z)(function*(){if(q.underlyingResolver)return;const H=yield function yt(){return Tn.apply(this,arguments)}();q.underlyingResolver=H?q.cordovaResolver:q.browserResolver})()}}function pt(oe){return oe.unwrap()}function un(oe){return Bi(oe)}function Bi(oe){const{_tokenResponse:q}=oe instanceof ne.ZR?oe.customData:oe;if(!q)return null;if(!(oe instanceof ne.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return x.P.credentialFromResult(oe);const H=q.providerId;if(!H||H===x.o.PASSWORD)return null;let Ee;switch(H){case x.o.GOOGLE:Ee=x.N;break;case x.o.FACEBOOK:Ee=x.M;break;case x.o.GITHUB:Ee=x.Q;break;case x.o.TWITTER:Ee=x.V;break;default:const{oauthIdToken:qe,oauthAccessToken:St,oauthTokenSecret:gt,pendingToken:Pt,nonce:vn}=q;return St||gt||qe||Pt?Pt?H.startsWith("saml.")?x.aJ._create(H,Pt):x.I._fromParams({providerId:H,signInMethod:H,pendingToken:Pt,idToken:qe,accessToken:St}):new x.T(H).credential({idToken:qe,accessToken:St,rawNonce:vn}):null}return oe instanceof ne.ZR?Ee.credentialFromError(oe):Ee.credentialFromResult(oe)}function nn(oe,q){return q.catch(H=>{throw H instanceof ne.ZR&&function vt(oe,q){var H;const Ee=null===(H=q.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===q.code)q.resolver=new W(oe,x.am(oe,q));else if(Ee){const qe=Bi(q),St=q;qe&&(St.credential=qe,St.tenantId=Ee.tenantId||void 0,St.email=Ee.email||void 0,St.phoneNumber=Ee.phoneNumber||void 0)}}(oe,H),H}).then(H=>{const qe=H.user;return{operationType:H.operationType,credential:un(H),additionalUserInfo:x.ak(H),user:z.getOrCreate(qe)}})}function Br(oe,q){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(oe,q){const H=yield q;return{verificationId:H.verificationId,confirm:Ee=>nn(oe,H.confirm(Ee))}})).apply(this,arguments)}class W{constructor(q,H){this.resolver=H,this.auth=function oa(oe){return oe.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return nn(pt(this.auth),this.resolver.resolveSignIn(q))}}class z{constructor(q){this._delegate=q,this.multiFactor=x.an(q)}static getOrCreate(q){return z.USER_MAP.has(q)||z.USER_MAP.set(q,new z(q)),z.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var H=this;return(0,c.Z)(function*(){return nn(H.auth,x.Y(H._delegate,q))})()}linkWithPhoneNumber(q,H){var Ee=this;return(0,c.Z)(function*(){return Br(Ee.auth,x.l(Ee._delegate,q,H))})()}linkWithPopup(q){var H=this;return(0,c.Z)(function*(){return nn(H.auth,x.d(H._delegate,q,tt))})()}linkWithRedirect(q){var H=this;return(0,c.Z)(function*(){return yield ot(x.aC(H.auth)),x.g(H._delegate,q,tt)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var H=this;return(0,c.Z)(function*(){return nn(H.auth,x.Z(H._delegate,q))})()}reauthenticateWithPhoneNumber(q,H){return Br(this.auth,x.r(this._delegate,q,H))}reauthenticateWithPopup(q){return nn(this.auth,x.e(this._delegate,q,tt))}reauthenticateWithRedirect(q){var H=this;return(0,c.Z)(function*(){return yield ot(x.aC(H.auth)),x.h(H._delegate,q,tt)})()}sendEmailVerification(q){return x.aa(this._delegate,q)}unlink(q){var H=this;return(0,c.Z)(function*(){return yield x.aj(H._delegate,q),H})()}updateEmail(q){return x.af(this._delegate,q)}updatePassword(q){return x.ag(this._delegate,q)}updatePhoneNumber(q){return x.u(this._delegate,q)}updateProfile(q){return x.ae(this._delegate,q)}verifyBeforeUpdateEmail(q,H){return x.ab(this._delegate,q,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}z.USER_MAP=new WeakMap;const be=x.aw;let te=(()=>{class oe{constructor(H,Ee){if(this.app=H,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:qe}=H.options;be(qe,"invalid-api-key",{appName:H.name}),be(qe,"invalid-api-key",{appName:H.name});const St="undefined"!=typeof window?tt:void 0;this._delegate=Ee.initialize({options:{persistence:bt(qe,H.name),popupRedirectResolver:St}}),this._delegate._updateErrorMap(x.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?z.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,Ee){x.E(this._delegate,H,Ee)}applyActionCode(H){return x.a1(this._delegate,H)}checkActionCode(H){return x.a2(this._delegate,H)}confirmPasswordReset(H,Ee){return x.a0(this._delegate,H,Ee)}createUserWithEmailAndPassword(H,Ee){var qe=this;return(0,c.Z)(function*(){return nn(qe._delegate,x.a4(qe._delegate,H,Ee))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return x.a9(this._delegate,H)}isSignInWithEmailLink(H){return x.a7(this._delegate,H)}getRedirectResult(){var H=this;return(0,c.Z)(function*(){be(yn(),H._delegate,"operation-not-supported-in-this-environment");const Ee=yield x.j(H._delegate,tt);return Ee?nn(H._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function fr(oe,q){(0,x.aC)(oe)._logFramework(q)}(this._delegate,H)}onAuthStateChanged(H,Ee,qe){const{next:St,error:gt,complete:Pt}=Qe(H,Ee,qe);return this._delegate.onAuthStateChanged(St,gt,Pt)}onIdTokenChanged(H,Ee,qe){const{next:St,error:gt,complete:Pt}=Qe(H,Ee,qe);return this._delegate.onIdTokenChanged(St,gt,Pt)}sendSignInLinkToEmail(H,Ee){return x.a6(this._delegate,H,Ee)}sendPasswordResetEmail(H,Ee){return x.$(this._delegate,H,Ee||void 0)}setPersistence(H){var Ee=this;return(0,c.Z)(function*(){let qe;switch(function Dt(oe,q){Cn(Object.values(qt).includes(q),oe,"invalid-persistence-type"),(0,ne.b$)()?Cn(q!==qt.SESSION,oe,"unsupported-persistence-type"):(0,ne.UG)()?Cn(q===qt.NONE,oe,"unsupported-persistence-type"):Le()?Cn(q===qt.NONE||q===qt.LOCAL&&(0,ne.hl)(),oe,"unsupported-persistence-type"):Cn(q===qt.NONE||Xr(),oe,"unsupported-persistence-type")}(Ee._delegate,H),H){case qt.SESSION:qe=x.a;break;case qt.LOCAL:qe=(yield x.ax(x.i)._isAvailable())?x.i:x.b;break;case qt.NONE:qe=x.K;break;default:return x.as("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(qe)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return nn(this._delegate,x.W(this._delegate))}signInWithCredential(H){return nn(this._delegate,x.X(this._delegate,H))}signInWithCustomToken(H){return nn(this._delegate,x._(this._delegate,H))}signInWithEmailAndPassword(H,Ee){return nn(this._delegate,x.a5(this._delegate,H,Ee))}signInWithEmailLink(H,Ee){return nn(this._delegate,x.a8(this._delegate,H,Ee))}signInWithPhoneNumber(H,Ee){return Br(this._delegate,x.s(this._delegate,H,Ee))}signInWithPopup(H){var Ee=this;return(0,c.Z)(function*(){return be(yn(),Ee._delegate,"operation-not-supported-in-this-environment"),nn(Ee._delegate,x.c(Ee._delegate,H,tt))})()}signInWithRedirect(H){var Ee=this;return(0,c.Z)(function*(){return be(yn(),Ee._delegate,"operation-not-supported-in-this-environment"),yield ot(Ee._delegate),x.f(Ee._delegate,H,tt)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return x.a3(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return oe.Persistence=qt,oe})();function Qe(oe,q,H){let Ee=oe;"function"!=typeof oe&&({next:Ee,error:q,complete:H}=oe);const qe=Ee;return{next:gt=>qe(gt&&z.getOrCreate(gt)),error:q,complete:H}}function bt(oe,q){const H=function fn(oe,q){const H=Gn();if(!(null==H?void 0:H.sessionStorage))return[];const Ee=x.ay(Ur,oe,q);switch(H.sessionStorage.getItem(Ee)){case qt.NONE:return[x.K];case qt.LOCAL:return[x.i,x.a];case qt.SESSION:return[x.a];default:return[]}}(oe,q);if("undefined"!=typeof self&&!H.includes(x.i)&&H.push(x.i),"undefined"!=typeof window)for(const Ee of[x.b,x.a])H.includes(Ee)||H.push(Ee);return H.includes(x.K)||H.push(x.K),H}class ln{constructor(){this.providerId="phone",this._delegate=new x.P(pt(V.Z.auth()))}static credential(q,H){return x.P.credential(q,H)}verifyPhoneNumber(q,H){return this._delegate.verifyPhoneNumber(q,H)}unwrap(){return this._delegate}}ln.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,ln.PROVIDER_ID=x.P.PROVIDER_ID;const xn=x.aw;class $n{constructor(q,H,Ee=V.Z.app()){var qe;xn(null===(qe=Ee.options)||void 0===qe?void 0:qe.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new x.R(q,H,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kt(oe){oe.INTERNAL.registerComponent(new ue.wA("auth-compat",q=>{const H=q.getProvider("app-compat").getImmediate(),Ee=q.getProvider("auth");return new te(H,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.L,FacebookAuthProvider:x.M,GithubAuthProvider:x.Q,GoogleAuthProvider:x.N,OAuthProvider:x.T,SAMLAuthProvider:x.U,PhoneAuthProvider:ln,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:$n,TwitterAuthProvider:x.V,Auth:te,AuthCredential:x.G,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),oe.registerVersion("@firebase/auth-compat","0.2.5")}(V.Z)},2940:function(lt,Te){!function(k){"use strict";function c(K){return Array.prototype.slice.call(K)}function V(K){return new Promise(function(ie,fe){K.onsuccess=function(){ie(K.result)},K.onerror=function(){fe(K.error)}})}function x(K,ie,fe){var Ce,ve=new Promise(function(ze,Ie){V(Ce=K[ie].apply(K,fe)).then(ze,Ie)});return ve.request=Ce,ve}function ne(K,ie,fe){var Ce=x(K,ie,fe);return Ce.then(function(ve){if(ve)return new B(ve,Ce.request)})}function ae(K,ie,fe){fe.forEach(function(Ce){Object.defineProperty(K.prototype,Ce,{get:function(){return this[ie][Ce]},set:function(ve){this[ie][Ce]=ve}})})}function he(K,ie,fe,Ce){Ce.forEach(function(ve){ve in fe.prototype&&(K.prototype[ve]=function(){return x(this[ie],ve,arguments)})})}function ue(K,ie,fe,Ce){Ce.forEach(function(ve){ve in fe.prototype&&(K.prototype[ve]=function(){return this[ie][ve].apply(this[ie],arguments)})})}function re(K,ie,fe,Ce){Ce.forEach(function(ve){ve in fe.prototype&&(K.prototype[ve]=function(){return ne(this[ie],ve,arguments)})})}function se(K){this._index=K}function B(K,ie){this._cursor=K,this._request=ie}function G(K){this._store=K}function ee(K){this._tx=K,this.complete=new Promise(function(ie,fe){K.oncomplete=function(){ie()},K.onerror=function(){fe(K.error)},K.onabort=function(){fe(K.error)}})}function Ge(K,ie,fe){this._db=K,this.oldVersion=ie,this.transaction=new ee(fe)}function Se(K){this._db=K}ae(se,"_index",["name","keyPath","multiEntry","unique"]),he(se,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),re(se,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae(B,"_cursor",["direction","key","primaryKey","value"]),he(B,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(K){K in IDBCursor.prototype&&(B.prototype[K]=function(){var ie=this,fe=arguments;return Promise.resolve().then(function(){return ie._cursor[K].apply(ie._cursor,fe),V(ie._request).then(function(Ce){if(Ce)return new B(Ce,ie._request)})})})}),G.prototype.createIndex=function(){return new se(this._store.createIndex.apply(this._store,arguments))},G.prototype.index=function(){return new se(this._store.index.apply(this._store,arguments))},ae(G,"_store",["name","keyPath","indexNames","autoIncrement"]),he(G,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),re(G,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ue(G,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new G(this._tx.objectStore.apply(this._tx,arguments))},ae(ee,"_tx",["objectStoreNames","mode"]),ue(ee,"_tx",IDBTransaction,["abort"]),Ge.prototype.createObjectStore=function(){return new G(this._db.createObjectStore.apply(this._db,arguments))},ae(Ge,"_db",["name","version","objectStoreNames"]),ue(Ge,"_db",IDBDatabase,["deleteObjectStore","close"]),Se.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},ae(Se,"_db",["name","version","objectStoreNames"]),ue(Se,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(K){[G,se].forEach(function(ie){K in ie.prototype&&(ie.prototype[K.replace("open","iterate")]=function(){var fe=c(arguments),Ce=fe[fe.length-1],ve=this._store||this._index,ze=ve[K].apply(ve,fe.slice(0,-1));ze.onsuccess=function(){Ce(ze.result)}})})}),[se,G].forEach(function(K){K.prototype.getAll||(K.prototype.getAll=function(ie,fe){var Ce=this,ve=[];return new Promise(function(ze){Ce.iterateCursor(ie,function(Ie){Ie?(ve.push(Ie.value),void 0===fe||ve.length!=fe?Ie.continue():ze(ve)):ze(ve)})})})}),k.openDb=function ke(K,ie,fe){var Ce=x(indexedDB,"open",[K,ie]),ve=Ce.request;return ve&&(ve.onupgradeneeded=function(ze){fe&&fe(new Ge(ve.result,ze.oldVersion,ve.transaction))}),Ce.then(function(ze){return new Se(ze)})},k.deleteDb=function je(K){return x(indexedDB,"deleteDatabase",[K])},Object.defineProperty(k,"__esModule",{value:!0})}(Te)},8306:(lt,Te,k)=>{"use strict";k.d(Te,{y:()=>B});var c=k(930),V=k(727),x=k(8822),ne=k(4671);var ue=k(2416),re=k(576),se=k(2806);let B=(()=>{class Se{constructor(je){je&&(this._subscribe=je)}lift(je){const K=new Se;return K.source=this,K.operator=je,K}subscribe(je,K,ie){const fe=function Ge(Se){return Se&&Se instanceof c.Lv||function ee(Se){return Se&&(0,re.m)(Se.next)&&(0,re.m)(Se.error)&&(0,re.m)(Se.complete)}(Se)&&(0,V.Nn)(Se)}(je)?je:new c.Hp(je,K,ie);return(0,se.x)(()=>{const{operator:Ce,source:ve}=this;fe.add(Ce?Ce.call(fe,ve):ve?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(je){try{return this._subscribe(je)}catch(K){je.error(K)}}forEach(je,K){return new(K=G(K))((ie,fe)=>{let Ce;Ce=this.subscribe(ve=>{try{je(ve)}catch(ze){fe(ze),null==Ce||Ce.unsubscribe()}},fe,ie)})}_subscribe(je){var K;return null===(K=this.source)||void 0===K?void 0:K.subscribe(je)}[x.L](){return this}pipe(...je){return function he(Se){return 0===Se.length?ne.y:1===Se.length?Se[0]:function(je){return Se.reduce((K,ie)=>ie(K),je)}}(je)(this)}toPromise(je){return new(je=G(je))((K,ie)=>{let fe;this.subscribe(Ce=>fe=Ce,Ce=>ie(Ce),()=>K(fe))})}}return Se.create=ke=>new Se(ke),Se})();function G(Se){var ke;return null!==(ke=null!=Se?Se:ue.v.Promise)&&void 0!==ke?ke:Promise}},7579:(lt,Te,k)=>{"use strict";k.d(Te,{x:()=>ue});var c=k(8306),V=k(727);const ne=(0,k(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),he=k(2806);let ue=(()=>{class se extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ee=new re(this,this);return ee.operator=G,ee}_throwIfClosed(){if(this.closed)throw new ne}next(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ee=this.observers.slice();for(const Ge of ee)Ge.next(G)}})}error(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ee}=this;for(;ee.length;)ee.shift().error(G)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ee,isStopped:Ge,observers:Se}=this;return ee||Ge?V.Lc:(Se.push(G),new V.w0(()=>(0,ae.P)(Se,G)))}_checkFinalizedStatuses(G){const{hasError:ee,thrownError:Ge,isStopped:Se}=this;ee?G.error(Ge):Se&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return se.create=(B,G)=>new re(B,G),se})();class re extends ue{constructor(B,G){super(),this.destination=B,this.source=G}next(B){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ee||ee.call(G,B)}error(B){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ee||ee.call(G,B)}complete(){var B,G;null===(G=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===G||G.call(B)}_subscribe(B){var G,ee;return null!==(ee=null===(G=this.source)||void 0===G?void 0:G.subscribe(B))&&void 0!==ee?ee:V.Lc}}},930:(lt,Te,k)=>{"use strict";k.d(Te,{Hp:()=>Ge,Lv:()=>ee});var c=k(576),V=k(727),x=k(2416),ne=k(7849),ae=k(5032);const he=se("C",void 0,void 0);function se(ie,fe,Ce){return{kind:ie,value:fe,error:Ce}}var B=k(3410),G=k(2806);class ee extends V.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,V.Nn)(fe)&&fe.add(this)):this.destination=K}static create(fe,Ce,ve){return new Ge(fe,Ce,ve)}next(fe){this.isStopped?je(function re(ie){return se("N",ie,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?je(function ue(ie){return se("E",void 0,ie)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?je(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ge extends ee{constructor(fe,Ce,ve){let ze;if(super(),(0,c.m)(fe))ze=fe;else if(fe){let Ie;({next:ze,error:Ce,complete:ve}=fe),this&&x.v.useDeprecatedNextContext?(Ie=Object.create(fe),Ie.unsubscribe=()=>this.unsubscribe()):Ie=fe,ze=null==ze?void 0:ze.bind(Ie),Ce=null==Ce?void 0:Ce.bind(Ie),ve=null==ve?void 0:ve.bind(Ie)}this.destination={next:ze?Se(ze):ae.Z,error:Se(null!=Ce?Ce:ke),complete:ve?Se(ve):ae.Z}}}function Se(ie,fe){return(...Ce)=>{try{ie(...Ce)}catch(ve){x.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(ve):(0,ne.h)(ve)}}}function ke(ie){throw ie}function je(ie,fe){const{onStoppedNotification:Ce}=x.v;Ce&&B.z.setTimeout(()=>Ce(ie,fe))}const K={closed:!0,next:ae.Z,error:ke,complete:ae.Z}},727:(lt,Te,k)=>{"use strict";k.d(Te,{Lc:()=>he,w0:()=>ae,Nn:()=>ue});var c=k(576);const x=(0,k(3888).d)(se=>function(G){se(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ee,Ge)=>`${Ge+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ne=k(8737);class ae{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Se of G)Se.remove(this);else G.remove(this);const{initialTeardown:ee}=this;if((0,c.m)(ee))try{ee()}catch(Se){B=Se instanceof x?Se.errors:[Se]}const{_teardowns:Ge}=this;if(Ge){this._teardowns=null;for(const Se of Ge)try{re(Se)}catch(ke){B=null!=B?B:[],ke instanceof x?B=[...B,...ke.errors]:B.push(ke)}}if(B)throw new x(B)}}add(B){var G;if(B&&B!==this)if(this.closed)re(B);else{if(B instanceof ae){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._teardowns=null!==(G=this._teardowns)&&void 0!==G?G:[]).push(B)}}_hasParent(B){const{_parentage:G}=this;return G===B||Array.isArray(G)&&G.includes(B)}_addParent(B){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(B),G):G?[G,B]:B}_removeParent(B){const{_parentage:G}=this;G===B?this._parentage=null:Array.isArray(G)&&(0,ne.P)(G,B)}remove(B){const{_teardowns:G}=this;G&&(0,ne.P)(G,B),B instanceof ae&&B._removeParent(this)}}ae.EMPTY=(()=>{const se=new ae;return se.closed=!0,se})();const he=ae.EMPTY;function ue(se){return se instanceof ae||se&&"closed"in se&&(0,c.m)(se.remove)&&(0,c.m)(se.add)&&(0,c.m)(se.unsubscribe)}function re(se){(0,c.m)(se)?se():se.unsubscribe()}},2416:(lt,Te,k)=>{"use strict";k.d(Te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Te,k)=>{"use strict";k.d(Te,{E:()=>V});const V=new(k(8306).y)(ae=>ae.complete())},8996:(lt,Te,k)=>{"use strict";k.d(Te,{D:()=>ze});var c=k(8421),V=k(5363),x=k(9468),he=k(8306),re=k(2202),se=k(576),B=k(9672);function ee(Ie,ut){if(!Ie)throw new Error("Iterable cannot be null");return new he.y(Ke=>{(0,B.f)(Ke,ut,()=>{const mt=Ie[Symbol.asyncIterator]();(0,B.f)(Ke,ut,()=>{mt.next().then(J=>{J.done?Ke.complete():Ke.next(J.value)})},0,!0)})})}var Ge=k(3670),Se=k(8239),ke=k(1144),je=k(6495),K=k(2206),ie=k(4532),fe=k(3260);function ze(Ie,ut){return ut?function ve(Ie,ut){if(null!=Ie){if((0,Ge.c)(Ie))return function ne(Ie,ut){return(0,c.Xf)(Ie).pipe((0,x.R)(ut),(0,V.Q)(ut))}(Ie,ut);if((0,ke.z)(Ie))return function ue(Ie,ut){return new he.y(Ke=>{let mt=0;return ut.schedule(function(){mt===Ie.length?Ke.complete():(Ke.next(Ie[mt++]),Ke.closed||this.schedule())})})}(Ie,ut);if((0,Se.t)(Ie))return function ae(Ie,ut){return(0,c.Xf)(Ie).pipe((0,x.R)(ut),(0,V.Q)(ut))}(Ie,ut);if((0,K.D)(Ie))return ee(Ie,ut);if((0,je.T)(Ie))return function G(Ie,ut){return new he.y(Ke=>{let mt;return(0,B.f)(Ke,ut,()=>{mt=Ie[re.h](),(0,B.f)(Ke,ut,()=>{let J,pe;try{({value:J,done:pe}=mt.next())}catch(ge){return void Ke.error(ge)}pe?Ke.complete():Ke.next(J)},0,!0)}),()=>(0,se.m)(null==mt?void 0:mt.return)&&mt.return()})}(Ie,ut);if((0,fe.L)(Ie))return function Ce(Ie,ut){return ee((0,fe.Q)(Ie),ut)}(Ie,ut)}throw(0,ie.z)(Ie)}(Ie,ut):(0,c.Xf)(Ie)}},8421:(lt,Te,k)=>{"use strict";k.d(Te,{Xf:()=>Ge});var c=k(5987),V=k(1144),x=k(8239),ne=k(8306),ae=k(3670),he=k(2206),ue=k(4532),re=k(6495),se=k(3260),B=k(576),G=k(7849),ee=k(8822);function Ge(ve){if(ve instanceof ne.y)return ve;if(null!=ve){if((0,ae.c)(ve))return function Se(ve){return new ne.y(ze=>{const Ie=ve[ee.L]();if((0,B.m)(Ie.subscribe))return Ie.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,V.z)(ve))return function ke(ve){return new ne.y(ze=>{for(let Ie=0;Ie<ve.length&&!ze.closed;Ie++)ze.next(ve[Ie]);ze.complete()})}(ve);if((0,x.t)(ve))return function je(ve){return new ne.y(ze=>{ve.then(Ie=>{ze.closed||(ze.next(Ie),ze.complete())},Ie=>ze.error(Ie)).then(null,G.h)})}(ve);if((0,he.D)(ve))return ie(ve);if((0,re.T)(ve))return function K(ve){return new ne.y(ze=>{for(const Ie of ve)if(ze.next(Ie),ze.closed)return;ze.complete()})}(ve);if((0,se.L)(ve))return function fe(ve){return ie((0,se.Q)(ve))}(ve)}throw(0,ue.z)(ve)}function ie(ve){return new ne.y(ze=>{(function Ce(ve,ze){var Ie,ut,Ke,mt;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,c.KL)(ve);!(ut=yield Ie.next()).done;)if(ze.next(ut.value),ze.closed)return}catch(J){Ke={error:J}}finally{try{ut&&!ut.done&&(mt=Ie.return)&&(yield mt.call(Ie))}finally{if(Ke)throw Ke.error}}ze.complete()})})(ve,ze).catch(Ie=>ze.error(Ie))})}},6451:(lt,Te,k)=>{"use strict";k.d(Te,{T:()=>he});var c=k(8189),V=k(8421),x=k(515),ne=k(3269),ae=k(8996);function he(...ue){const re=(0,ne.yG)(ue),se=(0,ne._6)(ue,1/0),B=ue;return B.length?1===B.length?(0,V.Xf)(B[0]):(0,c.J)(se)((0,ae.D)(B,re)):x.E}},5403:(lt,Te,k)=>{"use strict";k.d(Te,{Q:()=>V});var c=k(930);class V extends c.Lv{constructor(ne,ae,he,ue,re){super(ne),this.onFinalize=re,this._next=ae?function(se){try{ae(se)}catch(B){ne.error(B)}}:super._next,this._error=ue?function(se){try{ue(se)}catch(B){ne.error(B)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(se){ne.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}},4004:(lt,Te,k)=>{"use strict";k.d(Te,{U:()=>x});var c=k(4482),V=k(5403);function x(ne,ae){return(0,c.e)((he,ue)=>{let re=0;he.subscribe(new V.Q(ue,se=>{ue.next(ne.call(ae,se,re++))}))})}},8189:(lt,Te,k)=>{"use strict";k.d(Te,{J:()=>x});var c=k(5577),V=k(4671);function x(ne=1/0){return(0,c.z)(V.y,ne)}},5577:(lt,Te,k)=>{"use strict";k.d(Te,{z:()=>re});var c=k(4004),V=k(8421),x=k(4482),ne=k(9672),ae=k(5403),ue=k(576);function re(se,B,G=1/0){return(0,ue.m)(B)?re((ee,Ge)=>(0,c.U)((Se,ke)=>B(ee,Se,Ge,ke))((0,V.Xf)(se(ee,Ge))),G):("number"==typeof B&&(G=B),(0,x.e)((ee,Ge)=>function he(se,B,G,ee,Ge,Se,ke,je){const K=[];let ie=0,fe=0,Ce=!1;const ve=()=>{Ce&&!K.length&&!ie&&B.complete()},ze=ut=>ie<ee?Ie(ut):K.push(ut),Ie=ut=>{Se&&B.next(ut),ie++;let Ke=!1;(0,V.Xf)(G(ut,fe++)).subscribe(new ae.Q(B,mt=>{null==Ge||Ge(mt),Se?ze(mt):B.next(mt)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(ie--;K.length&&ie<ee;){const mt=K.shift();ke?(0,ne.f)(B,ke,()=>Ie(mt)):Ie(mt)}ve()}catch(mt){B.error(mt)}}))};return se.subscribe(new ae.Q(B,ze,()=>{Ce=!0,ve()})),()=>{null==je||je()}}(ee,Ge,se,G)))}},5363:(lt,Te,k)=>{"use strict";k.d(Te,{Q:()=>ne});var c=k(9672),V=k(4482),x=k(5403);function ne(ae,he=0){return(0,V.e)((ue,re)=>{ue.subscribe(new x.Q(re,se=>(0,c.f)(re,ae,()=>re.next(se),he),()=>(0,c.f)(re,ae,()=>re.complete(),he),se=>(0,c.f)(re,ae,()=>re.error(se),he)))})}},3099:(lt,Te,k)=>{"use strict";k.d(Te,{B:()=>he});var c=k(8996),V=k(5698),x=k(7579),ne=k(930),ae=k(4482);function he(re={}){const{connector:se=(()=>new x.x),resetOnError:B=!0,resetOnComplete:G=!0,resetOnRefCountZero:ee=!0}=re;return Ge=>{let Se=null,ke=null,je=null,K=0,ie=!1,fe=!1;const Ce=()=>{null==ke||ke.unsubscribe(),ke=null},ve=()=>{Ce(),Se=je=null,ie=fe=!1},ze=()=>{const Ie=Se;ve(),null==Ie||Ie.unsubscribe()};return(0,ae.e)((Ie,ut)=>{K++,!fe&&!ie&&Ce();const Ke=je=null!=je?je:se();ut.add(()=>{K--,0===K&&!fe&&!ie&&(ke=ue(ze,ee))}),Ke.subscribe(ut),Se||(Se=new ne.Hp({next:mt=>Ke.next(mt),error:mt=>{fe=!0,Ce(),ke=ue(ve,B,mt),Ke.error(mt)},complete:()=>{ie=!0,Ce(),ke=ue(ve,G),Ke.complete()}}),(0,c.D)(Ie).subscribe(Se))})(Ge)}}function ue(re,se,...B){return!0===se?(re(),null):!1===se?null:se(...B).pipe((0,V.q)(1)).subscribe(()=>re())}},9468:(lt,Te,k)=>{"use strict";k.d(Te,{R:()=>V});var c=k(4482);function V(x,ne=0){return(0,c.e)((ae,he)=>{he.add(x.schedule(()=>ae.subscribe(he),ne))})}},5698:(lt,Te,k)=>{"use strict";k.d(Te,{q:()=>ne});var c=k(515),V=k(4482),x=k(5403);function ne(ae){return ae<=0?()=>c.E:(0,V.e)((he,ue)=>{let re=0;he.subscribe(new x.Q(ue,se=>{++re<=ae&&(ue.next(se),ae<=re&&ue.complete())}))})}},8505:(lt,Te,k)=>{"use strict";k.d(Te,{b:()=>ae});var c=k(576),V=k(4482),x=k(5403),ne=k(4671);function ae(he,ue,re){const se=(0,c.m)(he)||ue||re?{next:he,error:ue,complete:re}:he;return se?(0,V.e)((B,G)=>{var ee;null===(ee=se.subscribe)||void 0===ee||ee.call(se);let Ge=!0;B.subscribe(new x.Q(G,Se=>{var ke;null===(ke=se.next)||void 0===ke||ke.call(se,Se),G.next(Se)},()=>{var Se;Ge=!1,null===(Se=se.complete)||void 0===Se||Se.call(se),G.complete()},Se=>{var ke;Ge=!1,null===(ke=se.error)||void 0===ke||ke.call(se,Se),G.error(Se)},()=>{var Se,ke;Ge&&(null===(Se=se.unsubscribe)||void 0===Se||Se.call(se)),null===(ke=se.finalize)||void 0===ke||ke.call(se)}))}):ne.y}},4408:(lt,Te,k)=>{"use strict";k.d(Te,{o:()=>ae});var c=k(727);class V extends c.w0{constructor(ue,re){super()}schedule(ue,re=0){return this}}const x={setInterval(...he){const{delegate:ue}=x;return((null==ue?void 0:ue.setInterval)||setInterval)(...he)},clearInterval(he){const{delegate:ue}=x;return((null==ue?void 0:ue.clearInterval)||clearInterval)(he)},delegate:void 0};var ne=k(8737);class ae extends V{constructor(ue,re){super(ue,re),this.scheduler=ue,this.work=re,this.pending=!1}schedule(ue,re=0){if(this.closed)return this;this.state=ue;const se=this.id,B=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(B,se,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(B,this.id,re),this}requestAsyncId(ue,re,se=0){return x.setInterval(ue.flush.bind(ue,this),se)}recycleAsyncId(ue,re,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return re;x.clearInterval(re)}execute(ue,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(ue,re);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,re){let B,se=!1;try{this.work(ue)}catch(G){se=!0,B=G||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ue,scheduler:re}=this,{actions:se}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(se,this),null!=ue&&(this.id=this.recycleAsyncId(re,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Te,k)=>{"use strict";k.d(Te,{v:()=>x});var c=k(6063);class V{constructor(ae,he=V.now){this.schedulerActionCtor=ae,this.now=he}schedule(ae,he=0,ue){return new this.schedulerActionCtor(this,ae).schedule(ue,he)}}V.now=c.l.now;class x extends V{constructor(ae,he=V.now){super(ae,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:he}=this;if(this._active)return void he.push(ae);let ue;this._active=!0;do{if(ue=ae.execute(ae.state,ae.delay))break}while(ae=he.shift());if(this._active=!1,ue){for(;ae=he.shift();)ae.unsubscribe();throw ue}}}},4986:(lt,Te,k)=>{"use strict";k.d(Te,{z:()=>x,P:()=>ne});var c=k(4408);const x=new(k(7565).v)(c.o),ne=x},6063:(lt,Te,k)=>{"use strict";k.d(Te,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},233:(lt,Te,k)=>{"use strict";k.d(Te,{N:()=>ae});var c=k(4408),x=k(7565);const ae=new class ne extends x.v{}(class V extends c.o{constructor(re,se){super(re,se),this.scheduler=re,this.work=se}schedule(re,se=0){return se>0?super.schedule(re,se):(this.delay=se,this.state=re,this.scheduler.flush(this),this)}execute(re,se){return se>0||this.closed?super.execute(re,se):this._execute(re,se)}requestAsyncId(re,se,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(re,se,B):re.flush(this)}})},3410:(lt,Te,k)=>{"use strict";k.d(Te,{z:()=>c});const c={setTimeout(...V){const{delegate:x}=c;return((null==x?void 0:x.setTimeout)||setTimeout)(...V)},clearTimeout(V){const{delegate:x}=c;return((null==x?void 0:x.clearTimeout)||clearTimeout)(V)},delegate:void 0}},2202:(lt,Te,k)=>{"use strict";k.d(Te,{h:()=>V});const V=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Te,k)=>{"use strict";k.d(Te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(lt,Te,k)=>{"use strict";k.d(Te,{jO:()=>ne,yG:()=>ae,_6:()=>he});var c=k(576),V=k(3532);function x(ue){return ue[ue.length-1]}function ne(ue){return(0,c.m)(x(ue))?ue.pop():void 0}function ae(ue){return(0,V.K)(x(ue))?ue.pop():void 0}function he(ue,re){return"number"==typeof x(ue)?ue.pop():re}},8737:(lt,Te,k)=>{"use strict";function c(V,x){if(V){const ne=V.indexOf(x);0<=ne&&V.splice(ne,1)}}k.d(Te,{P:()=>c})},3888:(lt,Te,k)=>{"use strict";function c(V){const ne=V(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}k.d(Te,{d:()=>c})},2806:(lt,Te,k)=>{"use strict";k.d(Te,{x:()=>x,O:()=>ne});var c=k(2416);let V=null;function x(ae){if(c.v.useDeprecatedSynchronousErrorHandling){const he=!V;if(he&&(V={errorThrown:!1,error:null}),ae(),he){const{errorThrown:ue,error:re}=V;if(V=null,ue)throw re}}else ae()}function ne(ae){c.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ae)}},9672:(lt,Te,k)=>{"use strict";function c(V,x,ne,ae=0,he=!1){const ue=x.schedule(function(){ne(),he?V.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(V.add(ue),!he)return ue}k.d(Te,{f:()=>c})},4671:(lt,Te,k)=>{"use strict";function c(V){return V}k.d(Te,{y:()=>c})},1144:(lt,Te,k)=>{"use strict";k.d(Te,{z:()=>c});const c=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(lt,Te,k)=>{"use strict";k.d(Te,{D:()=>V});var c=k(576);function V(x){return Symbol.asyncIterator&&(0,c.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(lt,Te,k)=>{"use strict";function c(V){return"function"==typeof V}k.d(Te,{m:()=>c})},3670:(lt,Te,k)=>{"use strict";k.d(Te,{c:()=>x});var c=k(8822),V=k(576);function x(ne){return(0,V.m)(ne[c.L])}},6495:(lt,Te,k)=>{"use strict";k.d(Te,{T:()=>x});var c=k(2202),V=k(576);function x(ne){return(0,V.m)(null==ne?void 0:ne[c.h])}},8239:(lt,Te,k)=>{"use strict";k.d(Te,{t:()=>V});var c=k(576);function V(x){return(0,c.m)(null==x?void 0:x.then)}},3260:(lt,Te,k)=>{"use strict";k.d(Te,{Q:()=>x,L:()=>ne});var c=k(5987),V=k(576);function x(ae){return(0,c.FC)(this,arguments,function*(){const ue=ae.getReader();try{for(;;){const{value:re,done:se}=yield(0,c.qq)(ue.read());if(se)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(re)}}finally{ue.releaseLock()}})}function ne(ae){return(0,V.m)(null==ae?void 0:ae.getReader)}},3532:(lt,Te,k)=>{"use strict";k.d(Te,{K:()=>V});var c=k(576);function V(x){return x&&(0,c.m)(x.schedule)}},4482:(lt,Te,k)=>{"use strict";k.d(Te,{A:()=>V,e:()=>x});var c=k(576);function V(ne){return(0,c.m)(null==ne?void 0:ne.lift)}function x(ne){return ae=>{if(V(ae))return ae.lift(function(he){try{return ne(he,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(lt,Te,k)=>{"use strict";function c(){}k.d(Te,{Z:()=>c})},7849:(lt,Te,k)=>{"use strict";k.d(Te,{h:()=>x});var c=k(2416),V=k(3410);function x(ne){V.z.setTimeout(()=>{const{onUnhandledError:ae}=c.v;if(!ae)throw ne;ae(ne)})}},4532:(lt,Te,k)=>{"use strict";function c(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Te,{z:()=>c})},5987:(lt,Te,k)=>{"use strict";function re(J,pe,ge,we){return new(ge||(ge=Promise))(function(ce,It){function Xt(ft){try{ht(we.next(ft))}catch(fr){It(fr)}}function Qn(ft){try{ht(we.throw(ft))}catch(fr){It(fr)}}function ht(ft){ft.done?ce(ft.value):function Ve(ce){return ce instanceof ge?ce:new ge(function(It){It(ce)})}(ft.value).then(Xt,Qn)}ht((we=we.apply(J,pe||[])).next())})}function K(J){return this instanceof K?(this.v=J,this):new K(J)}function ie(J,pe,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,we=ge.apply(J,pe||[]),ce=[];return Ve={},It("next"),It("throw"),It("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function It(an){we[an]&&(Ve[an]=function(Dr){return new Promise(function(Zt,Vr){ce.push([an,Dr,Zt,Vr])>1||Xt(an,Dr)})})}function Xt(an,Dr){try{!function Qn(an){an.value instanceof K?Promise.resolve(an.value.v).then(ht,ft):fr(ce[0][2],an)}(we[an](Dr))}catch(Zt){fr(ce[0][3],Zt)}}function ht(an){Xt("next",an)}function ft(an){Xt("throw",an)}function fr(an,Dr){an(Dr),ce.shift(),ce.length&&Xt(ce[0][0],ce[0][1])}}function Ce(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,pe=J[Symbol.asyncIterator];return pe?pe.call(J):(J=function ee(J){var pe="function"==typeof Symbol&&Symbol.iterator,ge=pe&&J[pe],we=0;if(ge)return ge.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&we>=J.length&&(J=void 0),{value:J&&J[we++],done:!J}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ge={},we("next"),we("throw"),we("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function we(ce){ge[ce]=J[ce]&&function(It){return new Promise(function(Xt,Qn){!function Ve(ce,It,Xt,Qn){Promise.resolve(Qn).then(function(ht){ce({value:ht,done:Xt})},It)}(Xt,Qn,(It=J[ce](It)).done,It.value)})}}}k.d(Te,{mG:()=>re,qq:()=>K,FC:()=>ie,KL:()=>Ce})},5e3:(lt,Te,k)=>{"use strict";k.d(Te,{deG:()=>Gd,tb:()=>OC,AFp:()=>NC,ip1:()=>Dw,CZH:()=>Hl,hGG:()=>MO,z2F:()=>Qp,sBO:()=>cO,Sil:()=>Cw,_Vd:()=>Bh,EJc:()=>Y_,SBq:()=>Gh,qLn:()=>uh,vpe:()=>Gs,tBr:()=>Mi,XFs:()=>yt,OlP:()=>mn,zs3:()=>Us,ZZ4:()=>sy,aQg:()=>oy,soG:()=>Z_,YKP:()=>O_,h0i:()=>od,PXZ:()=>BC,R0b:()=>Qi,FiY:()=>tr,Lbi:()=>MC,g9A:()=>Tw,Qsj:()=>MM,FYo:()=>GT,JOm:()=>zi,PiD:()=>ii,tp0:()=>gi,Rgc:()=>Iu,dDg:()=>PC,q4F:()=>WT,GfV:()=>HT,s_b:()=>qp,ifc:()=>xt,eFA:()=>X_,G48:()=>lO,Gpc:()=>G,X6Q:()=>uO,_c5:()=>EO,VLi:()=>LC,c2e:()=>RC,zSh:()=>Tp,wAp:()=>Ct,vHH:()=>ke,cg1:()=>__,kL8:()=>Cb,dqk:()=>vt,sIi:()=>Mh,CqO:()=>j0,QGY:()=>l_,F4k:()=>B0,RDi:()=>fc,AaK:()=>re,qOj:()=>Sp,TTD:()=>Ks,_Bn:()=>UT,xp6:()=>Fv,uIk:()=>Zm,Tol:()=>ob,ekj:()=>p_,Suo:()=>yC,Xpm:()=>xn,lG2:()=>qe,Yz7:()=>Zt,cJS:()=>Qr,oAB:()=>q,Yjl:()=>St,Y36:()=>td,_UZ:()=>ea,qZA:()=>Ln,TgZ:()=>Et,EpF:()=>U0,n5z:()=>rl,Ikx:()=>Ph,SDv:()=>LT,QtT:()=>Co,pQV:()=>Hp,LFG:()=>We,$8M:()=>ou,$Z:()=>s_,NdJ:()=>c_,CRH:()=>k_,oxw:()=>W0,ALo:()=>lC,lcZ:()=>cC,Hsn:()=>z0,F$t:()=>A1,Q6J:()=>o_,s9C:()=>q0,MGl:()=>Rp,VKq:()=>tC,WLB:()=>nC,kEZ:()=>rC,iGM:()=>mC,MAs:()=>Mp,CHM:()=>nu,LSH:()=>S,Udp:()=>f_,YNc:()=>a1,W1O:()=>aw,_uU:()=>G1,Oqu:()=>m_,hij:()=>Fp,Gf:()=>_C});var c=k(7579),V=k(727),x=k(8306),ne=k(6451),ae=k(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function re(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(re).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function se(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const B=he({__forward_ref__:he});function G(s){return s.__forward_ref__=G,s.toString=function(){return re(this())},s}function ee(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(B)&&s.__forward_ref__===G}class ke extends Error{constructor(o,a){super(function je(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function K(s){return"string"==typeof s?s:null==s?"":String(s)}function ie(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():K(s)}function ze(s,o){const a=o?` in ${o}`:"";throw new ke(-201,`No provider for ${ie(s)} found${a}`)}function ft(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}function Zt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Qr(s){return{providers:s.providers||[],imports:s.imports||[]}}function _n(s){return Sn(s,Xr)||Sn(s,yn)}function Sn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Jr(s){return s&&(s.hasOwnProperty(Le)||s.hasOwnProperty(Jn))?s[Le]:null}const Xr=he({\u0275prov:he}),Le=he({\u0275inj:he}),yn=he({ngInjectableDef:he}),Jn=he({ngInjectorDef:he});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Tn;function Cn(s){const o=Tn;return Tn=s,o}function Ur(s,o,a){const l=_n(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&yt.Optional?null:void 0!==o?o:void ze(re(s),"Injector")}function ot(s){return{toString:s}.toString()}var At=(()=>((At=At||{})[At.OnPush=0]="OnPush",At[At.Default=1]="Default",At))(),xt=(()=>{return(s=xt||(xt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",xt;var s})();const tt="undefined"!=typeof globalThis&&globalThis,pt="undefined"!=typeof window&&window,oa="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,vt=tt||"undefined"!=typeof global&&global||pt||oa,Br={},U=[],W=he({\u0275cmp:he}),z=he({\u0275dir:he}),be=he({\u0275pipe:he}),te=he({\u0275mod:he}),Qe=he({\u0275fac:he}),bt=he({__NG_ELEMENT_ID__:he});let ln=0;function xn(s){return ot(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===At.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||U,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||xt.Emulated,id:"c",styles:s.styles||U,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,p=s.features,_=s.pipes;return l.id+=ln++,l.inputs=Ee(s.inputs,a),l.outputs=Ee(s.outputs),p&&p.forEach(b=>b(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(sr):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(kt):null,l})}function sr(s){return gt(s)||function Pt(s){return s[z]||null}(s)}function kt(s){return function vn(s){return s[be]||null}(s)}const oe={};function q(s){return ot(()=>{const o={type:s.type,bootstrap:s.bootstrap||U,declarations:s.declarations||U,imports:s.imports||U,exports:s.exports||U,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(oe[s.id]=s.type),o})}function Ee(s,o){if(null==s)return Br;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,o&&(o[d]=p)}return a}const qe=xn;function St(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function gt(s){return s[W]||null}function en(s,o){const a=s[te]||null;if(!a&&!0===o)throw new Error(`Type ${re(s)} does not have '\u0275mod' property.`);return a}function ci(s){return Array.isArray(s)&&"object"==typeof s[1]}function ji(s){return Array.isArray(s)&&!0===s[1]}function pr(s){return 0!=(8&s.flags)}function Pu(s){return 2==(2&s.flags)}function Es(s){return 1==(1&s.flags)}function Ti(s){return null!==s.template}function Ad(s){return 0!=(512&s[2])}function ss(s,o){return s.hasOwnProperty(Qe)?s[Qe]:null}class cc{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ks(){return os}function os(s){return s.type.prototype.ngOnChanges&&(s.setInput=dc),as}function as(){const s=Ci(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===Br)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function dc(s,o,a,l){const d=Ci(s)||function xo(s,o){return s[jr]=o}(s,{previous:Br,current:null}),p=d.current||(d.current={}),_=d.previous,b=this.declaredInputs[a],D=_[b];p[b]=new cc(D&&D.currentValue,o,_===Br),s[l]=o}Ks.ngInherit=!0;const jr="__ngSimpleChanges__";function Ci(s){return s[jr]||null}let hc;function fc(s){hc=s}function fa(){return void 0!==hc?hc:"undefined"!=typeof document?document:void 0}function Nn(s){return!!s.listen}const Cs={createRenderer:(s,o)=>fa()};function Un(s){for(;Array.isArray(s);)s=s[0];return s}function xr(s,o){return Un(o[s])}function ar(s,o){return Un(o[s.index])}function pa(s,o){return s.data[o]}function us(s,o){return s[o]}function ri(s,o){const a=o[s];return ci(a)?a:a[0]}function Mn(s){return 4==(4&s[2])}function ga(s){return 128==(128&s[2])}function Ii(s,o){return null==o?null:s[o]}function Is(s){s[18]=0}function Qs(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const ct={lFrame:zu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tu(){return ct.bindingsEnabled}function Me(){return ct.lFrame.lView}function Vt(){return ct.lFrame.tView}function nu(s){return ct.lFrame.contextLView=s,s[8]}function cn(){let s=Lo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Lo(){return ct.lFrame.currentTNode}function to(){const s=ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Gr(s,o){const a=ct.lFrame;a.currentTNode=s,a.isParent=o}function Ss(){return ct.lFrame.isParent}function ma(){ct.lFrame.isParent=!1}function ya(){return ct.isInCheckNoChangesMode}function Vo(s){ct.isInCheckNoChangesMode=s}function gr(){const s=ct.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Si(){return ct.lFrame.bindingIndex++}function ls(s){const o=ct.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function no(s){ct.lFrame.inI18n=s}function Gu(s,o){const a=ct.lFrame;a.bindingIndex=a.bindingRootIndex=s,$u(o)}function $u(s){ct.lFrame.currentDirectiveIndex=s}function Hu(){return ct.lFrame.currentQueryIndex}function io(s){ct.lFrame.currentQueryIndex=s}function kd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function va(s,o,a){if(a&yt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&yt.Host||(d=kd(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,s=p}const l=ct.lFrame=Wu();return l.currentTNode=o,l.lView=s,!0}function ba(s){const o=Wu(),a=s[1];ct.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Wu(){const s=ct.lFrame,o=null===s?null:s.child;return null===o?zu(s):o}function zu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function wa(){const s=ct.lFrame;return ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const qu=wa;function Bo(){const s=wa();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function er(){return ct.lFrame.selectedIndex}function mr(s){ct.lFrame.selectedIndex=s}function kn(){const s=ct.lFrame;return pa(s.tView,s.selectedIndex)}function Ea(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:D,ngAfterViewChecked:I,ngOnDestroy:N}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),b&&((s.contentHooks||(s.contentHooks=[])).push(a,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,b)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),I&&((s.viewHooks||(s.viewHooks=[])).push(a,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,I)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function jo(s,o,a){Ku(s,o,3,a)}function Go(s,o,a,l){(3&s[2])===a&&Ku(s,o,a,l)}function gc(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ku(s,o,a,l){const p=null!=l?l:-1,_=o.length-1;let b=0;for(let D=void 0!==l?65535&s[18]:0;D<_;D++)if("number"==typeof o[D+1]){if(b=o[D],null!=l&&b>=l)break}else o[D]<0&&(s[18]+=65536),(b<p||-1==p)&&(Pf(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Pf(s,o,a,l){const d=a[l]<0,p=a[l+1],b=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class qn{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Qu(s,o,a){const l=Nn(s);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const _=a[d++],b=a[d++],D=a[d++];l?s.setAttribute(o,b,D,_):o.setAttributeNS(_,b,D)}else{const _=p,b=a[++d];gn(_)?l&&s.setProperty(o,_,b):l?s.setAttribute(o,_,b):o.setAttribute(_,b),d++}}return d}function On(s){return 3===s||4===s||6===s}function gn(s){return 64===s.charCodeAt(0)}function kr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Ud(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Ud(s,o,a,l,d){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==d&&(s[p+1]=d));if(l===s[p+1])return void(s[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==d&&s.splice(p++,0,d)}function Bd(s){return-1!==s}function Ta(s){return 32767&s}function Ca(s,o){let a=function _c(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let $r=!0;function Pr(s){const o=$r;return $r=s,o}let Xu=0;function Ho(s,o){const a=Wo(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Ia(l.data,s),Ia(o,null),Ia(l.blueprint,null));const d=fi(s,o),p=s.injectorIndex;if(Bd(d)){const _=Ta(d),b=Ca(d,o),D=b[1].data;for(let I=0;I<8;I++)o[p+I]=b[_+I]|D[_+I]}return o[p+8]=d,p}function Ia(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Wo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function fi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){const p=d[1],_=p.type;if(l=2===_?p.declTNode:1===_?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function ur(s,o,a){!function el(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(bt)&&(l=a[bt]),null==l&&(l=a[bt]=Xu++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function tl(s,o,a){if(a&yt.Optional)return s;ze(o,"NodeInjector")}function Gi(s,o,a,l){if(a&yt.Optional&&void 0===l&&(l=null),0==(a&(yt.Self|yt.Host))){const d=s[9],p=Cn(void 0);try{return d?d.get(o,l,a&yt.Optional):Ur(o,l,a&yt.Optional)}finally{Cn(p)}}return tl(l,o,a)}function nl(s,o,a,l=yt.Default,d){if(null!==s){const p=function $i(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(bt)?s[bt]:void 0;return"number"==typeof o?o>=0?255&o:As:o}(a);if("function"==typeof p){if(!va(o,s,l))return l&yt.Host?tl(d,a,l):Gi(o,a,l,d);try{const _=p(l);if(null!=_||l&yt.Optional)return _;ze(a)}finally{qu()}}else if("number"==typeof p){let _=null,b=Wo(s,o),D=-1,I=l&yt.Host?o[16][6]:null;for((-1===b||l&yt.SkipSelf)&&(D=-1===b?fi(s,o):o[b+8],-1!==D&&jd(l,!1)?(_=o[1],b=Ta(D),o=Ca(D,o)):b=-1);-1!==b;){const N=o[1];if(Sa(p,b,N.data)){const P=Ns(b,o,a,_,l,I);if(P!==yc)return P}D=o[b+8],-1!==D&&jd(l,o[1].data[b+8]===I)&&Sa(p,b,o)?(_=N,b=Ta(D),o=Ca(D,o)):b=-1}}}return Gi(o,a,l,d)}const yc={};function As(){return new bn(cn(),Me())}function Ns(s,o,a,l,d,p){const _=o[1],b=_.data[s+8],N=Ms(b,_,a,null==l?Pu(b)&&$r:l!=_&&0!=(3&b.type),d&yt.Host&&p===b);return null!==N?In(o,_,N,b):yc}function Ms(s,o,a,l,d){const p=s.providerIndexes,_=o.data,b=1048575&p,D=s.directiveStart,N=p>>20,$=d?b+N:s.directiveEnd;for(let Q=l?b:b+N;Q<$;Q++){const _e=_[Q];if(Q<D&&a===_e||Q>=D&&_e.type===a)return Q}if(d){const Q=_[D];if(Q&&Ti(Q)&&Q.type===a)return D}return null}function In(s,o,a,l){let d=s[a];const p=o.data;if(function Pd(s){return s instanceof qn}(d)){const _=d;_.resolving&&function fe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ke(-200,`Circular dependency in DI detected for ${s}${a}`)}(ie(p[a]));const b=Pr(_.canSeeViewProviders);_.resolving=!0;const D=_.injectImpl?Cn(_.injectImpl):null;va(s,l,yt.Default);try{d=s[a]=_.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function Lg(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(l){const _=os(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==D&&Cn(D),Pr(b),_.resolving=!1,qu()}}return d}function Sa(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function jd(s,o){return!(s&yt.Self||s&yt.Host&&o)}class bn{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return nl(this._tNode,this._lView,o,l,a)}}function rl(s){return ot(()=>{const o=s.prototype.constructor,a=o[Qe]||Os(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const p=d[Qe]||Os(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Os(s){return Ge(s)?()=>{const o=Os(ee(s));return o&&o()}:ss(s)}function ou(s){return function su(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(On(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(cn(),s)}const oo="__parameters__";function Hi(s,o,a){return ot(()=>{const l=function ds(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...p){if(this instanceof d)return l.apply(this,p),this;const _=new d(...p);return b.annotation=_,b;function b(D,I,N){const P=D.hasOwnProperty(oo)?D[oo]:Object.defineProperty(D,oo,{value:[]})[oo];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(_),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class mn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Zt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gd=new mn("AnalyzeForEntryComponents");function Pn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Pn(l,o)):o!==s&&o.push(l)}return o}function wn(s,o){s.forEach(a=>Array.isArray(a)?wn(a,o):o(a))}function lu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ma(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qo(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function pi(s,o,a){let l=xa(s,o);return l>=0?s[1|l]=a:(l=~l,function du(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function Hd(s,o){const a=xa(s,o);if(a>=0)return s[1|a]}function xa(s,o){return function Zo(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const p=l+(d-l>>1),_=s[p<<a];if(o===_)return p<<a;_>o?d=p:l=p+1}return~(d<<a)}(s,o,1)}const ks={},Ps="__NG_DI_FLAG__",ho="ngTempTokenPath",C=/\n/gm,L="__source",Y=he({provide:String,useValue:he});let le;function Re(s){const o=le;return le=s,o}function it(s,o=yt.Default){if(void 0===le)throw new ke(203,"");return null===le?Ur(s,void 0,o):le.get(s,o&yt.Optional?null:void 0,o)}function We(s,o=yt.Default){return(function qt(){return Tn}()||it)(ee(s),o)}function Fr(s){const o=[];for(let a=0;a<s.length;a++){const l=ee(s[a]);if(Array.isArray(l)){if(0===l.length)throw new ke(900,"");let d,p=yt.Default;for(let _=0;_<l.length;_++){const b=l[_],D=Bn(b);"number"==typeof D?-1===D?d=b.token:p|=D:d=b}o.push(We(d,p))}else o.push(We(l))}return o}function _r(s,o){return s[Ps]=o,s.prototype[Ps]=o,s}function Bn(s){return s[Ps]}const Mi=_r(Hi("Inject",s=>({token:s})),-1),tr=_r(Hi("Optional"),8),ii=_r(Hi("Self"),2),gi=_r(Hi("SkipSelf"),4);let gu;function Ls(s){var o;return(null===(o=function Pa(){if(void 0===gu&&(gu=null,vt.trustedTypes))try{gu=vt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return gu}())||void 0===o?void 0:o.createHTML(s))||s}class Yd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function po(s){return s instanceof Yd?s.changingThisBreaksApplicationSecurity:s}class Wg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Ls(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Mc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Ls(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Ls(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let d=a.length-1;0<d;d--){const _=a.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Xd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,dl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hl(s){return(s=String(s)).match(Xd)||s.match(dl)?s:"unsafe:"+s}function zf(s){return(s=String(s)).split(",").map(o=>hl(o.trim())).join(", ")}function Wi(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function fl(...s){const o={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const eh=Wi("area,br,col,hr,img,wbr"),th=Wi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Oc=Wi("rp,rt"),pl=fl(eh,fl(th,Wi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fl(Oc,Wi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fl(Oc,th)),qf=Wi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fa=Wi("srcset"),nh=fl(qf,Fa,Wi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var f=(()=>((f=f||{})[f.NONE=0]="NONE",f[f.HTML=1]="HTML",f[f.STYLE=2]="STYLE",f[f.SCRIPT=3]="SCRIPT",f[f.URL=4]="URL",f[f.RESOURCE_URL=5]="RESOURCE_URL",f))();function S(s){const o=function yr(){const s=Me();return s&&s[12]}();return o?o.sanitize(f.URL,s)||"":function mu(s,o){const a=function Hg(s){return s instanceof Yd&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?po(s):hl(K(s))}const Kf="__ngContext__";function nt(s,o){s[Kf]=o}function Fn(s){const o=function tn(s){return s[Kf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Jf(s){return s.ngOriginalError}function bv(s,...o){s.error(...o)}class uh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function Ir(s){return s&&s.ngErrorLogger||bv}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Jf(o);for(;a&&Jf(a);)a=Jf(a);return a||null}}const vl=/^>|^->|<!--|-->|--!>|<!-$/g,sE=/(<|>)/;const Xf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(vt))();function mi(s){return s instanceof Function?s():s}var zi=(()=>((zi=zi||{})[zi.Important=1]="Important",zi[zi.DashCase=2]="DashCase",zi))();let ep;function Jg(s,o){return ep(s,o)}function ch(s){const o=s[3];return ji(o)?o[3]:o}function tp(s){return Sv(s[13])}function np(s){return Sv(s[4])}function Sv(s){for(;null!==s&&!ji(s);)s=s[4];return s}function Fc(s,o,a,l,d){if(null!=l){let p,_=!1;ji(l)?p=l:ci(l)&&(_=!0,l=l[0]);const b=Un(l);0===s&&null!==a?null==d?im(o,a,b):bl(o,a,b,d||null,!0):1===s&&null!==a?bl(o,a,b,d||null,!0):2===s?lm(o,b,_):3===s&&o.destroyNode(b),null!=p&&function Mv(s,o,a,l,d){const p=a[7];p!==Un(a)&&Fc(o,s,l,p,d);for(let b=10;b<a.length;b++){const D=a[b];fh(D[1],D,s,o,l,p)}}(o,s,p,a,d)}}function Xg(s,o){return Nn(s)?s.createText(o):s.createTextNode(o)}function em(s,o,a){Nn(s)?s.setValue(o,a):o.textContent=a}function $t(s,o){return s.createComment(function Sr(s){return s.replace(vl,o=>o.replace(sE,"\u200b$1\u200b"))}(o))}function tm(s,o,a){return Nn(s)?s.createElement(o,a):null===a?s.createElement(o):s.createElementNS(a,o)}function mo(s,o){const a=s[9],l=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Qs(d,-1)),a.splice(l,1)}function rp(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&mo(d,l),o>0&&(s[a-1][4]=l[4]);const p=Ma(s,10+o);!function Lc(s,o){fh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function rm(s,o){if(!(256&o[2])){const a=o[11];Nn(a)&&a.destroyNode&&fh(s,o,a,3,null,null),function uE(s){let o=s[13];if(!o)return ip(s[1],s);for(;o;){let a=null;if(ci(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)ci(o)&&ip(o[1],o),o=o[3];null===o&&(o=s),ci(o)&&ip(o[1],o),a=o&&o[4]}o=a}}(o)}}function ip(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function oi(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof qn)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const b=d[p[_]],D=p[_+1];try{D.call(b)}finally{}}else try{p.call(d)}finally{}}}}(s,o),function AN(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],b="function"==typeof _?_(o):Un(o[_]),D=l[d=a[p+2]],I=a[p+3];"boolean"==typeof I?b.removeEventListener(a[p],D,I):I>=0?l[d=I]():l[d=-I].unsubscribe(),p+=2}else{const _=l[d=a[p+1]];a[p].call(_)}if(null!==l){for(let p=d+1;p<l.length;p++)l[p]();o[7]=null}}(s,o),1===o[1].type&&Nn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ji(o[3])){a!==o[3]&&mo(a,o);const l=o[19];null!==l&&l.detachView(s)}}}function _o(s,o,a){return Nv(s,o.parent,a)}function Nv(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===xt.None||d===xt.Emulated)return null}return ar(l,a)}function bl(s,o,a,l,d){Nn(s)?s.insertBefore(o,a,l,d):o.insertBefore(a,l,d)}function im(s,o,a){Nn(s)?s.appendChild(o,a):o.appendChild(a)}function sm(s,o,a,l,d){null!==l?bl(s,o,a,l,d):im(s,o,a)}function dh(s,o){return Nn(s)?s.parentNode(o):o.parentNode}function om(s,o,a){return hh(s,o,a)}function am(s,o,a){return 40&s.type?ar(s,a):null}let ja,hh=am;function zt(s,o){hh=s,ja=o}function _u(s,o,a,l){const d=_o(s,l,o),p=o[11],b=om(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)sm(p,d,a[D],b,!1);else sm(p,d,a,b,!1);void 0!==ja&&ja(p,l,o,a,d)}function sp(s,o){if(null!==o){const a=o.type;if(3&a)return ar(o,s);if(4&a)return um(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return sp(s,l);{const d=s[o.index];return ji(d)?um(-1,d):Un(d)}}if(32&a)return Jg(o,s)()||Un(s[o.index]);{const l=yu(s,o);return null!==l?Array.isArray(l)?l[0]:sp(ch(s[16]),l):sp(s,o.next)}}return null}function yu(s,o){return null!==o?s[16][6].projection[o.projection]:null}function um(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return sp(l,d)}return o[7]}function lm(s,o,a){const l=dh(s,o);l&&function dE(s,o,a,l){Nn(s)?s.removeChild(o,a,l):o.removeChild(a)}(s,l,o,a)}function op(s,o,a,l,d,p,_){for(;null!=a;){const b=l[a.index],D=a.type;if(_&&0===o&&(b&&nt(Un(b),l),a.flags|=4),64!=(64&a.flags))if(8&D)op(s,o,a.child,l,d,p,!1),Fc(o,s,d,b,p);else if(32&D){const I=Jg(a,l);let N;for(;N=I();)Fc(o,s,d,N,p);Fc(o,s,d,b,p)}else 16&D?Vc(s,o,l,a,d,p):Fc(o,s,d,b,p);a=_?a.projectionNext:a.next}}function fh(s,o,a,l,d,p){op(a,l,s.firstChild,o,d,p,!1)}function Vc(s,o,a,l,d,p){const _=a[16],D=_[6].projection[l.projection];if(Array.isArray(D))for(let I=0;I<D.length;I++)Fc(o,s,d,D[I],p);else op(s,o,D,_[3],d,p,!0)}function Ov(s,o,a){Nn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function ph(s,o,a){Nn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function gh(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===l||s.charCodeAt(d+p)<=32)return d}a=d+1}}const cm="ng-template";function pE(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==gh(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Rv(s){return 4===s.type&&s.value!==cm}function gE(s,o,a){return o===(4!==s.type||a?s.value:cm)}function lp(s,o,a){let l=4;const d=s.attrs||[],p=function yE(s){for(let o=0;o<s.length;o++)if(On(s[o]))return o;return s.length}(d);let _=!1;for(let b=0;b<o.length;b++){const D=o[b];if("number"!=typeof D){if(!_)if(4&l){if(l=2|1&l,""!==D&&!gE(s,D,a)||""===D&&1===o.length){if(yo(l))return!1;_=!0}}else{const I=8&l?D:o[++b];if(8&l&&null!==s.attrs){if(!pE(s.attrs,I,a)){if(yo(l))return!1;_=!0}continue}const P=mE(8&l?"class":D,d,Rv(s),a);if(-1===P){if(yo(l))return!1;_=!0;continue}if(""!==I){let $;$=P>p?"":d[P+1].toLowerCase();const Q=8&l?$:null;if(Q&&-1!==gh(Q,I,0)||2&l&&I!==$){if(yo(l))return!1;_=!0}}}}else{if(!_&&!yo(l)&&!yo(D))return!1;if(_&&yo(D))continue;_=!1,l=D|1&l}}return yo(l)||_}function yo(s){return 0==(1&s)}function mE(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let p=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let b=o[++d];for(;"string"==typeof b;)b=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function kv(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function xv(s,o,a=!1){for(let l=0;l<o.length;l++)if(lp(s,o[l],a))return!0;return!1}function dm(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function cp(s,o){return s?":not("+o.trim()+")":o}function Ga(s){let o=s[0],a=1,l=2,d="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const b=s[++a];d+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!yo(_)&&(o+=cp(p,d),d=""),l=_,p=p||!yo(l);a++}return""!==d&&(o+=cp(p,d)),o}const Rt={};function Fv(s){wl(Vt(),Me(),er()+s,ya())}function wl(s,o,a,l){if(!l)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&jo(o,p,a)}else{const p=s.preOrderHooks;null!==p&&Go(o,p,0,a)}mr(a)}function dp(s,o){return s<<17|o<<2}function qi(s){return s>>17&32767}function hp(s){return 2|s}function vo(s){return(131068&s)>>2}function mh(s,o){return-131069&s|o<<2}function Dl(s){return 1|s}function wm(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],p=a[l+1];if(-1!==p){const _=s.data[p];io(d),_.contentQueries(2,o[p],p)}}}function vh(s,o,a,l,d,p,_,b,D,I){const N=o.blueprint.slice();return N[0]=d,N[2]=140|l,Is(N),N[3]=N[15]=s,N[8]=a,N[10]=_||s&&s[10],N[11]=b||s&&s[11],N[12]=D||s&&s[12]||null,N[9]=I||s&&s[9]||null,N[6]=p,N[16]=2==o.type?s[16]:N,N}function Gc(s,o,a,l,d){let p=s.data[o];if(null===p)p=Dm(s,o,a,l,d),function ru(){return ct.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const _=to();p.injectorIndex=null===_?-1:_.injectorIndex}return Gr(p,!0),p}function Dm(s,o,a,l,d){const p=Lo(),_=Ss(),D=s.data[o]=function Qv(s,o,a,l,d,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==p&&(_?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D)),D}function $c(s,o,a,l){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function wu(s,o,a){ba(o);try{const l=s.viewQuery;null!==l&&Mm(1,l,a);const d=s.template;null!==d&&Hc(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&wm(s,o),s.staticViewQueries&&Mm(2,s.viewQuery,a);const p=s.components;null!==p&&function _p(s,o){for(let a=0;a<o.length;a++)BE(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Bo()}}function Il(s,o,a,l){const d=o[2];if(256==(256&d))return;ba(o);const p=ya();try{Is(o),function pc(s){return ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Hc(s,o,a,2,l);const _=3==(3&d);if(!p)if(_){const I=s.preOrderCheckHooks;null!==I&&jo(o,I,null)}else{const I=s.preOrderHooks;null!==I&&Go(o,I,0,null),gc(o,0)}if(function VE(s){for(let o=tp(s);null!==o;o=np(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],p=d[3];0==(1024&d[2])&&Qs(p,1),d[2]|=1024}}}(o),function LE(s){for(let o=tp(s);null!==o;o=np(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];ga(l)&&Il(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&wm(s,o),!p)if(_){const I=s.contentCheckHooks;null!==I&&jo(o,I)}else{const I=s.contentHooks;null!==I&&Go(o,I,1),gc(o,1)}!function zv(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)mr(~d);else{const p=d,_=a[++l],b=a[++l];Gu(_,p),b(2,o[p])}}}finally{mr(-1)}}(s,o);const b=s.components;null!==b&&function mp(s,o){for(let a=0;a<o.length;a++)UE(s,o[a])}(o,b);const D=s.viewQuery;if(null!==D&&Mm(2,D,l),!p)if(_){const I=s.viewCheckHooks;null!==I&&jo(o,I)}else{const I=s.viewHooks;null!==I&&Go(o,I,2),gc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Qs(o[3],-1))}finally{Bo()}}function qv(s,o,a,l){const d=o[10],p=!ya(),_=Mn(o);try{p&&!_&&d.begin&&d.begin(),_&&wu(s,o,l),Il(s,o,a,l)}finally{p&&!_&&d.end&&d.end()}}function Hc(s,o,a,l,d){const p=er(),_=2&l;try{mr(-1),_&&o.length>20&&wl(s,o,20,ya()),a(l,d)}finally{mr(p)}}function Wc(s,o,a){!tu()||(function ME(s,o,a,l){const d=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||Ho(a,o),nt(l,o);const _=a.initialInputs;for(let b=d;b<p;b++){const D=s.data[b],I=Ti(D);I&&PE(o,a,D);const N=In(o,s,b,a);nt(N,o),null!==_&&r0(0,b-d,N,D,0,_),I&&(ri(a.index,o)[8]=N)}}(s,o,a,ar(a,o)),128==(128&a.flags)&&function OE(s,o,a){const l=a.directiveStart,d=a.directiveEnd,_=a.index,b=function Uo(){return ct.lFrame.currentDirectiveIndex}();try{mr(_);for(let D=l;D<d;D++){const I=s.data[D],N=o[D];$u(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Xv(I,N)}}finally{mr(-1),$u(b)}}(s,o,a))}function yp(s,o,a=ar){const l=o.localNames;if(null!==l){let d=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],b=-1===_?a(o,s):s[_];s[d++]=b}}}function Zv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=vp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function vp(s,o,a,l,d,p,_,b,D,I){const N=20+l,P=N+d,$=function TE(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Rt);return a}(N,P),Q="function"==typeof I?I():I;return $[1]={type:s,blueprint:$,template:a,queries:null,viewQuery:b,declTNode:o,data:$.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:Q,incompleteFirstPass:!1}}function Kv(s,o,a,l){const d=a0(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&Yi(s).push(l,d.length-1))}function bh(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function _i(s,o,a,l,d,p,_,b){const D=ar(o,a);let N,I=o.inputs;!b&&null!=I&&(N=I[l])?(Ep(s,a,N,l,d),Pu(o)&&function SE(s,o){const a=ri(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function IE(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=_?_(d,o.value||"",l):d,Nn(p)?p.setProperty(D,l,d):gn(l)||(D.setProperty?D.setProperty(l,d):D[l]=d))}function Tm(s,o,a,l){let d=!1;if(tu()){const p=function RE(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];xv(a,_.selectors,!1)&&(d||(d=[]),ur(Ho(a,o),s,_.type),Ti(_)?(Cm(s,a),d.unshift(_)):d.push(_))}return d}(s,o,a),_=null===l?null:{"":-1};if(null!==p){d=!0,e0(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const P=p[N];P.providersResolver&&P.providersResolver(P)}let b=!1,D=!1,I=$c(s,o,p.length,null);for(let N=0;N<p.length;N++){const P=p[N];a.mergedAttrs=kr(a.mergedAttrs,P.hostAttrs),t0(s,a,o,I,P),kE(I,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const $=P.type.prototype;!b&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),b=!0),!D&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),I++}!function CE(s,o){const l=o.directiveEnd,d=s.data,p=o.attrs,_=[];let b=null,D=null;for(let I=o.directiveStart;I<l;I++){const N=d[I],P=N.inputs,$=null===p||Rv(o)?null:s0(P,p);_.push($),b=bh(P,I,b),D=bh(N.outputs,I,D)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=D}(s,a)}_&&function xE(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new ke(-301,`Export of name '${o[d+1]}' not found!`);l.push(o[d],p)}}}(a,l,_)}return a.mergedAttrs=kr(a.mergedAttrs,a.attrs),d}function Jv(s,o,a,l,d,p){const _=p.hostBindings;if(_){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const D=~o.index;(function NE(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=D&&b.push(D),b.push(l,d,_)}}function Xv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Cm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function kE(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Ti(o)&&(a[""]=s)}}function e0(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function t0(s,o,a,l,d){s.data[l]=d;const p=d.factory||(d.factory=ss(d.type)),_=new qn(p,Ti(d),null);s.blueprint[l]=_,a[l]=_,Jv(s,o,0,l,$c(s,a,d.hostVars,Rt),d)}function PE(s,o,a){const l=ar(o,s),d=Zv(a),p=s[10],_=wp(s,vh(s,d,null,a.onPush?64:16,l,o,p,p.createRenderer(l,a),null,null));s[o.index]=_}function n0(s,o,a,l,d,p,_){if(null==p)Nn(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const b=null==_?K(p):_(p,l||"",d);Nn(s)?s.setAttribute(o,d,b,a):a?o.setAttributeNS(a,d,b):o.setAttribute(d,b)}}function r0(s,o,a,l,d,p){const _=p[o];if(null!==_){const b=l.setInput;for(let D=0;D<_.length;){const I=_[D++],N=_[D++],P=_[D++];null!==b?l.setInput(a,P,I,N):a[N]=P}}}function s0(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function Im(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function UE(s,o){const a=ri(o,s);if(ga(a)){const l=a[1];80&a[2]?Il(l,a,l.template,a[8]):a[5]>0&&Sm(a)}}function Sm(s){for(let l=tp(s);null!==l;l=np(l))for(let d=10;d<l.length;d++){const p=l[d];if(1024&p[2]){const _=p[1];Il(_,p,_.template,p[8])}else p[5]>0&&Sm(p)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=ri(a[l],s);ga(d)&&d[5]>0&&Sm(d)}}function BE(s,o){const a=ri(o,s),l=a[1];(function Am(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),wu(l,a,a[8])}function wp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Nm(s){for(;s;){s[2]|=64;const o=ch(s);if(Ad(s)&&!o)return s;s=o}return null}function Dp(s,o,a){const l=o[10];l.begin&&l.begin();try{Il(s,o,s.template,a)}catch(d){throw Eh(o,d),d}finally{l.end&&l.end()}}function o0(s){!function Dh(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=Fn(a),d=l[1];qv(d,l,d.template,a)}}(s[8])}function Mm(s,o,a){io(0),o(s,a)}const WE=(()=>Promise.resolve(null))();function a0(s){return s[7]||(s[7]=[])}function Yi(s){return s.cleanup||(s.cleanup=[])}function Eh(s,o){const a=s[9],l=a?a.get(uh,null):null;l&&l.handleError(o)}function Ep(s,o,a,l,d){for(let p=0;p<a.length;){const _=a[p++],b=a[p++],D=o[_],I=s.data[_];null!==I.setInput?I.setInput(D,d,l,b):D[b]=d}}function $a(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?p=b:1==p?d=se(d,b):2==p&&(l=se(l,b+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}const Om=new mn("INJECTOR",-1);class Rm{get(o,a=ks){if(a===ks){const l=new Error(`NullInjectorError: No provider for ${re(o)}!`);throw l.name="NullInjectorError",l}return a}}const Tp=new mn("Set Injector scope."),Sl={},$N={};let Ha;function xm(){return void 0===Ha&&(Ha=new Rm),Ha}function l0(s,o=null,a=null,l){const d=c0(s,o,a,l);return d._resolveInjectorDefTypes(),d}function c0(s,o=null,a=null,l){return new d0(s,a,o||xm(),l)}class d0{constructor(o,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&wn(a,b=>this.processProvider(b,o,a)),wn([o],b=>this.processInjectorType(b,[],p)),this.records.set(Om,qc(void 0,this));const _=this.records.get(Tp);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:re(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=ks,l=yt.Default){this.assertNotDestroyed();const d=Re(this),p=Cn(void 0);try{if(!(l&yt.SkipSelf)){let b=this.records.get(o);if(void 0===b){const D=function HN(s){return"function"==typeof s||"object"==typeof s&&s instanceof mn}(o)&&_n(o);b=D&&this.injectableDefInScope(D)?qc(km(o),Sl):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(l&yt.Self?xm():this.parent).get(o,a=l&yt.Optional&&a===ks?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[ho]=_[ho]||[]).unshift(re(o)),d)throw _;return function fo(s,o,a,l){const d=s[ho];throw o[L]&&d.unshift(o[L]),s.message=function fu(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=re(o);if(Array.isArray(o))d=o.map(re).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];p.push(_+":"+("string"==typeof b?JSON.stringify(b):re(b)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(C,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[ho]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{Cn(p),Re(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(re(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,"")}processInjectorType(o,a,l){if(!(o=ee(o)))return!1;let d=Jr(o);const p=null==d&&o.ngModule||void 0,_=void 0===p?o:p,b=-1!==l.indexOf(_);if(void 0!==p&&(d=Jr(p)),null==d)return!1;if(null!=d.imports&&!b){let N;l.push(_);try{wn(d.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===N&&(N=[]),N.push(P))})}finally{}if(void 0!==N)for(let P=0;P<N.length;P++){const{ngModule:$,providers:Q}=N[P];wn(Q,_e=>this.processProvider(_e,$,Q||U))}}this.injectorDefTypes.add(_);const D=ss(_)||(()=>new _);this.records.set(_,qc(D,Sl));const I=d.providers;if(null!=I&&!b){const N=o;wn(I,P=>this.processProvider(P,N,I))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,l){let d=Zc(o=ee(o))?o:ee(o&&o.provide);const p=function KE(s,o,a){return h0(s)?qc(void 0,s.useValue):qc(Pm(s),Sl)}(o);if(Zc(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=qc(void 0,Sl,!0),_.factory=()=>Fr(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,p)}hydrate(o,a){return a.value===Sl&&(a.value=$N,a.value=a.factory()),"object"==typeof a.value&&a.value&&function XE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ee(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function km(s){const o=_n(s),a=null!==o?o.factory:ss(s);if(null!==a)return a;if(s instanceof mn)throw new ke(204,"");if(s instanceof Function)return function YE(s){const o=s.length;if(o>0)throw qo(o,"?"),new ke(204,"");const a=function Kt(s){const o=s&&(s[Xr]||s[yn]);if(o){const a=function ns(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new ke(204,"")}function Pm(s,o,a){let l;if(Zc(s)){const d=ee(s);return ss(d)||km(d)}if(h0(s))l=()=>ee(s.useValue);else if(function Fm(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Fr(s.deps||[]));else if(function QE(s){return!(!s||!s.useExisting)}(s))l=()=>We(ee(s.useExisting));else{const d=ee(s&&(s.useClass||s.provide));if(!function f0(s){return!!s.deps}(s))return ss(d)||km(d);l=()=>new d(...Fr(s.deps))}return l}function qc(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function h0(s){return null!==s&&"object"==typeof s&&Y in s}function Zc(s){return"function"==typeof s}let Us=(()=>{class s{static create(a,l){var d;if(Array.isArray(a))return l0({name:""},l,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return l0({name:p},a.parent,a.providers,p)}}}return s.THROW_IF_NOT_FOUND=ks,s.NULL=new Rm,s.\u0275prov=Zt({token:s,providedIn:"any",factory:()=>We(Om)}),s.__NG_ELEMENT_ID__=-1,s})();function _0(s,o){Ea(Fn(s)[1],cn())}function Sp(s){let o=function $m(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Ti(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ke(903,"");d=o.\u0275dir}if(d){if(a){l.push(d);const _=s;_.inputs=Kc(s.inputs),_.declaredInputs=Kc(s.declaredInputs),_.outputs=Kc(s.outputs);const b=d.hostBindings;b&&w0(s,b);const D=d.viewQuery,I=d.contentQueries;if(D&&v0(s,D),I&&b0(s,I),ue(s.inputs,d.inputs),ue(s.declaredInputs,d.declaredInputs),ue(s.outputs,d.outputs),Ti(d)&&d.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const b=p[_];b&&b.ngInherit&&b(s),b===Sp&&(a=!1)}}o=Object.getPrototypeOf(o)}!function y0(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=kr(d.hostAttrs,a=kr(a,d.hostAttrs))}}(l)}function Kc(s){return s===Br?{}:s===U?[]:s}function v0(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function b0(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,p)=>{o(l,d,p),a(l,d,p)}:o}function w0(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let Ap=null;function Eu(){if(!Ap){const s=vt.Symbol;if(s&&s.iterator)Ap=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Ap=l)}}}return Ap}function Mh(s){return!!qm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Eu()in s)}function qm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function hs(s,o,a){return s[o]=a}function Lr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Al(s,o,a,l){const d=Lr(s,o,a);return Lr(s,o+1,l)||d}function Zm(s,o,a,l){const d=Me();return Lr(d,Si(),o)&&(Vt(),function bo(s,o,a,l,d,p){const _=ar(s,o);n0(o[11],_,p,s.value,a,l,d)}(kn(),d,s,o,a,l)),Zm}function js(s,o,a,l){return Lr(s,Si(),a)?o+K(a)+l:Rt}function a1(s,o,a,l,d,p,_,b){const D=Me(),I=Vt(),N=s+20,P=I.firstCreatePass?function M0(s,o,a,l,d,p,_,b,D){const I=o.consts,N=Gc(o,s,4,_||null,Ii(I,b));Tm(o,a,N,Ii(I,D)),Ea(o,N);const P=N.tViews=vp(2,N,l,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,N),P.queries=o.queries.embeddedTView(N)),N}(N,I,D,o,a,l,d,p,_):I.data[N];Gr(P,!1);const $=D[11].createComment("");_u(I,D,$,P),nt($,D),wp(D,D[N]=Im($,D,$,P)),Es(P)&&Wc(I,D,P),null!=_&&yp(D,P,b)}function Mp(s){return us(function ju(){return ct.lFrame.contextLView}(),20+s)}function td(s,o=yt.Default){const a=Me();return null===a?We(s,o):nl(cn(),a,ee(s),o)}function s_(){throw new Error("invalid")}function o_(s,o,a){const l=Me();return Lr(l,Si(),o)&&_i(Vt(),kn(),l,s,o,l[11],a,!1),o_}function a_(s,o,a,l,d){const _=d?"class":"style";Ep(s,a,o.inputs[_],_,l)}function Et(s,o,a,l){const d=Me(),p=Vt(),_=20+s,b=d[11],D=d[_]=tm(b,o,function iu(){return ct.lFrame.currentNamespace}()),I=p.firstCreatePass?function D1(s,o,a,l,d,p,_){const b=o.consts,I=Gc(o,s,2,d,Ii(b,p));return Tm(o,a,I,Ii(b,_)),null!==I.attrs&&$a(I,I.attrs,!1),null!==I.mergedAttrs&&$a(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(_,p,d,0,o,a,l):p.data[_];Gr(I,!0);const N=I.mergedAttrs;null!==N&&Qu(b,D,N);const P=I.classes;null!==P&&ph(b,D,P);const $=I.styles;null!==$&&Ov(b,D,$),64!=(64&I.flags)&&_u(p,d,D,I),0===function eu(){return ct.lFrame.elementDepthCount}()&&nt(D,d),function Xs(){ct.lFrame.elementDepthCount++}(),Es(I)&&(Wc(p,d,I),function Em(s,o,a){if(pr(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}(p,I,d)),null!==l&&yp(d,I)}function Ln(){let s=cn();Ss()?ma():(s=s.parent,Gr(s,!1));const o=s;!function eo(){ct.lFrame.elementDepthCount--}();const a=Vt();a.firstCreatePass&&(Ea(a,s),pr(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function so(s){return 0!=(16&s.flags)}(o)&&a_(a,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ld(s){return 0!=(32&s.flags)}(o)&&a_(a,o,Me(),o.stylesWithoutHost,!1)}function ea(s,o,a,l){Et(s,o,a,l),Ln()}function U0(){return Me()}function l_(s){return!!s&&"function"==typeof s.then}function B0(s){return!!s&&"function"==typeof s.subscribe}const j0=B0;function c_(s,o,a,l){const d=Me(),p=Vt(),_=cn();return function $0(s,o,a,l,d,p,_,b){const D=Es(l),N=s.firstCreatePass&&Yi(s),P=o[8],$=a0(o);let Q=!0;if(3&l.type||b){const Ze=ar(l,o),at=b?b(Ze):Ze,Ae=$.length,rt=b?jt=>b(Un(jt[l.index])):l.index;if(Nn(a)){let jt=null;if(!b&&D&&(jt=function I1(s,o,a,l){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===l){const b=o[7],D=d[p+2];return b.length>D?b[D]:null}"string"==typeof _&&(p+=2)}return null}(s,o,d,l.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=p,jt.__ngLastListenerFn__=p,Q=!1;else{p=H0(l,o,P,p,!1);const hn=a.listen(at,d,p);$.push(p,hn),N&&N.push(d,rt,Ae,Ae+1)}}else p=H0(l,o,P,p,!0),at.addEventListener(d,p,_),$.push(p),N&&N.push(d,rt,Ae,_)}else p=H0(l,o,P,p,!1);const _e=l.outputs;let Be;if(Q&&null!==_e&&(Be=_e[d])){const Ze=Be.length;if(Ze)for(let at=0;at<Ze;at+=2){const ps=o[Be[at]][Be[at+1]].subscribe(p),qa=$.length;$.push(p,ps),N&&N.push(d,l.index,qa,-(qa+1))}}}(p,d,d[11],_,s,o,!!a,l),c_}function nd(s,o,a,l){try{return!1!==a(l)}catch(d){return Eh(s,d),!1}}function H0(s,o,a,l,d){return function p(_){if(_===Function)return l;const b=2&s.flags?ri(s.index,o):o;0==(32&o[2])&&Nm(b);let D=nd(o,0,l,_),I=p.__ngNextListenerFn__;for(;I;)D=nd(o,0,I,_)&&D,I=I.__ngNextListenerFn__;return d&&!1===D&&(_.preventDefault(),_.returnValue=!1),D}}function W0(s=1){return function xf(s){return(ct.lFrame.contextLView=function kf(s,o){for(;s>0;)o=o[15],s--;return o}(s,ct.lFrame.contextLView))[8]}(s)}function S1(s,o){let a=null;const l=function _E(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===l?xv(s,p,!0):dm(l,p))return d}else a=d}return a}function A1(s){const o=Me()[16][6];if(!o.projection){const l=o.projection=qo(s?s.length:1,null),d=l.slice();let p=o.child;for(;null!==p;){const _=s?S1(p,s):0;null!==_&&(d[_]?d[_].projectionNext=p:l[_]=p,d[_]=p),p=p.next}}}function z0(s,o=0,a){const l=Me(),d=Vt(),p=Gc(d,20+s,16,null,a||null);null===p.projection&&(p.projection=o),ma(),64!=(64&p.flags)&&function ap(s,o,a){Vc(o[11],0,o,a,_o(s,a,o),om(a.parent||o[6],a,o))}(d,l,p)}function q0(s,o,a){return Rp(s,"",o,"",a),q0}function Rp(s,o,a,l,d){const p=Me(),_=js(p,o,a,l);return _!==Rt&&_i(Vt(),kn(),p,s,_,p[11],d,!1),Rp}function xp(s,o,a,l,d){const p=s[a+1],_=null===o;let b=l?qi(p):vo(p),D=!1;for(;0!==b&&(!1===D||_);){const N=s[b+1];O1(s[b],o)&&(D=!0,s[b+1]=l?Dl(N):hp(N)),b=l?qi(N):vo(N)}D&&(s[a+1]=l?hp(p):Dl(p))}function O1(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&xa(s,o)>=0}const Nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function h_(s){return s.substring(Nr.key,Nr.keyEnd)}function x1(s,o){const a=Nr.textEnd;return a===o?-1:(o=Nr.keyEnd=function k1(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Nr.key=o,a),Pl(s,o,a))}function Pl(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function f_(s,o,a){return Eo(s,o,a,!1),f_}function p_(s,o){return Eo(s,o,null,!0),p_}function ob(s){!function To(s,o,a,l){const d=Vt(),p=ls(2);d.firstUpdatePass&&ub(d,null,p,l);const _=Me();if(a!==Rt&&Lr(_,p,a)){const b=d.data[er()];if(j1(b,l)&&!ab(d,p)){let D=l?b.classesWithoutHost:b.stylesWithoutHost;null!==D&&(a=se(D,a||"")),a_(d,b,_,a,l)}else!function B1(s,o,a,l,d,p,_,b){d===Rt&&(d=U);let D=0,I=0,N=0<d.length?d[0]:null,P=0<p.length?p[0]:null;for(;null!==N||null!==P;){const $=D<d.length?d[D+1]:void 0,Q=I<p.length?p[I+1]:void 0;let Be,_e=null;N===P?(D+=2,I+=2,$!==Q&&(_e=P,Be=Q)):null===P||null!==N&&N<P?(D+=2,_e=N):(I+=2,_e=P,Be=Q),null!==_e&&cb(s,o,a,l,_e,Be,_,b),N=D<d.length?d[D]:null,P=I<p.length?p[I]:null}}(d,b,_,_[11],_[p+1],_[p+1]=function tM(s,o,a){if(null==a||""===a)return U;const l=[],d=po(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)s(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&s(l,p,d[p]);else"string"==typeof d&&o(l,d);return l}(s,o,a),l,p)}}(pi,Wa,s,!0)}function Wa(s,o){for(let a=function tb(s){return function Mr(s){Nr.key=0,Nr.keyEnd=0,Nr.value=0,Nr.valueEnd=0,Nr.textEnd=s.length}(s),x1(s,Pl(s,0,Nr.textEnd))}(o);a>=0;a=x1(o,a))pi(s,h_(o),!0)}function Eo(s,o,a,l){const d=Me(),p=Vt(),_=ls(2);p.firstUpdatePass&&ub(p,s,_,l),o!==Rt&&Lr(d,_,o)&&cb(p,p.data[er()],d,d[11],s,d[_+1]=function nM(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=re(po(s)))),s}(o,a),l,_)}function ab(s,o){return o>=s.expandoStartIndex}function ub(s,o,a,l){const d=s.data;if(null===d[a+1]){const p=d[er()],_=ab(s,a);j1(p,l)&&null===o&&!_&&(o=!1),o=function L1(s,o,a,l){const d=function ro(s){const o=ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Pp(a=lb(null,s,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(a=lb(d,s,o,a,l),null===p){let D=function V1(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==vo(l))return s[qi(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=lb(null,s,o,D[1],l),D=Pp(D,o.attrs,l),function XN(s,o,a,l){s[qi(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else p=function eM(s,o,a){let l;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)l=Pp(l,s[p].hostAttrs,a);return Pp(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,l),function N1(s,o,a,l,d,p){let _=p?o.classBindings:o.styleBindings,b=qi(_),D=vo(_);s[l]=a;let N,I=!1;if(Array.isArray(a)){const P=a;N=P[1],(null===N||xa(P,N)>0)&&(I=!0)}else N=a;if(d)if(0!==D){const $=qi(s[b+1]);s[l+1]=dp($,b),0!==$&&(s[$+1]=mh(s[$+1],l)),s[b+1]=function pm(s,o){return 131071&s|o<<17}(s[b+1],l)}else s[l+1]=dp(b,0),0!==b&&(s[b+1]=mh(s[b+1],l)),b=l;else s[l+1]=dp(D,0),0===b?b=l:s[D+1]=mh(s[D+1],l),D=l;I&&(s[l+1]=hp(s[l+1])),xp(s,N,l,!0),xp(s,N,l,!1),function M1(s,o,a,l,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&xa(p,o)>=0&&(a[l+1]=Dl(a[l+1]))}(o,N,s,l,p),_=dp(b,D),p?o.classBindings=_:o.styleBindings=_}(d,p,o,a,_,l)}}function lb(s,o,a,l,d){let p=null;const _=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<_&&(p=o[b],l=Pp(l,p.hostAttrs,d),p!==s);)b++;return null!==s&&(a.directiveStylingLast=b),l}function Pp(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),pi(s,_,!!a||o[++p]))}return void 0===s?null:s}function cb(s,o,a,l,d,p,_,b){if(!(3&o.type))return;const D=s.data,I=D[b+1];g_(function Lv(s){return 1==(1&s)}(I)?db(D,o,a,d,vo(I),_):void 0)||(g_(p)||function fm(s){return 2==(2&s)}(I)&&(p=db(D,null,a,d,b,_)),function up(s,o,a,l,d){const p=Nn(s);if(o)d?p?s.addClass(a,l):a.classList.add(l):p?s.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:zi.DashCase;if(null==d)p?s.removeStyle(a,l,_):a.style.removeProperty(l);else{const b="string"==typeof d&&d.endsWith("!important");b&&(d=d.slice(0,-10),_|=zi.Important),p?s.setStyle(a,l,d,_):a.style.setProperty(l,d,b?"important":"")}}}(l,_,xr(er(),a),d,p))}function db(s,o,a,l,d,p){const _=null===o;let b;for(;d>0;){const D=s[d],I=Array.isArray(D),N=I?D[1]:D,P=null===N;let $=a[d+1];$===Rt&&($=P?U:void 0);let Q=P?Hd($,l):N===l?$:void 0;if(I&&!g_(Q)&&(Q=Hd(D,l)),g_(Q)&&(b=Q,_))return b;const _e=s[d+1];d=_?qi(_e):vo(_e)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(b=Hd(D,l))}return b}function g_(s){return void 0!==s}function j1(s,o){return 0!=(s.flags&(o?16:32))}function G1(s,o=""){const a=Me(),l=Vt(),d=s+20,p=l.firstCreatePass?Gc(l,d,1,o,null):l.data[d],_=a[d]=Xg(a[11],o);_u(l,a,_,p),Gr(p,!1)}function m_(s){return Fp("",s,""),m_}function Fp(s,o,a){const l=Me(),d=js(l,s,o,a);return d!==Rt&&function wo(s,o,a){const l=xr(o,s);em(s[11],l,a)}(l,er(),d),Fp}function Ph(s,o,a){const l=Me();return Lr(l,Si(),o)&&_i(Vt(),kn(),l,s,o,l[11],a,!0),Ph}const Fl=void 0;var hT=["en",[["a","p"],["AM","PM"],Fl],[["AM","PM"],Fl,Fl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fl,"{1} 'at' {0}",Fl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dT(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let rd={};function __(s){const o=function aM(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Ib(o);if(a)return a;const l=o.split("-")[0];if(a=Ib(l),a)return a;if("en"===l)return hT;throw new Error(`Missing locale data for the locale "${s}".`)}function Cb(s){return __(s)[Ct.PluralCase]}function Ib(s){return s in rd||(rd[s]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[s]),rd[s]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const uM=["zero","one","two","few","many"],Lp="en-US",y_={marker:"element"},v_={marker:"ICU"};var vr=(()=>((vr=vr||{})[vr.SHIFT=2]="SHIFT",vr[vr.APPEND_EAGERLY=1]="APPEND_EAGERLY",vr[vr.COMMENT=2]="COMMENT",vr))();let fT=Lp;function mT(s,o,a){const l=o.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?am(s,0,a):Un(a[d])}function _T(s,o,a,l,d){const p=o.insertBeforeIndex;if(Array.isArray(p)){let _=l,b=null;if(3&o.type||(b=_,_=d),null!==_&&0==(2&o.flags))for(let D=1;D<p.length;D++)bl(s,_,a[p[D]],b,!1)}}function Sb(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const l=s[a];Ab(l)||dM(l,o)&&null===hM(l)&&yT(l,o.index)}}function Ab(s){return!(64&s.type)}function dM(s,o){return Ab(o)||s.index>o.index}function hM(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function yT(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(zt(mT,_T),s.insertBeforeIndex=o)}function Vp(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function fM(s,o,a){const l=Dm(s,a,64,null,null);return Sb(o,l),l}function b_(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Nb(s){return s>>>17}function Mb(s){return(131070&s)>>>1}let Bp=0,Fh=0;function Cu(s,o,a,l){const d=a[11];let _,p=null;for(let b=0;b<o.length;b++){const D=o[b];if("string"==typeof D){const I=o[++b];null===a[I]&&(a[I]=Xg(d,D))}else if("number"==typeof D)switch(1&D){case 0:const I=Nb(D);let N,P;if(null===p&&(p=I,_=dh(d,l)),I===p?(N=l,P=_):(N=null,P=Un(a[I])),null!==P){const Be=Mb(D);bl(d,P,a[Be],N,!1);const at=Vp(s,Be);if(null!==at&&"object"==typeof at){const Ae=b_(at,a);null!==Ae&&Cu(s,at.create[Ae],a,a[at.anchorIdx])}}break;case 1:const Q=o[++b],_e=o[++b];n0(d,xr(D>>>1,a),null,null,Q,_e,null)}else switch(D){case v_:const I=o[++b],N=o[++b];null===a[N]&&nt(a[N]=$t(d,I),a);break;case y_:const P=o[++b],$=o[++b];null===a[$]&&nt(a[$]=tm(d,P,null),a)}}}function Rb(s,o,a,l,d){for(let p=0;p<a.length;p++){const _=a[p],b=a[++p];if(_&d){let D="";for(let I=p+1;I<=p+b;I++){const N=a[I];if("string"==typeof N)D+=N;else if("number"==typeof N)if(N<0)D+=K(o[l-N]);else{const P=N>>>2;switch(3&N){case 1:const $=a[++I],Q=a[++I],_e=s.data[P];"string"==typeof _e?n0(o[11],o[P],null,_e,$,D,Q):_i(s,_e,o,$,D,o[11],Q,!1);break;case 0:const Be=o[P];null!==Be&&em(o[11],Be,D);break;case 2:pM(s,Vp(s,P),o,D);break;case 3:DT(s,Vp(s,P),l,o)}}}}else{const D=a[p+1];if(D>0&&3==(3&D)){const N=Vp(s,D>>>2);o[N.currentCaseLViewIndex]<0&&DT(s,N,l,o)}}p+=b}}function DT(s,o,a,l){let d=l[o.currentCaseLViewIndex];if(null!==d){let p=Bp;d<0&&(d=l[o.currentCaseLViewIndex]=~d,p=-1),Rb(s,l,o.update[d],a,p)}}function pM(s,o,a,l){const d=function TT(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const l=function lM(s,o){const a=Cb(o)(parseInt(s,10)),l=uM[a];return void 0!==l?l:"other"}(o,function gT(){return fT}());a=s.cases.indexOf(l),-1===a&&"other"!==l&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,l);if(b_(o,a)!==d&&(ET(s,o,a),a[o.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const _=a[o.anchorIdx];_&&Cu(s,o.create[d],a,_)}}function ET(s,o,a){let l=b_(o,a);if(null!==l){const d=o.remove[l];for(let p=0;p<d.length;p++){const _=d[p];if(_>0){const b=xr(_,a);null!==b&&lm(a[11],b)}else ET(s,Vp(s,~_),a)}}}function id(){const s=[];let a,l,o=-1;function p(b,D){o=0;const I=b_(b,D);l=null!==I?b.remove[I]:U}function _(){if(o<l.length){const b=l[o++];return b>0?a[b]:(s.push(o,l),p(a[1].data[~b],a),_())}return 0===s.length?null:(l=s.pop(),o=s.pop(),_())}return function d(b,D){for(a=D;s.length;)s.pop();return p(b.value,D),_}}const jp=/\ufffd(\d+):?\d*\ufffd/gi,Ri=/\ufffd(\d+)\ufffd/,kb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Pb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Gp=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,IT=/\uE500/g;function E_(s,o,a,l,d,p,_){const b=$c(s,l,1,null);let D=b<<vr.SHIFT,I=to();o===I&&(I=null),null===I&&(D|=vr.APPEND_EAGERLY),_&&(D|=vr.COMMENT,function aE(s){void 0===ep&&(ep=s())}(id)),d.push(D,null===p?"":p);const N=Dm(s,b,_?32:1,null===p?"":p,null);Sb(a,N);const P=N.index;return Gr(N,!1),null!==I&&o!==I&&function bT(s,o){let a=s.insertBeforeIndex;null===a?(zt(mT,_T),a=s.insertBeforeIndex=[null,o]):(function J(s,o,a){s!=o&&ft(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(I,P),N}function Fb(s,o,a,l,d,p,_){const b=_.match(jp),D=E_(s,o,a,p,l,b?null:_,!1);b&&Ll(d,_,D.index,null,0,null)}function Ll(s,o,a,l,d,p){const _=s.length,b=_+1;s.push(null,null);const D=_+2,I=o.split(jp);let N=0;for(let P=0;P<I.length;P++){const $=I[P];if(1&P){const Q=d+parseInt($,10);s.push(-1-Q),N|=AT(Q)}else""!==$&&s.push($)}return s.push(a<<2|(l?1:0)),l&&s.push(l,p),s[_]=N,s[b]=s.length-D,N}function AT(s){return 1<<Math.min(s,31)}function NT(s){let o,p,a="",l=0,d=!1;for(;null!==(o=Pb.exec(s));)d?o[0]===`\ufffd/*${p}\ufffd`&&(l=o.index,d=!1):(a+=s.substring(l,o.index+o[0].length),p=o[1],d=!0);return a+=s.substr(l),a}function MT(s,o,a,l,d,p){let _=0;const b={type:d.type,currentCaseLViewIndex:$c(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function vM(s,o,a){s.push(AT(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,d,p),function vT(s,o,a){const l=s.data[o];null===l?s.data[o]=a:l.value=a}(s,p,b);const D=d.values;for(let I=0;I<D.length;I++){const N=D[I],P=[];for(let $=0;$<N.length;$++){const Q=N[$];if("string"!=typeof Q){const _e=P.push(Q)-1;N[$]=`\x3c!--\ufffd${_e}\ufffd--\x3e`}}_=OT(s,b,o,a,l,d.cases[I],N.join(""),P)|_}_&&function jb(s,o,a){s.push(o,1,a<<2|3)}(a,_,p)}function Ub(s){const o=[],a=[];let l=1,d=0;const p=Uh(s=s.replace(kb,function(_,b,D){return l="select"===D?0:1,d=parseInt(b.substr(1),10),""}));for(let _=0;_<p.length;){let b=p[_++].trim();1===l&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&o.push(b);const D=Uh(p[_++]);o.length>a.length&&a.push(D)}return{type:l,mainBinding:d,cases:o,values:a}}function Uh(s){if(!s)return[];let o=0;const a=[],l=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(s);){const b=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const D=s.substring(o,b);kb.test(D)?l.push(Ub(D)):l.push(D),o=b+1}}else{if(0==a.length){const D=s.substring(o,b);l.push(D),o=b+1}a.push("{")}}const _=s.substring(o);return l.push(_),l}function OT(s,o,a,l,d,p,_,b){const D=[],I=[],N=[];o.cases.push(p),o.create.push(D),o.remove.push(I),o.update.push(N);const $=function Jd(s){const o=new Mc(s);return function zg(){try{return!!(new window.DOMParser).parseFromString(Ls(""),"text/html")}catch(s){return!1}}()?new Wg(o):o}(fa()).getInertBodyElement(_),Q=function xc(s){return"content"in s&&function y(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}($)||$;return Q?Bb(s,o,a,l,D,I,N,Q,d,b,0):0}function Bb(s,o,a,l,d,p,_,b,D,I,N){let P=0,$=b.firstChild;for(;$;){const Q=$c(s,a,1,null);switch($.nodeType){case Node.ELEMENT_NODE:const _e=$,Be=_e.tagName.toLowerCase();if(pl.hasOwnProperty(Be)){na(d,y_,Be,D,Q),s.data[Q]=Be;const rt=_e.attributes;for(let jt=0;jt<rt.length;jt++){const hn=rt.item(jt),ps=hn.name.toLowerCase();hn.value.match(jp)?nh.hasOwnProperty(ps)&&Ll(_,hn.value,Q,hn.name,0,qf[ps]?hl:Fa[ps]?zf:null):Gb(d,Q,hn)}P=Bb(s,o,a,l,d,p,_,$,Q,I,N+1)|P,C_(p,Q,N)}break;case Node.TEXT_NODE:const Ze=$.textContent||"",at=Ze.match(jp);na(d,null,at?"":Ze,D,Q),C_(p,Q,N),at&&(P=Ll(_,Ze,Q,null,0,null)|P);break;case Node.COMMENT_NODE:const Ae=Ri.exec($.textContent||"");if(Ae){const jt=I[parseInt(Ae[1],10)];na(d,v_,"",D,Q),MT(s,a,l,D,jt,Q),yM(p,Q,N)}}$=$.nextSibling}return P}function C_(s,o,a){0===a&&s.push(o)}function yM(s,o,a){0===a&&(s.push(~o),s.push(o))}function na(s,o,a,l,d){null!==o&&s.push(o),s.push(a,d,function Up(s,o,a){return s|o<<17|a<<1}(0,l,d))}function Gb(s,o,a){s.push(o<<1|1,a.name,a.value)}function FT(s,o,a=-1){const l=Vt(),d=Me(),p=20+s,_=Ii(l.consts,o),b=to();l.firstCreatePass&&function D_(s,o,a,l,d,p){const _=to(),b=[],D=[],I=[[]];d=function _M(s,o){if(function Vb(s){return-1===s}(o))return NT(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,l=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return NT(s.substring(a,l))}}(d,p);const N=function ST(s){return s.replace(IT," ")}(d).split(Gp);for(let P=0;P<N.length;P++){let $=N[P];if(0==(1&P)){const Q=Uh($);for(let _e=0;_e<Q.length;_e++){let Be=Q[_e];if(0==(1&_e)){const Ze=Be;""!==Ze&&Fb(s,_,I[0],b,D,a,Ze)}else{const Ze=Be;if("object"!=typeof Ze)throw new Error(`Unable to parse ICU expression in "${d}" message.`);MT(s,a,D,o,Ze,E_(s,_,I[0],a,b,"",!0).index)}}}else{const Q=47===$.charCodeAt(0),Be=($.charCodeAt(Q?1:0),20+Number.parseInt($.substring(Q?2:1)));if(Q)I.shift(),Gr(to(),!1);else{const Ze=fM(s,I[0],Be);I.unshift([]),Gr(Ze,!0)}}}s.data[l]={create:b,update:D}}(l,null===b?0:b.index,d,p,_,a);const D=l.data[p],N=Nv(l,b===d[6]?null:b,d);(function w_(s,o,a,l){const d=s[11];for(let p=0;p<o.length;p++){const _=o[p++],b=o[p],D=(_&vr.COMMENT)===vr.COMMENT,I=(_&vr.APPEND_EAGERLY)===vr.APPEND_EAGERLY,N=_>>>vr.SHIFT;let P=s[N];null===P&&(P=s[N]=D?d.createComment(b):Xg(d,b)),I&&null!==a&&bl(d,a,P,l,!1)}})(d,D.create,N,b&&8&b.type?d[b.index]:null),no(!0)}function LT(s,o,a){FT(s,o,a),function S_(){no(!1)}()}function Hp(s){return function Ob(s){s&&(Bp|=1<<Math.min(Fh,31)),Fh++}(Lr(Me(),Si(),s)),Hp}function Co(s){!function za(s,o,a){if(Fh>0){const l=s.data[a];Rb(s,o,Array.isArray(l)?l:l.update,function hi(){return ct.lFrame.bindingIndex}()-Fh-1,Bp)}Bp=0,Fh=0}(Vt(),Me(),s+20)}function A_(s,o,a,l,d){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)A_(s[p],o,a,l,d);else{const p=Vt(),_=Me();let b=Zc(s)?s:ee(s.provide),D=Pm(s);const I=cn(),N=1048575&I.providerIndexes,P=I.directiveStart,$=I.providerIndexes>>20;if(Zc(s)||!s.multi){const Q=new qn(D,d,td),_e=Wb(b,o,d?N:N+$,P);-1===_e?(ur(Ho(I,_),p,b),Hb(p,s,o.length),o.push(b),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(Q),_.push(Q)):(a[_e]=Q,_[_e]=Q)}else{const Q=Wb(b,o,N+$,P),_e=Wb(b,o,N,N+$),Be=Q>=0&&a[Q],Ze=_e>=0&&a[_e];if(d&&!Ze||!d&&!Be){ur(Ho(I,_),p,b);const at=function CM(s,o,a,l,d){const p=new qn(s,a,td);return p.multi=[],p.index=o,p.componentProviders=0,VT(p,d,l&&!a),p}(d?TM:EM,a.length,d,l,D);!d&&Ze&&(a[_e].providerFactory=at),Hb(p,s,o.length,0),o.push(b),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(at),_.push(at)}else Hb(p,s,Q>-1?Q:_e,VT(a[d?_e:Q],D,!d&&l));!d&&l&&Ze&&a[_e].componentProviders++}}}function Hb(s,o,a,l){const d=Zc(o),p=function JE(s){return!!s.useClass}(o);if(d||p){const D=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(D){const I=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const N=I.indexOf(a);-1===N?I.push(a,[l,D]):I[N+1].push(l,D)}else I.push(a,D)}}}function VT(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Wb(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function EM(s,o,a,l){return zb(this.multi,[])}function TM(s,o,a,l){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=In(a,a[1],this.providerFactory.index,l);p=b.slice(0,_),zb(d,p);for(let D=_;D<b.length;D++)p.push(b[D])}else p=[],zb(d,p);return p}function zb(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function UT(s,o=[]){return a=>{a.providersResolver=(l,d)=>function DM(s,o,a){const l=Vt();if(l.firstCreatePass){const d=Ti(s);A_(a,l.data,l.blueprint,d,!0),A_(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class qb{}class SM{resolveComponentFactory(o){throw function IM(s){const o=Error(`No component factory found for ${re(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Bh=(()=>{class s{}return s.NULL=new SM,s})();function AM(){return jh(cn(),Me())}function jh(s,o){return new Gh(ar(s,o))}let Gh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=AM,s})();function NM(s){return s instanceof Gh?s.nativeElement:s}class GT{}let MM=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function $T(){const s=Me(),a=ri(cn().index,s);return function OM(s){return s[11]}(ci(a)?a:s)}(),s})(),RM=(()=>{class s{}return s.\u0275prov=Zt({token:s,providedIn:"root",factory:()=>null}),s})();class HT{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const WT=new HT("13.1.3"),br={};function N_(s,o,a,l,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(Un(p)),ji(p))for(let b=10;b<p.length;b++){const D=p[b],I=D[1].firstChild;null!==I&&N_(D[1],D,I,l)}const _=a.type;if(8&_)N_(s,o,a.child,l);else if(32&_){const b=Jg(a,o);let D;for(;D=b();)l.push(D)}else if(16&_){const b=yu(o,a);if(Array.isArray(b))l.push(...b);else{const D=ch(o[16]);N_(D[1],D,b,l,!0)}}a=d?a.projectionNext:a.next}return l}class Wp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return N_(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ji(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(rp(o,l),Ma(a,l))}this._attachedToViewContainer=!1}rm(this._lView[1],this._lView)}onDestroy(o){Kv(this._lView[1],this._lView,null,o)}markForCheck(){Nm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function GE(s,o,a){Vo(!0);try{Dp(s,o,a)}finally{Vo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nm(s,o){fh(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=o}}class xM extends Wp{constructor(o){super(o),this._view=o}detectChanges(){o0(this._view)}checkNoChanges(){!function $E(s){Vo(!0);try{o0(s)}finally{Vo(!1)}}(this._view)}get context(){return null}}class zT extends Bh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=gt(o);return new M_(a,this.ngModule)}}function $h(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}const qT=new mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xf});class M_ extends qb{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Uc(s){return s.map(Ga).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return $h(this.componentDef.inputs)}get outputs(){return $h(this.componentDef.outputs)}create(o,a,l,d){const p=(d=d||this.ngModule)?function ZT(s,o){return{get:(a,l,d)=>{const p=s.get(a,br,d);return p!==br||l===br?p:o.get(a,l,d)}}}(o,d.injector):o,_=p.get(GT,Cs),b=p.get(RM,null),D=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",N=l?function bp(s,o,a){if(Nn(s))return s.selectRootElement(o,a===xt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(D,l,this.componentDef.encapsulation):tm(_.createRenderer(null,this.componentDef),I,function Zb(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(I)),P=this.componentDef.onPush?576:528,$=function Ip(s,o){return{components:[],scheduler:s||Xf,clean:WE,playerHandler:o||null,flags:0}}(),Q=vp(0,null,null,1,0,null,null,null,null,null),_e=vh(null,Q,$,P,null,null,_,D,b,p);let Be,Ze;ba(_e);try{const at=function jm(s,o,a,l,d,p){const _=a[1];a[20]=s;const D=Gc(_,20,2,"#host",null),I=D.mergedAttrs=o.hostAttrs;null!==I&&($a(D,I,!0),null!==s&&(Qu(d,s,I),null!==D.classes&&ph(d,s,D.classes),null!==D.styles&&Ov(d,s,D.styles)));const N=l.createRenderer(s,o),P=vh(a,Zv(o),null,o.onPush?64:16,a[20],D,l,N,p||null,null);return _.firstCreatePass&&(ur(Ho(D,a),_,o.type),Cm(_,D),e0(D,a.length,1)),wp(a,P),a[20]=P}(N,this.componentDef,_e,_,D);if(N)if(l)Qu(D,N,["ng-version",WT.full]);else{const{attrs:Ae,classes:rt}=function Pv(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++l]):8===d&&a.push(p);else{if(!yo(d))break;d=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ae&&Qu(D,N,Ae),rt&&rt.length>0&&ph(D,N,rt.join(" "))}if(Ze=pa(Q,20),void 0!==a){const Ae=Ze.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const jt=a[rt];Ae.push(null!=jt?Array.from(jt):null)}}Be=function Gm(s,o,a,l,d){const p=a[1],_=function AE(s,o,a){const l=cn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),t0(s,l,o,$c(s,o,1,null),a));const d=In(o,s,l.directiveStart,l);nt(d,o);const p=ar(l,o);return p&&nt(p,o),d}(p,a,o);if(l.components.push(_),s[8]=_,d&&d.forEach(D=>D(_,o)),o.contentQueries){const D=cn();o.contentQueries(1,_,D.directiveStart)}const b=cn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(mr(b.index),Jv(a[1],b,0,b.directiveStart,b.directiveEnd,o),Xv(o,_)),_}(at,this.componentDef,_e,$,[_0]),wu(Q,_e,null)}finally{Bo()}return new KT(this.componentType,Be,jh(Ze,_e),_e,Ze)}}class KT extends class BT{}{constructor(o,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new xM(d),this.componentType=o}get injector(){return new bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class od{}class O_{}const ad=new Map;class eC extends od{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zT(this);const l=en(o);this._bootstrapComponents=mi(l.bootstrap),this._r3Injector=c0(o,a,[{provide:od,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver}],re(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Us.THROW_IF_NOT_FOUND,l=yt.Default){return o===Us||o===od||o===Om?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Kb extends O_{constructor(o){super(),this.moduleType=o,null!==en(o)&&function kM(s){const o=new Set;!function a(l){const d=en(l,!0),p=d.id;null!==p&&(function JT(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${re(o)} vs ${re(o.name)}`)}(p,ad.get(p),l),ad.set(p,l));const _=mi(d.imports);for(const b of _)o.has(b)||(o.add(b),a(b))}(s)}(o)}create(o){return new eC(this.moduleType,o)}}function tC(s,o,a,l){return iC(Me(),gr(),s,o,a,l)}function nC(s,o,a,l,d){return function sC(s,o,a,l,d,p,_){const b=o+a;return Al(s,b,d,p)?hs(s,b+2,_?l.call(_,d,p):l(d,p)):Hh(s,b+2)}(Me(),gr(),s,o,a,l,d)}function rC(s,o,a,l,d,p){return function oC(s,o,a,l,d,p,_,b){const D=o+a;return function Rh(s,o,a,l,d){const p=Al(s,o,a,l);return Lr(s,o+2,d)||p}(s,D,d,p,_)?hs(s,D+3,b?l.call(b,d,p,_):l(d,p,_)):Hh(s,D+3)}(Me(),gr(),s,o,a,l,d,p)}function Hh(s,o){const a=s[o];return a===Rt?void 0:a}function iC(s,o,a,l,d,p){const _=o+a;return Lr(s,_,d)?hs(s,_+1,p?l.call(p,d):l(d)):Hh(s,_+1)}function lC(s,o){const a=Vt();let l;const d=s+20;a.firstCreatePass?(l=function Qb(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const p=l.factory||(l.factory=ss(l.type)),_=Cn(td);try{const b=Pr(!1),D=p();return Pr(b),function u1(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,Me(),d,D),D}finally{Cn(_)}}function cC(s,o,a){const l=s+20,d=Me(),p=us(d,l);return function Ul(s,o){return s[1].data[o].pure}(d,l)?iC(d,gr(),o,p.transform,a,p):p.transform(a)}function x_(s){return o=>{setTimeout(s,void 0,o)}}const Gs=class dC extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var d,p,_;let b=o,D=a||(()=>null),I=l;if(o&&"object"==typeof o){const P=o;b=null===(d=P.next)||void 0===d?void 0:d.bind(P),D=null===(p=P.error)||void 0===p?void 0:p.bind(P),I=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(D=x_(D),b&&(b=x_(b)),I&&(I=x_(I)));const N=super.subscribe({next:b,error:D,complete:I});return o instanceof V.w0&&o.add(N),N}};function $M(){return this._results[Eu()]()}class Bl{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Eu(),l=Bl.prototype;l[a]||(l[a]=$M)}get changes(){return this._changes||(this._changes=new Gs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=Pn(o);(this._changesDetected=!function Dc(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],p=o[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Iu=(()=>{class s{}return s.__NG_ELEMENT_ID__=fC,s})();const Xb=Iu,hC=class extends Xb{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=vh(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),wu(a,l,o),new Wp(l)}};function fC(){return zp(cn(),Me())}function zp(s,o){return 4&s.type?new hC(o,s,jh(s,o)):null}let qp=(()=>{class s{}return s.__NG_ELEMENT_ID__=ud,s})();function ud(){return zh(cn(),Me())}const jl=qp,ld=class extends jl{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return jh(this._hostTNode,this._hostLView)}get injector(){return new bn(this._hostTNode,this._hostLView)}get parentInjector(){const o=fi(this._hostTNode,this._hostLView);if(Bd(o)){const a=Ca(o,this._hostLView),l=Ta(o);return new bn(a[1].data[l+8],a)}return new bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Wh(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const d=o.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(o,a,l,d,p){const _=o&&!function zo(s){return"function"==typeof s}(o);let b;if(_)b=a;else{const P=a||{};b=P.index,l=P.injector,d=P.projectableNodes,p=P.ngModuleRef}const D=_?o:new M_(gt(o)),I=l||this.parentInjector;if(!p&&null==D.ngModule&&I){const P=I.get(od,null);P&&(p=P)}const N=D.create(I,d,void 0,p);return this.insert(N.hostView,b),N}insert(o,a){const l=o._lView,d=l[1];if(function Fo(s){return ji(s[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const P=l[3],$=new ld(P,P[6],P[3]);$.detach($.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function lE(s,o,a,l){const d=10+l,p=a.length;l>0&&(a[d-1][4]=o),l<p-10?(o[4]=a[d],lu(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function cE(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(d,l,_,p);const b=um(p,_),D=l[11],I=dh(D,_[7]);return null!==I&&function Av(s,o,a,l,d,p){l[0]=d,l[6]=o,fh(s,l,a,1,d,p)}(d,_[6],D,l,I,b),o.attachToViewContainerRef(),lu(Zp(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Wh(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=rp(this._lContainer,a);l&&(Ma(Zp(this._lContainer),a),rm(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=rp(this._lContainer,a);return l&&null!=Ma(Zp(this._lContainer),a)?new Wp(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Wh(s){return s[8]}function Zp(s){return s[8]||(s[8]=[])}function zh(s,o){let a;const l=o[s.index];if(ji(l))a=l;else{let d;if(8&s.type)d=Un(l);else{const p=o[11];d=p.createComment("");const _=ar(s,o);bl(p,dh(p,_),d,function hE(s,o){return Nn(s)?s.nextSibling(o):o.nextSibling}(p,_),!1)}o[s.index]=a=Im(l,o,d,s),wp(o,a)}return new ld(a,s,o)}class tw{constructor(o){this.queryList=o,this.matches=null}clone(){return new tw(this.queryList)}setDirty(){this.queryList.setDirty()}}class nw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new nw(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==qh(o,a).matches&&this.queries[a].setDirty()}}class pC{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class rw{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new rw(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class iw{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new iw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(o,a,HM(a,p)),this.matchTNodeWithReadOption(o,a,Ms(a,o,p,!1,!1))}else l===Iu?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ms(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Gh||d===qp||d===Iu&&4&a.type)this.addMatch(a.index,-2);else{const p=Ms(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function HM(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function zM(s,o,a,l){return-1===a?function WM(s,o){return 11&s.type?jh(s,o):4&s.type?zp(s,o):null}(o,s):-2===a?function qM(s,o,a){return a===Gh?jh(o,s):a===Iu?zp(o,s):a===qp?zh(o,s):void 0}(s,o,l):In(s,s[1],a,o)}function gC(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const p=s.data,_=a.matches,b=[];for(let D=0;D<_.length;D+=2){const I=_[D];b.push(I<0?null:zM(o,p[I],_[D+1],a.metadata.read))}d.matches=b}return d.matches}function sw(s,o,a,l){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const _=gC(s,o,d,a);for(let b=0;b<p.length;b+=2){const D=p[b];if(D>0)l.push(_[b/2]);else{const I=p[b+1],N=o[-D];for(let P=10;P<N.length;P++){const $=N[P];$[17]===$[3]&&sw($[1],$,I,l)}if(null!==N[9]){const P=N[9];for(let $=0;$<P.length;$++){const Q=P[$];sw(Q[1],Q,I,l)}}}}}return l}function mC(s){const o=Me(),a=Vt(),l=Hu();io(l+1);const d=qh(a,l);if(s.dirty&&Mn(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?sw(a,o,l,[]):gC(a,o,d,l);s.reset(p,NM),s.notifyOnChanges()}return!0}return!1}function _C(s,o,a){const l=Vt();l.firstCreatePass&&(F_(l,new pC(s,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),P_(l,Me(),o)}function yC(s,o,a,l){const d=Vt();if(d.firstCreatePass){const p=cn();F_(d,new pC(o,a,l),p.index),function ow(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}P_(d,Me(),a)}function k_(){return function vC(s,o){return s[19].queries[o].queryList}(Me(),Hu())}function P_(s,o,a){const l=new Bl(4==(4&a));Kv(s,o,l,l.destroy),null===o[19]&&(o[19]=new nw),o[19].queries.push(new tw(l))}function F_(s,o,a){null===s.queries&&(s.queries=new rw),s.queries.track(new iw(o,a))}function qh(s,o){return s.queries.getByIndex(o)}function aw(s,o){return zp(s,o)}function Xh(...s){}const Dw=new mn("Application Initializer");let Hl=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Xh,this.reject=Xh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(l_(p))a.push(p);else if(j0(p)){const _=new Promise((b,D)=>{p.subscribe({complete:b,error:D})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(We(Dw,8))},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();const NC=new mn("AppId"),QM={provide:NC,useFactory:function KM(){return`${Ew()}${Ew()}${Ew()}`},deps:[]};function Ew(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tw=new mn("Platform Initializer"),MC=new mn("Platform ID"),OC=new mn("appBootstrapListener");let RC=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();const Z_=new mn("LocaleId"),Y_=new mn("DefaultCurrencyCode");class XM{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Cw=(()=>{class s{compileModuleSync(a){return new Kb(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=mi(en(a).declarations).reduce((_,b)=>{const D=gt(b);return D&&_.push(new M_(D)),_},[]);return new XM(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();const eO=(()=>Promise.resolve(0))();function Sw(s){"undefined"==typeof Zone?eO.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Qi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function tO(){let s=vt.requestAnimationFrame,o=vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function iO(s){const o=()=>{!function rO(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(vt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,K_(s),s.isCheckStableRunning=!0,Aw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),K_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,_,b)=>{try{return xC(s),a.invokeTask(d,p,_,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),kC(s)}},onInvoke:(a,l,d,p,_,b,D)=>{try{return xC(s),a.invoke(d,p,_,b,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),kC(s)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,K_(s),Aw(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,nO,Xh,Xh);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const nO={};function Aw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function K_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function xC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function kC(s){s._nesting--,Aw(s)}class sO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}let PC=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qi.assertNotInAngularZone(),Sw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sw(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(We(Qi))},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})(),Q_=(()=>{class s{constructor(){this._applications=new Map,J_.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return J_.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();class FC{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function LC(s){J_=s}let So,J_=new FC;const Nw=new mn("AllowMultipleToken");class BC{constructor(o,a){this.name=o,this.token=a}}function X_(s,o,a=[]){const l=`Platform: ${o}`,d=new mn(l);return(p=[])=>{let _=Wl();if(!_||_.injector.get(Nw,!1))if(s)s(a.concat(p).concat({provide:d,useValue:!0}));else{const b=a.concat(p).concat({provide:d,useValue:!0},{provide:Tp,useValue:"platform"});!function jC(s){if(So&&!So.destroyed&&!So.injector.get(Nw,!1))throw new ke(400,"");So=s.get(ey);const o=s.get(Tw,null);o&&o.forEach(a=>a())}(Us.create({providers:b,name:l}))}return function nr(s){const o=Wl();if(!o)throw new ke(401,"");return o}()}}function Wl(){return So&&!So.destroyed?So:null}let ey=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const b=function aO(s,o){let a;return a="noop"===s?new sO:("zone.js"===s?void 0:s)||new Qi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:Qi,useValue:b}];return b.run(()=>{const I=Us.create({providers:D,parent:this.injector,name:a.moduleType.name}),N=a.create(I),P=N.injector.get(uh,null);if(!P)throw new ke(402,"");return b.runOutsideAngular(()=>{const $=b.onError.subscribe({next:Q=>{P.handleError(Q)}});N.onDestroy(()=>{Ow(this._modules,N),$.unsubscribe()})}),function GC(s,o,a){try{const l=a();return l_(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(P,b,()=>{const $=N.injector.get(Hl);return $.runInitializers(),$.donePromise.then(()=>(function pT(s){(function ht(s,o){null==s&&ft(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(fT=s.toLowerCase().replace(/_/g,"-"))}(N.injector.get(Z_,Lp)||Lp),this._moduleDoBootstrap(N),N))})})}bootstrapModule(a,l=[]){const d=Kp({},l);return function VC(s,o,a){const l=new Kb(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(Qp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ke(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(We(Us))},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();function Kp(s,o){return Array.isArray(o)?o.reduce(Kp,s):Object.assign(Object.assign({},s),o)}let Qp=(()=>{class s{constructor(a,l,d,p,_){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new x.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),D=new x.y(I=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Qi.assertNotInAngularZone(),Sw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Qi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{N.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ne.T)(b,D.pipe((0,ae.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new ke(405,"");let d;d=a instanceof qb?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function UC(s){return s.isBoundToModule}(d)?void 0:this._injector.get(od),b=d.create(Us.NULL,[],l||d.selector,p),D=b.location.nativeElement,I=b.injector.get(PC,null),N=I&&b.injector.get(Q_);return I&&N&&N.registerApplication(D,I),b.onDestroy(()=>{this.detachView(b.hostView),Ow(this.components,b),N&&N.unregisterApplication(D)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Ow(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(OC,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(We(Qi),We(Us),We(uh),We(Bh),We(Hl))},s.\u0275prov=Zt({token:s,factory:s.\u0275fac}),s})();function Ow(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let HC=!0,WC=!1;function uO(){return WC=!0,HC}function lO(){if(WC)throw new Error("Cannot enable prod mode after platform setup.");HC=!1}let cO=(()=>{class s{}return s.__NG_ELEMENT_ID__=dO,s})();function dO(s){return function Ht(s,o,a){if(Pu(s)&&!a){const l=ri(s.index,o);return new Wp(l,l)}return 47&s.type?new Wp(o[16],o):null}(cn(),Me(),16==(16&s))}class JC{constructor(){}supports(o){return Mh(o)}create(o){return new pO(o)}}const fO=(s,o)=>o;class pO{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||fO}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<eI(l,d,p)?a:l,b=eI(_,d,p),D=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const I=b-d,N=D-d;if(I!=N){for(let $=0;$<I;$++){const Q=$<p.length?p[$]:p[$]=0,_e=Q+$;N<=_e&&_e<I&&(p[$]=Q+1)}p[_.previousIndex]=N-I}}b!==D&&o(_,b,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Mh(o))throw new ke(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],_=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,b),l=!0),a=a._next}else d=0,function E0(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Eu()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,b=>{_=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,b,_,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new gO(a,l),p,d),o}_verifyReinsertion(o,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new XC),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class gO{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mO{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class XC{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new mO,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eI(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class tI{constructor(){}supports(o){return o instanceof Map||qm(o)}create(){return new _O}}class _O{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||qm(o)))throw new ke(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const l=new yO(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class yO{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nI(){return new sy([new JC])}let sy=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||nI()),deps:[[s,new gi,new tr]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new ke(901,"")}}return s.\u0275prov=Zt({token:s,providedIn:"root",factory:nI}),s})();function rI(){return new oy([new tI])}let oy=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||rI()),deps:[[s,new gi,new tr]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new ke(901,"")}}return s.\u0275prov=Zt({token:s,providedIn:"root",factory:rI}),s})();const vO=[new tI],wO=new sy([new JC]),DO=new oy(vO),EO=X_(null,"core",[{provide:MC,useValue:"unknown"},{provide:ey,deps:[Us]},{provide:Q_,deps:[]},{provide:RC,deps:[]}]),AO=[{provide:Qp,useClass:Qp,deps:[Qi,Us,uh,Bh,Hl]},{provide:qT,deps:[Qi],useFactory:function NO(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(a){o.push(a)}}},{provide:Hl,useClass:Hl,deps:[[new tr,Dw]]},{provide:Cw,useClass:Cw,deps:[]},QM,{provide:sy,useFactory:function TO(){return wO},deps:[]},{provide:oy,useFactory:function CO(){return DO},deps:[]},{provide:Z_,useFactory:function IO(s){return s||function SO(){return"undefined"!=typeof $localize&&$localize.locale||Lp}()},deps:[[new Mi(Z_),new tr,new gi]]},{provide:Y_,useValue:"USD"}];let MO=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(We(Qp))},s.\u0275mod=q({type:s}),s.\u0275inj=Qr({providers:AO}),s})()},3942:(lt,Te,k)=>{"use strict";k.d(Te,{Z:()=>ke});var c=k(2090),V=k(4859),x=k(9681),ne=k(1877);class ae{constructor(K,ie){this._delegate=K,this.firebase=ie,(0,x._addComponent)(K,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(K,ie=x._DEFAULT_ENTRY_NAME){var fe;this._delegate.checkDestroyed();const Ce=this._delegate.container.getProvider(K);return!Ce.isInitialized()&&"EXPLICIT"===(null===(fe=Ce.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&Ce.initialize(),Ce.getImmediate({identifier:ie})}_removeServiceInstance(K,ie=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(ie)}_addComponent(K){(0,x._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,x._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function se(){const je=function re(je){const K={},ie={__esModule:!0,initializeApp:function ve(Ke,mt={}){const J=x.initializeApp(Ke,mt);if((0,c.r3)(K,J.name))return K[J.name];const pe=new je(J,ie);return K[J.name]=pe,pe},app:Ce,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Ie(Ke){const mt=Ke.name,J=mt.replace("-compat","");if(x._registerComponent(Ke)&&"PUBLIC"===Ke.type){const pe=(ge=Ce())=>{if("function"!=typeof ge[J])throw ue.create("invalid-app-argument",{appName:mt});return ge[J]()};void 0!==Ke.serviceProps&&(0,c.ZB)(pe,Ke.serviceProps),ie[J]=pe,je.prototype[J]=function(...ge){return this._getService.bind(this,mt).apply(this,Ke.multipleInstances?ge:[])}}return"PUBLIC"===Ke.type?ie[J]:null},removeApp:function fe(Ke){delete K[Ke]},useAsService:function ut(Ke,mt){return"serverAuth"===mt?null:mt},modularAPIs:x}};function Ce(Ke){if(!(0,c.r3)(K,Ke=Ke||x._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:Ke});return K[Ke]}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function ze(){return Object.keys(K).map(Ke=>K[Ke])}}),Ce.App=je,ie}(ae);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function K(ie){(0,c.ZB)(je,ie)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),je}(),G=new ne.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=B;!function Se(je){(0,x.registerVersion)("@firebase/app-compat","0.1.14",je)}()},9681:(lt,Te,k)=>{"use strict";k.r(Te),k.d(Te,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Jr,_DEFAULT_ENTRY_NAME:()=>Qn,_addComponent:()=>an,_addOrOverwriteComponent:()=>Dr,_apps:()=>ft,_clearComponents:()=>_n,_components:()=>fr,_getProvider:()=>Vr,_registerComponent:()=>Zt,_removeServiceInstance:()=>Qr,deleteApp:()=>Jn,getApp:()=>Le,getApps:()=>yn,initializeApp:()=>Xr,onLog:()=>qt,registerVersion:()=>Tn,setLogLevel:()=>Cn});var c=k(5861),V=k(4859),x=k(1877),ne=k(2090);class ae{constructor(ot){this.container=ot}getPlatformInfoString(){return this.container.getProviders().map(At=>{if(function he(Dt){const ot=Dt.getComponent();return"VERSION"===(null==ot?void 0:ot.type)}(At)){const fn=At.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(At=>At).join(" ")}}const ue="@firebase/app",se=new x.Yd("@firebase/app"),Qn="[DEFAULT]",ht={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ft=new Map,fr=new Map;function an(Dt,ot){try{Dt.container.addComponent(ot)}catch(At){se.debug(`Component ${ot.name} failed to register with FirebaseApp ${Dt.name}`,At)}}function Dr(Dt,ot){Dt.container.addOrOverwriteComponent(ot)}function Zt(Dt){const ot=Dt.name;if(fr.has(ot))return se.debug(`There were multiple attempts to register component ${ot}.`),!1;fr.set(ot,Dt);for(const At of ft.values())an(At,Dt);return!0}function Vr(Dt,ot){return Dt.container.getProvider(ot)}function Qr(Dt,ot,At=Qn){Vr(Dt,ot).clearInstance(At)}function _n(){fr.clear()}const Kt=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ns{constructor(ot,At,fn){this._isDeleted=!1,this._options=Object.assign({},ot),this._config=Object.assign({},At),this._name=At.name,this._automaticDataCollectionEnabled=At.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this.checkDestroyed(),this._automaticDataCollectionEnabled=ot}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ot){this._isDeleted=ot}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const Jr="9.6.3";function Xr(Dt,ot={}){"object"!=typeof ot&&(ot={name:ot});const At=Object.assign({name:Qn,automaticDataCollectionEnabled:!1},ot),fn=At.name;if("string"!=typeof fn||!fn)throw Kt.create("bad-app-name",{appName:String(fn)});const Gn=ft.get(fn);if(Gn){if((0,ne.vZ)(Dt,Gn.options)&&(0,ne.vZ)(At,Gn.config))return Gn;throw Kt.create("duplicate-app",{appName:fn})}const xt=new V.H0(fn);for(const pt of fr.values())xt.addComponent(pt);const tt=new ns(Dt,At,xt);return ft.set(fn,tt),tt}function Le(Dt=Qn){const ot=ft.get(Dt);if(!ot)throw Kt.create("no-app",{appName:Dt});return ot}function yn(){return Array.from(ft.values())}function Jn(Dt){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(Dt){const ot=Dt.name;ft.has(ot)&&(ft.delete(ot),yield Promise.all(Dt.container.getProviders().map(At=>At.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function Tn(Dt,ot,At){var fn;let Gn=null!==(fn=ht[Dt])&&void 0!==fn?fn:Dt;At&&(Gn+=`-${At}`);const xt=Gn.match(/\s|\//),tt=ot.match(/\s|\//);if(xt||tt){const pt=[`Unable to register library "${Gn}" with version "${ot}":`];return xt&&pt.push(`library name "${Gn}" contains illegal characters (whitespace or "/")`),xt&&tt&&pt.push("and"),tt&&pt.push(`version name "${ot}" contains illegal characters (whitespace or "/")`),void se.warn(pt.join(" "))}Zt(new V.wA(`${Gn}-version`,()=>({library:Gn,version:ot}),"VERSION"))}function qt(Dt,ot){if(null!==Dt&&"function"!=typeof Dt)throw Kt.create("invalid-log-argument");(0,x.Am)(Dt,ot)}function Cn(Dt){(0,x.Ub)(Dt)}!function Ur(Dt){Zt(new V.wA("platform-logger",ot=>new ae(ot),"PRIVATE")),Tn(ue,"0.7.13",Dt),Tn(ue,"0.7.13","esm2017"),Tn("fire-js","")}("")},4859:(lt,Te,k)=>{"use strict";k.d(Te,{wA:()=>x,H0:()=>re});var c=k(5861),V=k(2090);class x{constructor(B,G,ee){this.name=B,this.instanceFactory=G,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ne="[DEFAULT]";class ae{constructor(B,G){this.name=B,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const G=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(G)){const ee=new V.BH;if(this.instancesDeferred.set(G,ee),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:G});Ge&&ee.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(G).promise}getImmediate(B){var G;const ee=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),Ge=null!==(G=null==B?void 0:B.optional)&&void 0!==G&&G;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Se){if(Ge)return null;throw Se}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ue(se){return"EAGER"===se.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ne})}catch(G){}for(const[G,ee]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(G);try{const Se=this.getOrInitializeService({instanceIdentifier:Ge});ee.resolve(Se)}catch(Se){}}}}clearInstance(B=ne){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,c.Z)(function*(){const G=Array.from(B.instances.values());yield Promise.all([...G.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...G.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ne){return this.instances.has(B)}getOptions(B=ne){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:G={}}=B,ee=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ee,options:G});for(const[Se,ke]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Se)&&ke.resolve(Ge);return Ge}onInit(B,G){var ee;const Ge=this.normalizeInstanceIdentifier(G),Se=null!==(ee=this.onInitCallbacks.get(Ge))&&void 0!==ee?ee:new Set;Se.add(B),this.onInitCallbacks.set(Ge,Se);const ke=this.instances.get(Ge);return ke&&B(ke,Ge),()=>{Se.delete(B)}}invokeOnInitCallbacks(B,G){const ee=this.onInitCallbacks.get(G);if(ee)for(const Ge of ee)try{Ge(B,G)}catch(Se){}}getOrInitializeService({instanceIdentifier:B,options:G={}}){let ee=this.instances.get(B);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(se=B,se===ne?void 0:se),options:G}),this.instances.set(B,ee),this.instancesOptions.set(B,G),this.invokeOnInitCallbacks(ee,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,ee)}catch(Ge){}var se;return ee||null}normalizeInstanceIdentifier(B=ne){return this.component?this.component.multipleInstances?B:ne:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const G=this.getProvider(B.name);if(G.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);G.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const G=new ae(B,this);return this.providers.set(B,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Te,k)=>{"use strict";k.d(Te,{in:()=>V,Yd:()=>ue,Ub:()=>re,Am:()=>se});const c=[];var V=(()=>{return(B=V||(V={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",V;var B})();const x={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ne=V.INFO,ae={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},he=(B,G,...ee)=>{if(G<B.logLevel)return;const Ge=(new Date).toISOString(),Se=ae[G];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Se](`[${Ge}]  ${B.name}:`,...ee)};class ue{constructor(G){this.name=G,this._logLevel=ne,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in V))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?x[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...G),this._logHandler(this,V.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...G),this._logHandler(this,V.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,V.INFO,...G),this._logHandler(this,V.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,V.WARN,...G),this._logHandler(this,V.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...G),this._logHandler(this,V.ERROR,...G)}}function re(B){c.forEach(G=>{G.setLogLevel(B)})}function se(B,G){for(const ee of c){let Ge=null;G&&G.level&&(Ge=x[G.level]),ee.userLogHandler=null===B?null:(Se,ke,...je)=>{const K=je.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch(fe){return null}}).filter(ie=>ie).join(" ");ke>=(null!=Ge?Ge:Se.logLevel)&&B({level:V[ke].toLowerCase(),message:K,args:je,type:Se.name})}}}},5861:(lt,Te,k)=>{"use strict";function c(x,ne,ae,he,ue,re,se){try{var B=x[re](se),G=B.value}catch(ee){return void ae(ee)}B.done?ne(G):Promise.resolve(G).then(he,ue)}function V(x){return function(){var ne=this,ae=arguments;return new Promise(function(he,ue){var re=x.apply(ne,ae);function se(G){c(re,he,ue,se,B,"next",G)}function B(G){c(re,he,ue,se,B,"throw",G)}se(void 0)})}}k.d(Te,{Z:()=>V})}},lt=>{lt(lt.s=4398)}]);